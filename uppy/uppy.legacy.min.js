"use strict";
(function(){var tte=Object.create;var hd=Object.defineProperty;var rte=Object.getOwnPropertyDescriptor;var nte=Object.getOwnPropertyNames;var ite=Object.getPrototypeOf,ate=Object.prototype.hasOwnProperty;var lI=function(t){return hd(t,"__esModule",{value:!0})};var cI=function(t,e){return function(){return t&&(e=t(t=0)),e}};var h=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},fI=function(t,e){for(var r in e)hd(t,r,{get:e[r],enumerable:!0})},pI=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=nte(e),a=0,o=i.length,u;a<o;a++)u=i[a],!ate.call(t,u)&&(r||u!=="default")&&hd(t,u,{get:function(s){return e[s]}.bind(null,u),enumerable:!(n=rte(e,u))||n.enumerable});return t},Nr=function(t,e){return pI(lI(hd(t!=null?tte(ite(t)):{},"default",!e&&t&&t.__esModule?{get:function(){return t.default},enumerable:!0}:{value:t,enumerable:!0})),t)},re=function(t){return function(e,r){return t&&t.get(e)||(r=pI(lI({}),e,1),t&&t.set(e,r),r)}}(typeof WeakMap!="undefined"?new WeakMap:0);var z=h(function(Tot,dI){function uo(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uo=function(r){return typeof r}:uo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},uo(t)}var vd=function(e){return e&&e.Math==Math&&e};dI.exports=vd((typeof globalThis=="undefined"?"undefined":uo(globalThis))=="object"&&globalThis)||vd((typeof window=="undefined"?"undefined":uo(window))=="object"&&window)||vd((typeof self=="undefined"?"undefined":uo(self))=="object"&&self)||vd((typeof global=="undefined"?"undefined":uo(global))=="object"&&global)||function(){return this}()||Function("return this")()});var ae=h(function(Aot,hI){hI.exports=function(t){try{return!!t()}catch(e){return!0}}});var Ee=h(function(Iot,vI){var ote=ae();vI.exports=!ote(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var le=h(function(kot,yI){var xl=Function.prototype.call;yI.exports=xl.bind?xl.bind(xl):function(){return xl.apply(xl,arguments)}});var Cl=h(function(bI){"use strict";var mI={}.propertyIsEnumerable,gI=Object.getOwnPropertyDescriptor,ute=gI&&!mI.call({1:2},1);bI.f=ute?function(e){var r=gI(this,e);return!!r&&r.enumerable}:mI});var sn=h(function(xot,_I){_I.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var ie=h(function(Cot,SI){var wI=Function.prototype,R0=wI.bind,q0=wI.call,ste=R0&&R0.bind(q0);SI.exports=R0?function(t){return t&&ste(q0,t)}:function(t){return t&&function(){return q0.apply(t,arguments)}}});var pr=h(function(Dot,PI){var OI=ie(),lte=OI({}.toString),cte=OI("".slice);PI.exports=function(t){return cte(lte(t),8,-1)}});var so=h(function(Uot,RI){var fte=z(),pte=ie(),dte=ae(),hte=pr(),E0=fte.Object,vte=pte("".split);RI.exports=dte(function(){return!E0("z").propertyIsEnumerable(0)})?function(t){return hte(t)=="String"?vte(t,""):E0(t)}:E0});var Et=h(function(jot,qI){var yte=z(),mte=yte.TypeError;qI.exports=function(t){if(t==null)throw mte("Can't call method on "+t);return t}});var Qt=h(function(Mot,EI){var gte=so(),bte=Et();EI.exports=function(t){return gte(bte(t))}});var Te=h(function(Not,TI){TI.exports=function(t){return typeof t=="function"}});var _e=h(function(Bot,AI){function yd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yd=function(r){return typeof r}:yd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yd(t)}var _te=Te();AI.exports=function(t){return yd(t)=="object"?t!==null:_te(t)}});var Fe=h(function(Lot,II){var T0=z(),wte=Te(),Ste=function(e){return wte(e)?e:void 0};II.exports=function(t,e){return arguments.length<2?Ste(T0[t]):T0[t]&&T0[t][e]}});var Zt=h(function(zot,kI){var Ote=ie();kI.exports=Ote({}.isPrototypeOf)});var li=h(function($ot,FI){var Pte=Fe();FI.exports=Pte("navigator","userAgent")||""});var lo=h(function(Hot,MI){var xI=z(),A0=li(),CI=xI.process,DI=xI.Deno,UI=CI&&CI.versions||DI&&DI.version,jI=UI&&UI.v8,ln,md;jI&&(ln=jI.split("."),md=ln[0]>0&&ln[0]<4?1:+(ln[0]+ln[1]));!md&&A0&&(ln=A0.match(/Edge\/(\d+)/),(!ln||ln[1]>=74)&&(ln=A0.match(/Chrome\/(\d+)/),ln&&(md=+ln[1])));MI.exports=md});var gd=h(function(Wot,BI){var NI=lo(),Rte=ae();BI.exports=!!Object.getOwnPropertySymbols&&!Rte(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&NI&&NI<41})});var I0=h(function(Vot,LI){function bd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bd=function(r){return typeof r}:bd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bd(t)}var qte=gd();LI.exports=qte&&!Symbol.sham&&bd(Symbol.iterator)=="symbol"});var xu=h(function(Got,zI){function _d(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_d=function(r){return typeof r}:_d=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_d(t)}var Ete=z(),Tte=Fe(),Ate=Te(),Ite=Zt(),kte=I0(),Fte=Ete.Object;zI.exports=kte?function(t){return _d(t)=="symbol"}:function(t){var e=Tte("Symbol");return Ate(e)&&Ite(e.prototype,Fte(t))}});var Cu=h(function(Kot,$I){var xte=z(),Cte=xte.String;$I.exports=function(t){try{return Cte(t)}catch(e){return"Object"}}});var pe=h(function(Yot,HI){var Dte=z(),Ute=Te(),jte=Cu(),Mte=Dte.TypeError;HI.exports=function(t){if(Ute(t))return t;throw Mte(jte(t)+" is not a function")}});var xt=h(function(Xot,WI){var Nte=pe();WI.exports=function(t,e){var r=t[e];return r==null?void 0:Nte(r)}});var C0=h(function(Jot,VI){var Bte=z(),k0=le(),F0=Te(),x0=_e(),Lte=Bte.TypeError;VI.exports=function(t,e){var r,n;if(e==="string"&&F0(r=t.toString)&&!x0(n=k0(r,t))||F0(r=t.valueOf)&&!x0(n=k0(r,t))||e!=="string"&&F0(r=t.toString)&&!x0(n=k0(r,t)))return n;throw Lte("Can't convert object to primitive value")}});var de=h(function(Qot,GI){GI.exports=!1});var wd=h(function(Zot,YI){var KI=z(),zte=Object.defineProperty;YI.exports=function(t,e){try{zte(KI,t,{value:e,configurable:!0,writable:!0})}catch(r){KI[t]=e}return e}});var Dl=h(function(eut,JI){var $te=z(),Hte=wd(),XI="__core-js_shared__",Wte=$te[XI]||Hte(XI,{});JI.exports=Wte});var Du=h(function(tut,ZI){var Vte=de(),QI=Dl();(ZI.exports=function(t,e){return QI[t]||(QI[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.19.3",mode:Vte?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})});var xe=h(function(rut,e2){var Gte=z(),Kte=Et(),Yte=Gte.Object;e2.exports=function(t){return Yte(Kte(t))}});var Le=h(function(nut,t2){var Xte=ie(),Jte=xe(),Qte=Xte({}.hasOwnProperty);t2.exports=Object.hasOwn||function(e,r){return Qte(Jte(e),r)}});var Uu=h(function(iut,r2){var Zte=ie(),ere=0,tre=Math.random(),rre=Zte(1 .toString);r2.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+rre(++ere+tre,36)}});var ge=h(function(aut,u2){var nre=z(),ire=Du(),n2=Le(),are=Uu(),i2=gd(),a2=I0(),ju=ire("wks"),co=nre.Symbol,o2=co&&co.for,ore=a2?co:co&&co.withoutSetter||are;u2.exports=function(t){if(!n2(ju,t)||!(i2||typeof ju[t]=="string")){var e="Symbol."+t;i2&&n2(co,t)?ju[t]=co[t]:a2&&o2?ju[t]=o2(e):ju[t]=ore(e)}return ju[t]}});var D0=h(function(out,c2){var ure=z(),sre=le(),s2=_e(),l2=xu(),lre=xt(),cre=C0(),fre=ge(),pre=ure.TypeError,dre=fre("toPrimitive");c2.exports=function(t,e){if(!s2(t)||l2(t))return t;var r=lre(t,dre),n;if(r){if(e===void 0&&(e="default"),n=sre(r,t,e),!s2(n)||l2(n))return n;throw pre("Can't convert object to primitive value")}return e===void 0&&(e="number"),cre(t,e)}});var ci=h(function(uut,f2){var hre=D0(),vre=xu();f2.exports=function(t){var e=hre(t,"string");return vre(e)?e:e+""}});var Ul=h(function(sut,d2){var yre=z(),p2=_e(),U0=yre.document,mre=p2(U0)&&p2(U0.createElement);d2.exports=function(t){return mre?U0.createElement(t):{}}});var j0=h(function(lut,h2){var gre=Ee(),bre=ae(),_re=Ul();h2.exports=!gre&&!bre(function(){return Object.defineProperty(_re("div"),"a",{get:function(){return 7}}).a!=7})});var Ct=h(function(y2){var wre=Ee(),Sre=le(),Ore=Cl(),Pre=sn(),Rre=Qt(),qre=ci(),Ere=Le(),Tre=j0(),v2=Object.getOwnPropertyDescriptor;y2.f=wre?v2:function(e,r){if(e=Rre(e),r=qre(r),Tre)try{return v2(e,r)}catch(n){}if(Ere(e,r))return Pre(!Sre(Ore.f,e,r),e[r])}});var V=h(function(fut,g2){var m2=z(),Are=_e(),Ire=m2.String,kre=m2.TypeError;g2.exports=function(t){if(Are(t))return t;throw kre(Ire(t)+" is not an object")}});var Ne=h(function(w2){var Fre=z(),xre=Ee(),Cre=j0(),b2=V(),Dre=ci(),Ure=Fre.TypeError,_2=Object.defineProperty;w2.f=xre?_2:function(e,r,n){if(b2(e),r=Dre(r),b2(n),Cre)try{return _2(e,r,n)}catch(i){}if("get"in n||"set"in n)throw Ure("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var Tt=h(function(dut,S2){var jre=Ee(),Mre=Ne(),Nre=sn();S2.exports=jre?function(t,e,r){return Mre.f(t,e,Nre(1,r))}:function(t,e,r){return t[e]=r,t}});var jl=h(function(hut,O2){var Bre=ie(),Lre=Te(),M0=Dl(),zre=Bre(Function.toString);Lre(M0.inspectSource)||(M0.inspectSource=function(t){return zre(t)});O2.exports=M0.inspectSource});var N0=h(function(vut,R2){var $re=z(),Hre=Te(),Wre=jl(),P2=$re.WeakMap;R2.exports=Hre(P2)&&/native code/.test(Wre(P2))});var Ml=h(function(yut,E2){var Vre=Du(),Gre=Uu(),q2=Vre("keys");E2.exports=function(t){return q2[t]||(q2[t]=Gre(t))}});var Mu=h(function(mut,T2){T2.exports={}});var Ve=h(function(gut,x2){var Kre=N0(),A2=z(),B0=ie(),Yre=_e(),Xre=Tt(),L0=Le(),z0=Dl(),Jre=Ml(),Qre=Mu(),I2="Object already initialized",$0=A2.TypeError,Zre=A2.WeakMap,Sd,Nl,Od,ene=function(e){return Od(e)?Nl(e):Sd(e,{})},tne=function(e){return function(r){var n;if(!Yre(r)||(n=Nl(r)).type!==e)throw $0("Incompatible receiver, "+e+" required");return n}};Kre||z0.state?(ca=z0.state||(z0.state=new Zre),k2=B0(ca.get),H0=B0(ca.has),F2=B0(ca.set),Sd=function(e,r){if(H0(ca,e))throw new $0(I2);return r.facade=e,F2(ca,e,r),r},Nl=function(e){return k2(ca,e)||{}},Od=function(e){return H0(ca,e)}):(fo=Jre("state"),Qre[fo]=!0,Sd=function(e,r){if(L0(e,fo))throw new $0(I2);return r.facade=e,Xre(e,fo,r),r},Nl=function(e){return L0(e,fo)?e[fo]:{}},Od=function(e){return L0(e,fo)});var ca,k2,H0,F2,fo;x2.exports={set:Sd,get:Nl,has:Od,enforce:ene,getterFor:tne}});var fa=h(function(but,D2){var W0=Ee(),rne=Le(),C2=Function.prototype,nne=W0&&Object.getOwnPropertyDescriptor,V0=rne(C2,"name"),ine=V0&&function(){}.name==="something",ane=V0&&(!W0||W0&&nne(C2,"name").configurable);D2.exports={EXISTS:V0,PROPER:ine,CONFIGURABLE:ane}});var ct=h(function(_ut,N2){var one=z(),U2=Te(),une=Le(),j2=Tt(),sne=wd(),lne=jl(),M2=Ve(),cne=fa().CONFIGURABLE,fne=M2.get,pne=M2.enforce,dne=String(String).split("String");(N2.exports=function(t,e,r,n){var i=n?!!n.unsafe:!1,a=n?!!n.enumerable:!1,o=n?!!n.noTargetGet:!1,u=n&&n.name!==void 0?n.name:e,s;if(U2(r)&&(String(u).slice(0,7)==="Symbol("&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!une(r,"name")||cne&&r.name!==u)&&j2(r,"name",u),s=pne(r),s.source||(s.source=dne.join(typeof u=="string"?u:""))),t===one){a?t[e]=r:sne(e,r);return}else i?!o&&t[e]&&(a=!0):delete t[e];a?t[e]=r:j2(t,e,r)})(Function.prototype,"toString",function(){return U2(this)&&fne(this).source||lne(this)})});var Gt=h(function(wut,B2){var hne=Math.ceil,vne=Math.floor;B2.exports=function(t){var e=+t;return e!==e||e===0?0:(e>0?vne:hne)(e)}});var fi=h(function(Sut,L2){var yne=Gt(),mne=Math.max,gne=Math.min;L2.exports=function(t,e){var r=yne(t);return r<0?mne(r+e,0):gne(r,e)}});var Or=h(function(Out,z2){var bne=Gt(),_ne=Math.min;z2.exports=function(t){return t>0?_ne(bne(t),9007199254740991):0}});var Ge=h(function(Put,$2){var wne=Or();$2.exports=function(t){return wne(t.length)}});var Bl=h(function(Rut,W2){var Sne=Qt(),One=fi(),Pne=Ge(),H2=function(e){return function(r,n,i){var a=Sne(r),o=Pne(a),u=One(i,o),s;if(e&&n!=n){for(;o>u;)if(s=a[u++],s!=s)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};W2.exports={includes:H2(!0),indexOf:H2(!1)}});var K0=h(function(qut,G2){var Rne=ie(),G0=Le(),qne=Qt(),Ene=Bl().indexOf,Tne=Mu(),V2=Rne([].push);G2.exports=function(t,e){var r=qne(t),n=0,i=[],a;for(a in r)!G0(Tne,a)&&G0(r,a)&&V2(i,a);for(;e.length>n;)G0(r,a=e[n++])&&(~Ene(i,a)||V2(i,a));return i}});var Pd=h(function(Eut,K2){K2.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var pi=h(function(Y2){var Ane=K0(),Ine=Pd(),kne=Ine.concat("length","prototype");Y2.f=Object.getOwnPropertyNames||function(e){return Ane(e,kne)}});var Rd=h(function(X2){X2.f=Object.getOwnPropertySymbols});var qd=h(function(Iut,J2){var Fne=Fe(),xne=ie(),Cne=pi(),Dne=Rd(),Une=V(),jne=xne([].concat);J2.exports=Fne("Reflect","ownKeys")||function(e){var r=Cne.f(Une(e)),n=Dne.f;return n?jne(r,n(e)):r}});var Ed=h(function(kut,Q2){var Mne=Le(),Nne=qd(),Bne=Ct(),Lne=Ne();Q2.exports=function(t,e){for(var r=Nne(e),n=Lne.f,i=Bne.f,a=0;a<r.length;a++){var o=r[a];Mne(t,o)||n(t,o,i(e,o))}}});var Nu=h(function(Fut,Z2){var zne=ae(),$ne=Te(),Hne=/#|\.prototype\./,Ll=function(e,r){var n=Vne[Wne(e)];return n==Kne?!0:n==Gne?!1:$ne(r)?zne(r):!!r},Wne=Ll.normalize=function(t){return String(t).replace(Hne,".").toLowerCase()},Vne=Ll.data={},Gne=Ll.NATIVE="N",Kne=Ll.POLYFILL="P";Z2.exports=Ll});var P=h(function(xut,ek){function zl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zl=function(r){return typeof r}:zl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zl(t)}var Y0=z(),Yne=Ct().f,Xne=Tt(),Jne=ct(),Qne=wd(),Zne=Ed(),eie=Nu();ek.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,a,o,u,s,l,c;if(n?o=Y0:i?o=Y0[r]||Qne(r,{}):o=(Y0[r]||{}).prototype,o)for(u in e){if(l=e[u],t.noTargetGet?(c=Yne(o,u),s=c&&c.value):s=o[u],a=eie(n?u:r+(i?".":"#")+u,t.forced),!a&&s!==void 0){if(zl(l)==zl(s))continue;Zne(l,s)}(t.sham||s&&s.sham)&&Xne(l,"sham",!0),Jne(o,u,l,t)}}});var Ke=h(function(Cut,nk){function Td(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Td=function(r){return typeof r}:Td=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Td(t)}var X0=Function.prototype,tk=X0.apply,tie=X0.bind,rk=X0.call;nk.exports=(typeof Reflect=="undefined"?"undefined":Td(Reflect))=="object"&&Reflect.apply||(tie?rk.bind(tk):function(){return rk.apply(tk,arguments)})});var po=h(function(Dut,ik){var rie=pr();ik.exports=Array.isArray||function(e){return rie(e)=="Array"}});var Ad=h(function(Uut,ok){var nie=ge(),iie=nie("toStringTag"),ak={};ak[iie]="z";ok.exports=String(ak)==="[object z]"});var pa=h(function(jut,uk){var aie=z(),oie=Ad(),uie=Te(),Id=pr(),sie=ge(),lie=sie("toStringTag"),cie=aie.Object,fie=Id(function(){return arguments}())=="Arguments",pie=function(e,r){try{return e[r]}catch(n){}};uk.exports=oie?Id:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=pie(e=cie(t),lie))=="string"?r:fie?Id(e):(n=Id(e))=="Object"&&uie(e.callee)?"Arguments":n}});var Be=h(function(Mut,sk){var die=z(),hie=pa(),vie=die.String;sk.exports=function(t){if(hie(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return vie(t)}});var ho=h(function(Nut,lk){var yie=K0(),mie=Pd();lk.exports=Object.keys||function(e){return yie(e,mie)}});var kd=h(function(But,ck){var gie=Ee(),bie=Ne(),_ie=V(),wie=Qt(),Sie=ho();ck.exports=gie?Object.defineProperties:function(e,r){_ie(e);for(var n=wie(r),i=Sie(r),a=i.length,o=0,u;a>o;)bie.f(e,u=i[o++],n[u]);return e}});var J0=h(function(Lut,fk){var Oie=Fe();fk.exports=Oie("document","documentElement")});var Dt=h(function(zut,gk){var Pie=V(),Rie=kd(),pk=Pd(),qie=Mu(),Eie=J0(),Tie=Ul(),Aie=Ml(),dk=">",hk="<",Q0="prototype",Z0="script",vk=Aie("IE_PROTO"),e_=function(){},yk=function(e){return hk+Z0+dk+e+hk+"/"+Z0+dk},mk=function(e){e.write(yk("")),e.close();var r=e.parentWindow.Object;return e=null,r},Iie=function(){var e=Tie("iframe"),r="java"+Z0+":",n;return e.style.display="none",Eie.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(yk("document.F=Object")),n.close(),n.F},Fd,xd=function(){try{Fd=new ActiveXObject("htmlfile")}catch(r){}xd=typeof document!="undefined"?document.domain&&Fd?mk(Fd):Iie():mk(Fd);for(var e=pk.length;e--;)delete xd[Q0][pk[e]];return xd()};qie[vk]=!0;gk.exports=Object.create||function(e,r){var n;return e!==null?(e_[Q0]=Pie(e),n=new e_,e_[Q0]=null,n[vk]=e):n=xd(),r===void 0?n:Rie(n,r)}});var di=h(function($ut,bk){"use strict";var kie=ci(),Fie=Ne(),xie=sn();bk.exports=function(t,e,r){var n=kie(e);n in t?Fie.f(t,n,xie(0,r)):t[n]=r}});var vo=h(function(Hut,wk){var Cie=z(),_k=fi(),Die=Ge(),Uie=di(),jie=Cie.Array,Mie=Math.max;wk.exports=function(t,e,r){for(var n=Die(t),i=_k(e,n),a=_k(r===void 0?n:r,n),o=jie(Mie(a-i,0)),u=0;i<a;i++,u++)Uie(o,u,t[i]);return o.length=u,o}});var Dd=h(function(Wut,Pk){function Cd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cd=function(r){return typeof r}:Cd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cd(t)}var Nie=pr(),Bie=Qt(),Sk=pi().f,Lie=vo(),Ok=(typeof window=="undefined"?"undefined":Cd(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zie=function(e){try{return Sk(e)}catch(r){return Lie(Ok)}};Pk.exports.f=function(e){return Ok&&Nie(e)=="Window"?zie(e):Sk(Bie(e))}});var da=h(function(Vut,Rk){var $ie=ie();Rk.exports=$ie([].slice)});var t_=h(function(qk){var Hie=ge();qk.f=Hie});var Tk=h(function(Kut,Ek){var Wie=z();Ek.exports=Wie});var at=h(function(Yut,Ik){var Ak=Tk(),Vie=Le(),Gie=t_(),Kie=Ne().f;Ik.exports=function(t){var e=Ak.Symbol||(Ak.Symbol={});Vie(e,t)||Kie(e,t,{value:Gie.f(t)})}});var Br=h(function(Xut,Fk){var Yie=Ne().f,Xie=Le(),Jie=ge(),kk=Jie("toStringTag");Fk.exports=function(t,e,r){t&&!Xie(t=r?t:t.prototype,kk)&&Yie(t,kk,{configurable:!0,value:e})}});var Ye=h(function(Jut,Dk){var xk=ie(),Qie=pe(),Ck=xk(xk.bind);Dk.exports=function(t,e){return Qie(t),e===void 0?t:Ck?Ck(t,e):function(){return t.apply(e,arguments)}}});var yo=h(function(Qut,Nk){var Zie=ie(),eae=ae(),Uk=Te(),tae=pa(),rae=Fe(),nae=jl(),jk=function(){},iae=[],Mk=rae("Reflect","construct"),r_=/^\s*(?:class|function)\b/,aae=Zie(r_.exec),oae=!r_.exec(jk),$l=function(e){if(!Uk(e))return!1;try{return Mk(jk,iae,e),!0}catch(r){return!1}},uae=function(e){if(!Uk(e))return!1;switch(tae(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return oae||!!aae(r_,nae(e))};Nk.exports=!Mk||eae(function(){var t;return $l($l.call)||!$l(Object)||!$l(function(){t=!0})||t})?uae:$l});var $k=h(function(Zut,zk){var sae=z(),Bk=po(),lae=yo(),cae=_e(),fae=ge(),pae=fae("species"),Lk=sae.Array;zk.exports=function(t){var e;return Bk(t)&&(e=t.constructor,lae(e)&&(e===Lk||Bk(e.prototype))?e=void 0:cae(e)&&(e=e[pae],e===null&&(e=void 0))),e===void 0?Lk:e}});var mo=h(function(est,Hk){var dae=$k();Hk.exports=function(t,e){return new(dae(t))(e===0?0:e)}});var At=h(function(tst,Vk){var hae=Ye(),vae=ie(),yae=so(),mae=xe(),gae=Ge(),bae=mo(),Wk=vae([].push),ha=function(e){var r=e==1,n=e==2,i=e==3,a=e==4,o=e==6,u=e==7,s=e==5||o;return function(l,c,f,p){for(var d=mae(l),v=yae(d),m=hae(c,f),g=gae(v),w=0,_=p||bae,O=r?_(l,g):n||u?_(l,0):void 0,T,C;g>w;w++)if((s||w in v)&&(T=v[w],C=m(T,w,d),e))if(r)O[w]=C;else if(C)switch(e){case 3:return!0;case 5:return T;case 6:return w;case 2:Wk(O,T)}else switch(e){case 4:return!1;case 7:Wk(O,T)}return o?-1:i||a?a:O}};Vk.exports={forEach:ha(0),map:ha(1),filter:ha(2),some:ha(3),every:ha(4),find:ha(5),findIndex:ha(6),filterReject:ha(7)}});var zd=h(function(rst,_F){var uoe=ae();_F.exports=!uoe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Ut=h(function(nst,SF){var soe=z(),loe=Le(),coe=Te(),foe=xe(),poe=Ml(),doe=zd(),wF=poe("IE_PROTO"),b_=soe.Object,hoe=b_.prototype;SF.exports=doe?b_.getPrototypeOf:function(t){var e=foe(t);if(loe(e,wF))return e[wF];var r=e.constructor;return coe(r)&&e instanceof r?r.prototype:e instanceof b_?hoe:null}});var __=h(function(ist,PF){function $d(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$d=function(r){return typeof r}:$d=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$d(t)}var OF=z(),voe=Te(),yoe=OF.String,moe=OF.TypeError;PF.exports=function(t){if($d(t)=="object"||voe(t))return t;throw moe("Can't set "+yoe(t)+" as a prototype")}});var mi=h(function(ast,RF){var goe=ie(),boe=V(),_oe=__();RF.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=goe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return function(i,a){return boe(i),_oe(a),t?r(i,a):i.__proto__=a,i}}():void 0)});var TF=h(function(ost,EF){var w_=ie(),woe=vo(),Soe=w_("".replace),Ooe=w_("".split),Poe=w_([].join),S_=function(t){return String(Error(t).stack)}("zxcasd"),qF=/\n\s*at [^:]*:[^\n]*/,Roe=qF.test(S_),qoe=/@[^\n]*\n/.test(S_)&&!/zxcasd/.test(S_);EF.exports=function(t,e){if(typeof t!="string")return t;if(Roe)for(;e--;)t=Soe(t,qF,"");else if(qoe)return Poe(woe(Ooe(t,"\n"),e),"\n");return t}});var IF=h(function(ust,AF){var Eoe=_e(),Toe=Tt();AF.exports=function(t,e){Eoe(e)&&"cause"in e&&Toe(t,"cause",e.cause)}});var zu=h(function(sst,kF){kF.exports={}});var Hd=h(function(lst,FF){var Aoe=ge(),Ioe=zu(),koe=Aoe("iterator"),Foe=Array.prototype;FF.exports=function(t){return t!==void 0&&(Ioe.Array===t||Foe[koe]===t)}});var gi=h(function(cst,CF){var xoe=pa(),xF=xt(),Coe=zu(),Doe=ge(),Uoe=Doe("iterator");CF.exports=function(t){if(t!=null)return xF(t,Uoe)||xF(t,"@@iterator")||Coe[xoe(t)]}});var cn=h(function(fst,DF){var joe=z(),Moe=le(),Noe=pe(),Boe=V(),Loe=Cu(),zoe=gi(),$oe=joe.TypeError;DF.exports=function(t,e){var r=arguments.length<2?zoe(t):e;if(Noe(r))return Boe(Moe(r,t));throw $oe(Loe(t)+" is not iterable")}});var Jl=h(function(pst,jF){var Hoe=le(),UF=V(),Woe=xt();jF.exports=function(t,e,r){var n,i;UF(t);try{if(n=Woe(t,"return"),!n){if(e==="throw")throw r;return r}n=Hoe(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return UF(n),r}});var ye=h(function(dst,LF){function Wd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wd=function(r){return typeof r}:Wd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wd(t)}var Voe=z(),Goe=Ye(),Koe=le(),Yoe=V(),Xoe=Cu(),Joe=Hd(),Qoe=Ge(),MF=Zt(),Zoe=cn(),eue=gi(),NF=Jl(),tue=Voe.TypeError,Vd=function(e,r){this.stopped=e,this.result=r},BF=Vd.prototype;LF.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),u=Goe(e,n),s,l,c,f,p,d,v,m=function(_){return s&&NF(s,"normal",_),new Vd(!0,_)},g=function(_){return i?(Yoe(_),o?u(_[0],_[1],m):u(_[0],_[1])):o?u(_,m):u(_)};if(a)s=t;else{if(l=eue(t),!l)throw tue(Xoe(t)+" is not iterable");if(Joe(l)){for(c=0,f=Qoe(t);f>c;c++)if(p=g(t[c]),p&&MF(BF,p))return p;return new Vd(!1)}s=Zoe(t,l)}for(d=s.next;!(v=Koe(d,s)).done;){try{p=g(v.value)}catch(w){NF(s,"throw",w)}if(Wd(p)=="object"&&p&&MF(BF,p))return p}return new Vd(!1)}});var $F=h(function(hst,zF){var rue=Be();zF.exports=function(t,e){return t===void 0?arguments.length<2?"":e:rue(t)}});var WF=h(function(vst,HF){var nue=ae(),iue=sn();HF.exports=!nue(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",iue(1,7)),t.stack!==7):!0})});var R_=h(function(){"use strict";var aue=P(),oue=z(),uue=Zt(),sue=Ut(),Gd=mi(),lue=Ed(),VF=Dt(),Kd=Tt(),O_=sn(),cue=TF(),fue=IF(),pue=ye(),due=$F(),hue=ge(),vue=WF(),yue=hue("toStringTag"),Yd=oue.Error,mue=[].push,Ql=function(e,r){var n=arguments.length>2?arguments[2]:void 0,i=uue(P_,this),a;Gd?a=Gd(new Yd(void 0),i?sue(this):P_):(a=i?this:VF(P_),Kd(a,yue,"Error")),Kd(a,"message",due(r,"")),vue&&Kd(a,"stack",cue(a.stack,1)),fue(a,n);var o=[];return pue(e,mue,{that:o}),Kd(a,"errors",o),a};Gd?Gd(Ql,Yd):lue(Ql,Yd);var P_=Ql.prototype=VF(Yd.prototype,{constructor:O_(1,Ql),message:O_(1,""),name:O_(1,"AggregateError")});aue({global:!0},{AggregateError:Ql})});var $u=h(function(gst,GF){var gue=ae(),bue=ge(),_ue=lo(),wue=bue("species");GF.exports=function(t){return _ue>=51||!gue(function(){var e=[],r=e.constructor={};return r[wue]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var E_=h(function(bst,ZF){"use strict";var jue=xe(),q_=fi(),Mue=Ge(),Nue=Math.min;ZF.exports=[].copyWithin||function(e,r){var n=jue(this),i=Mue(n),a=q_(e,i),o=q_(r,i),u=arguments.length>2?arguments[2]:void 0,s=Nue((u===void 0?i:q_(u,i))-o,i-a),l=1;for(o<a&&a<o+s&&(l=-1,o+=s-1,a+=s-1);s-- >0;)o in n?n[a]=n[o]:delete n[a],a+=l,o+=l;return n}});var Kt=h(function(_st,ex){var Bue=ge(),Lue=Dt(),zue=Ne(),T_=Bue("unscopables"),A_=Array.prototype;A_[T_]==null&&zue.f(A_,T_,{configurable:!0,value:Lue(null)});ex.exports=function(t){A_[T_][t]=!0}});var Xd=h(function(wst,rx){"use strict";var Vue=xe(),tx=fi(),Gue=Ge();rx.exports=function(e){for(var r=Vue(this),n=Gue(r),i=arguments.length,a=tx(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,u=o===void 0?n:tx(o,n);u>a;)r[a++]=e;return r}});var F_=h(function(Sst,ax){"use strict";var use=z(),sse=po(),lse=Ge(),cse=Ye(),fse=use.TypeError,pse=function t(e,r,n,i,a,o,u,s){for(var l=a,c=0,f=u?cse(u,s):!1,p,d;c<i;){if(c in n){if(p=f?f(n[c],c,r):n[c],o>0&&sse(p))d=lse(p),l=t(e,r,p,d,l,o-1)-1;else{if(l>=9007199254740991)throw fse("Exceed the acceptable array length");e[l]=p}l++}c++}return l};ax.exports=pse});var Jd=h(function(Ost,ox){var Rse=V(),qse=Jl();ox.exports=function(t,e,r,n){try{return n?e(Rse(r)[0],r[1]):e(r)}catch(i){qse(t,"throw",i)}}});var x_=h(function(Pst,lx){"use strict";var Ese=z(),Tse=Ye(),Ase=le(),Ise=xe(),kse=Jd(),Fse=Hd(),xse=yo(),Cse=Ge(),ux=di(),Dse=cn(),Use=gi(),sx=Ese.Array;lx.exports=function(e){var r=Ise(e),n=xse(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=Tse(a,i>2?arguments[2]:void 0));var u=Use(r),s=0,l,c,f,p,d,v;if(u&&!(this==sx&&Fse(u)))for(p=Dse(r,u),d=p.next,c=n?new this:[];!(f=Ase(d,p)).done;s++)v=o?kse(p,a,[f.value,s],!0):f.value,ux(c,s,v);else for(l=Cse(r),c=n?new this(l):sx(l);l>s;s++)v=o?a(r[s],s):r[s],ux(c,s,v);return c.length=s,c}});var Zl=h(function(Rst,dx){var jse=ge(),cx=jse("iterator"),fx=!1;try{px=0,C_={next:function(){return{done:!!px++}},return:function(){fx=!0}},C_[cx]=function(){return this},Array.from(C_,function(){throw 2})}catch(t){}var px,C_;dx.exports=function(t,e){if(!e&&!fx)return!1;var r=!1;try{var n={};n[cx]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(i){}return r}});var Hu=h(function(qst,yx){"use strict";var Wse=ae(),Vse=Te(),Gse=Dt(),hx=Ut(),Kse=ct(),Yse=ge(),Xse=de(),D_=Yse("iterator"),vx=!1,bi,U_,j_;[].keys&&(j_=[].keys(),"next"in j_?(U_=hx(hx(j_)),U_!==Object.prototype&&(bi=U_)):vx=!0);var Jse=bi==null||Wse(function(){var t={};return bi[D_].call(t)!==t});Jse?bi={}:Xse&&(bi=Gse(bi));Vse(bi[D_])||Kse(bi,D_,function(){return this});yx.exports={IteratorPrototype:bi,BUGGY_SAFARI_ITERATORS:vx}});var ma=h(function(Est,mx){"use strict";var Qse=Hu().IteratorPrototype,Zse=Dt(),ele=sn(),tle=Br(),rle=zu(),nle=function(){return this};mx.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Zse(Qse,{next:ele(+!n,r)}),tle(t,i,!1,!0),rle[i]=nle,t}});var eh=h(function(Tst,Ex){"use strict";var ile=P(),ale=le(),Qd=de(),gx=fa(),ole=Te(),ule=ma(),bx=Ut(),_x=mi(),sle=Br(),lle=Tt(),M_=ct(),cle=ge(),wx=zu(),Sx=Hu(),fle=gx.PROPER,ple=gx.CONFIGURABLE,Ox=Sx.IteratorPrototype,Zd=Sx.BUGGY_SAFARI_ITERATORS,ec=cle("iterator"),Px="keys",tc="values",Rx="entries",qx=function(){return this};Ex.exports=function(t,e,r,n,i,a,o){ule(r,e,n);var u=function(_){if(_===i&&p)return p;if(!Zd&&_ in c)return c[_];switch(_){case Px:return function(){return new r(this,_)};case tc:return function(){return new r(this,_)};case Rx:return function(){return new r(this,_)}}return function(){return new r(this)}},s=e+" Iterator",l=!1,c=t.prototype,f=c[ec]||c["@@iterator"]||i&&c[i],p=!Zd&&f||u(i),d=e=="Array"&&c.entries||f,v,m,g;if(d&&(v=bx(d.call(new t)),v!==Object.prototype&&v.next&&(!Qd&&bx(v)!==Ox&&(_x?_x(v,Ox):ole(v[ec])||M_(v,ec,qx)),sle(v,s,!0,!0),Qd&&(wx[s]=qx))),fle&&i==tc&&f&&f.name!==tc&&(!Qd&&ple?lle(c,"name",tc):(l=!0,p=function(){return ale(f,this)})),i)if(m={values:u(tc),keys:a?p:u(Px),entries:u(Rx)},o)for(g in m)(Zd||l||!(g in c))&&M_(c,g,m[g]);else ile({target:e,proto:!0,forced:Zd||l},m);return(!Qd||o)&&c[ec]!==p&&M_(c,ec,p,{name:i}),wx[e]=p,m}});var rc=h(function(Ast,kx){"use strict";var dle=Qt(),N_=Kt(),Tx=zu(),Ax=Ve(),hle=eh(),Ix="Array Iterator",vle=Ax.set,yle=Ax.getterFor(Ix);kx.exports=hle(Array,"Array",function(t,e){vle(this,{type:Ix,target:dle(t),index:0,kind:e})},function(){var t=yle(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");Tx.Arguments=Tx.Array;N_("keys");N_("values");N_("entries")});var nc=h(function(Ist,Fx){"use strict";var mle=ae();Fx.exports=function(t,e){var r=[][t];return!!r&&mle(function(){r.call(null,e||function(){throw 1},1)})}});var th=h(function(kst,jx){var Ux=vo(),Yle=Math.floor,Xle=function t(e,r){var n=e.length,i=Yle(n/2);return n<8?Jle(e,r):Qle(e,t(Ux(e,0,i),r),t(Ux(e,i),r),r)},Jle=function(e,r){for(var n=e.length,i=1,a,o;i<n;){for(o=i,a=e[i];o&&r(e[o-1],a)>0;)e[o]=e[--o];o!==i++&&(e[o]=a)}return e},Qle=function(e,r,n,i){for(var a=r.length,o=n.length,u=0,s=0;u<a||s<o;)e[u+s]=u<a&&s<o?i(r[u],n[s])<=0?r[u++]:n[s++]:u<a?r[u++]:n[s++];return e};jx.exports=Xle});var L_=h(function(Fst,Nx){var Zle=li(),Mx=Zle.match(/firefox\/(\d+)/i);Nx.exports=!!Mx&&+Mx[1]});var z_=h(function(xst,Bx){var ece=li();Bx.exports=/MSIE|Trident/.test(ece)});var rh=h(function(Cst,zx){var tce=li(),Lx=tce.match(/AppleWebKit\/(\d+)\./);zx.exports=!!Lx&&+Lx[1]});var ba=h(function(Dst,Jx){"use strict";var vce=Fe(),yce=Ne(),mce=ge(),gce=Ee(),Xx=mce("species");Jx.exports=function(t){var e=vce(t),r=yce.f;gce&&e&&!e[Xx]&&r(e,Xx,{configurable:!0,get:function(){return this}})}});var H_=h(function(Ust,Qx){Qx.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var fn=h(function(jst,Zx){var jce=ct();Zx.exports=function(t,e,r){for(var n in e)jce(t,n,e[n],r);return t}});var zr=h(function(Mst,eC){var Mce=z(),Nce=Zt(),Bce=Mce.TypeError;eC.exports=function(t,e){if(Nce(e,t))return t;throw Bce("Incorrect invocation")}});var W_=h(function(Nst,tC){var Lce=z(),zce=Gt(),$ce=Or(),Hce=Lce.RangeError;tC.exports=function(t){if(t===void 0)return 0;var e=zce(t),r=$ce(e);if(e!==r)throw Hce("Wrong length or index");return r}});var nC=h(function(Bst,rC){var Wce=z(),Vce=Wce.Array,Gce=Math.abs,_i=Math.pow,Kce=Math.floor,Yce=Math.log,Xce=Math.LN2,Jce=function(e,r,n){var i=Vce(n),a=n*8-r-1,o=(1<<a)-1,u=o>>1,s=r===23?_i(2,-24)-_i(2,-77):0,l=e<0||e===0&&1/e<0?1:0,c=0,f,p,d;for(e=Gce(e),e!=e||e===1/0?(p=e!=e?1:0,f=o):(f=Kce(Yce(e)/Xce),d=_i(2,-f),e*d<1&&(f--,d*=2),f+u>=1?e+=s/d:e+=s*_i(2,1-u),e*d>=2&&(f++,d/=2),f+u>=o?(p=0,f=o):f+u>=1?(p=(e*d-1)*_i(2,r),f=f+u):(p=e*_i(2,u-1)*_i(2,r),f=0));r>=8;)i[c++]=p&255,p/=256,r-=8;for(f=f<<r|p,a+=r;a>0;)i[c++]=f&255,f/=256,a-=8;return i[--c]|=l*128,i},Qce=function(e,r){var n=e.length,i=n*8-r-1,a=(1<<i)-1,o=a>>1,u=i-7,s=n-1,l=e[s--],c=l&127,f;for(l>>=7;u>0;)c=c*256+e[s--],u-=8;for(f=c&(1<<-u)-1,c>>=-u,u+=r;u>0;)f=f*256+e[s--],u-=8;if(c===0)c=1-o;else{if(c===a)return f?NaN:l?-1/0:1/0;f=f+_i(2,r),c=c-o}return(l?-1:1)*f*_i(2,c-r)};rC.exports={pack:Jce,unpack:Qce}});var Z_=h(function(Lst,SC){"use strict";var nh=z(),V_=ie(),G_=Ee(),Zce=H_(),iC=fa(),aC=Tt(),oC=fn(),K_=ae(),ih=zr(),efe=Gt(),tfe=Or(),ah=W_(),uC=nC(),rfe=Ut(),sC=mi(),nfe=pi().f,ife=Ne().f,afe=Xd(),ofe=vo(),lC=Br(),cC=Ve(),ufe=iC.PROPER,fC=iC.CONFIGURABLE,Wu=cC.get,pC=cC.set,oh="ArrayBuffer",dC="DataView",Vu="prototype",sfe="Wrong length",hC="Wrong index",pn=nh[oh],Pr=pn,Gu=Pr&&Pr[Vu],Mn=nh[dC],_o=Mn&&Mn[Vu],vC=Object.prototype,lfe=nh.Array,uh=nh.RangeError,cfe=V_(afe),ffe=V_([].reverse),yC=uC.pack,mC=uC.unpack,gC=function(e){return[e&255]},bC=function(e){return[e&255,e>>8&255]},_C=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},wC=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},pfe=function(e){return yC(e,23,4)},dfe=function(e){return yC(e,52,8)},sh=function(e,r){ife(e[Vu],r,{get:function(){return Wu(this)[r]}})},_a=function(e,r,n,i){var a=ah(n),o=Wu(e);if(a+r>o.byteLength)throw uh(hC);var u=Wu(o.buffer).bytes,s=a+o.byteOffset,l=ofe(u,s,s+r);return i?l:ffe(l)},wa=function(e,r,n,i,a,o){var u=ah(n),s=Wu(e);if(u+r>s.byteLength)throw uh(hC);for(var l=Wu(s.buffer).bytes,c=u+s.byteOffset,f=i(+a),p=0;p<r;p++)l[c+p]=f[o?p:r-p-1]};if(!Zce)Pr=function(e){ih(this,Gu);var r=ah(e);pC(this,{bytes:cfe(lfe(r),0),byteLength:r}),G_||(this.byteLength=r)},Gu=Pr[Vu],Mn=function(e,r,n){ih(this,_o),ih(e,Gu);var i=Wu(e).byteLength,a=efe(r);if(a<0||a>i)throw uh("Wrong offset");if(n=n===void 0?i-a:tfe(n),a+n>i)throw uh(sfe);pC(this,{buffer:e,byteLength:n,byteOffset:a}),G_||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},_o=Mn[Vu],G_&&(sh(Pr,"byteLength"),sh(Mn,"buffer"),sh(Mn,"byteLength"),sh(Mn,"byteOffset")),oC(_o,{getInt8:function(e){return _a(this,1,e)[0]<<24>>24},getUint8:function(e){return _a(this,1,e)[0]},getInt16:function(e){var r=_a(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e){var r=_a(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(e){return wC(_a(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return wC(_a(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return mC(_a(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return mC(_a(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,r){wa(this,1,e,gC,r)},setUint8:function(e,r){wa(this,1,e,gC,r)},setInt16:function(e,r){wa(this,2,e,bC,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,r){wa(this,2,e,bC,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,r){wa(this,4,e,_C,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,r){wa(this,4,e,_C,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,r){wa(this,4,e,pfe,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,r){wa(this,8,e,dfe,r,arguments.length>2?arguments[2]:void 0)}});else{if(Y_=ufe&&pn.name!==oh,!K_(function(){pn(1)})||!K_(function(){new pn(-1)})||K_(function(){return new pn,new pn(1.5),new pn(NaN),Y_&&!fC})){for(Pr=function(e){return ih(this,Gu),new pn(ah(e))},Pr[Vu]=Gu,X_=nfe(pn),J_=0;X_.length>J_;)(lh=X_[J_++])in Pr||aC(Pr,lh,pn[lh]);Gu.constructor=Pr}else Y_&&fC&&aC(pn,"name",oh);sC&&rfe(_o)!==vC&&sC(_o,vC),ic=new Mn(new Pr(2)),Q_=V_(_o.setInt8),ic.setInt8(0,2147483648),ic.setInt8(1,2147483649),(ic.getInt8(0)||!ic.getInt8(1))&&oC(_o,{setInt8:function(e,r){Q_(this,e,r<<24>>24)},setUint8:function(e,r){Q_(this,e,r<<24>>24)}},{unsafe:!0})}var Y_,X_,J_,lh,ic,Q_;lC(Pr,oh);lC(Mn,dC);SC.exports={ArrayBuffer:Pr,DataView:Mn}});var RC=h(function(zst,PC){"use strict";var bfe=z(),_fe=V(),wfe=C0(),Sfe=bfe.TypeError;PC.exports=function(t){if(_fe(this),t==="string"||t==="default")t="string";else if(t!=="number")throw Sfe("Incorrect hint");return wfe(this,t)}});var tw=h(function(){var jfe=P(),Mfe=z();jfe({global:!0},{globalThis:Mfe})});var ph=h(function(Wst,jC){var Zfe=ae();jC.exports=Zfe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var oc=h(function(Vst,NC){var epe=ae(),tpe=_e(),rpe=pr(),MC=ph(),dh=Object.isExtensible,npe=epe(function(){dh(1)});NC.exports=npe||MC?function(e){return!tpe(e)||MC&&rpe(e)=="ArrayBuffer"?!1:dh?dh(e):!0}:dh});var Ku=h(function(Gst,BC){var ipe=ae();BC.exports=!ipe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Sa=h(function(Kst,$C){function hh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(r){return typeof r}:hh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hh(t)}var ape=P(),ope=ie(),upe=Mu(),spe=_e(),rw=Le(),lpe=Ne().f,LC=pi(),cpe=Dd(),nw=oc(),fpe=Uu(),ppe=Ku(),zC=!1,wi=fpe("meta"),dpe=0,iw=function(e){lpe(e,wi,{value:{objectID:"O"+dpe++,weakData:{}}})},hpe=function(e,r){if(!spe(e))return hh(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!rw(e,wi)){if(!nw(e))return"F";if(!r)return"E";iw(e)}return e[wi].objectID},vpe=function(e,r){if(!rw(e,wi)){if(!nw(e))return!0;if(!r)return!1;iw(e)}return e[wi].weakData},ype=function(e){return ppe&&zC&&nw(e)&&!rw(e,wi)&&iw(e),e},mpe=function(){gpe.enable=function(){},zC=!0;var e=LC.f,r=ope([].splice),n={};n[wi]=1,e(n).length&&(LC.f=function(i){for(var a=e(i),o=0,u=a.length;o<u;o++)if(a[o]===wi){r(a,o,1);break}return a},ape({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:cpe.f}))},gpe=$C.exports={enable:mpe,fastKey:hpe,getWeakData:vpe,onFreeze:ype};upe[wi]=!0});var uc=h(function(Yst,WC){var bpe=Te(),_pe=_e(),HC=mi();WC.exports=function(t,e,r){var n,i;return HC&&bpe(n=e.constructor)&&n!==r&&_pe(i=n.prototype)&&i!==r.prototype&&HC(t,i),t}});var sc=h(function(Xst,GC){"use strict";var wpe=P(),Spe=z(),Ope=ie(),VC=Nu(),Ppe=ct(),Rpe=Sa(),qpe=ye(),Epe=zr(),Tpe=Te(),aw=_e(),ow=ae(),Ape=Zl(),Ipe=Br(),kpe=uc();GC.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",o=Spe[t],u=o&&o.prototype,s=o,l={},c=function(_){var O=Ope(u[_]);Ppe(u,_,_=="add"?function(C){return O(this,C===0?0:C),this}:_=="delete"?function(T){return i&&!aw(T)?!1:O(this,T===0?0:T)}:_=="get"?function(C){return i&&!aw(C)?void 0:O(this,C===0?0:C)}:_=="has"?function(C){return i&&!aw(C)?!1:O(this,C===0?0:C)}:function(C,F){return O(this,C===0?0:C,F),this})},f=VC(t,!Tpe(o)||!(i||u.forEach&&!ow(function(){new o().entries().next()})));if(f)s=r.getConstructor(e,t,n,a),Rpe.enable();else if(VC(t,!0)){var p=new s,d=p[a](i?{}:-0,1)!=p,v=ow(function(){p.has(1)}),m=Ape(function(w){new o(w)}),g=!i&&ow(function(){for(var w=new o,_=5;_--;)w[a](_,_);return!w.has(-0)});m||(s=e(function(w,_){Epe(w,u);var O=kpe(new o,w,s);return _!=null&&qpe(_,O[a],{that:O,AS_ENTRIES:n}),O}),s.prototype=u,u.constructor=s),(v||g)&&(c("delete"),c("has"),n&&c("get")),(g||d)&&c(a),i&&u.clear&&delete u.clear}return l[t]=s,wpe({global:!0,forced:s!=o},l),Ipe(s,t),i||r.setStrong(s,t,n),s}});var sw=h(function(Jst,QC){"use strict";var Fpe=Ne().f,xpe=Dt(),KC=fn(),Cpe=Ye(),Dpe=zr(),Upe=ye(),jpe=eh(),Mpe=ba(),lc=Ee(),YC=Sa().fastKey,XC=Ve(),JC=XC.set,uw=XC.getterFor;QC.exports={getConstructor:function(e,r,n,i){var a=e(function(c,f){Dpe(c,o),JC(c,{type:r,index:xpe(null),first:void 0,last:void 0,size:0}),lc||(c.size=0),f!=null&&Upe(f,c[i],{that:c,AS_ENTRIES:n})}),o=a.prototype,u=uw(r),s=function(f,p,d){var v=u(f),m=l(f,p),g,w;return m?m.value=d:(v.last=m={index:w=YC(p,!0),key:p,value:d,previous:g=v.last,next:void 0,removed:!1},v.first||(v.first=m),g&&(g.next=m),lc?v.size++:f.size++,w!=="F"&&(v.index[w]=m)),f},l=function(f,p){var d=u(f),v=YC(p),m;if(v!=="F")return d.index[v];for(m=d.first;m;m=m.next)if(m.key==p)return m};return KC(o,{clear:function(){for(var f=this,p=u(f),d=p.index,v=p.first;v;)v.removed=!0,v.previous&&(v.previous=v.previous.next=void 0),delete d[v.index],v=v.next;p.first=p.last=void 0,lc?p.size=0:f.size=0},delete:function(f){var p=this,d=u(p),v=l(p,f);if(v){var m=v.next,g=v.previous;delete d.index[v.index],v.removed=!0,g&&(g.next=m),m&&(m.previous=g),d.first==v&&(d.first=m),d.last==v&&(d.last=g),lc?d.size--:p.size--}return!!v},forEach:function(f){for(var p=u(this),d=Cpe(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:p.first;)for(d(v.value,v.key,this);v&&v.removed;)v=v.previous},has:function(f){return!!l(this,f)}}),KC(o,n?{get:function(f){var p=l(this,f);return p&&p.value},set:function(f,p){return s(this,f===0?0:f,p)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),lc&&Fpe(o,"size",{get:function(){return u(this).size}}),a},setStrong:function(e,r,n){var i=r+" Iterator",a=uw(r),o=uw(i);jpe(e,r,function(u,s){JC(this,{type:i,target:u,state:a(u),kind:s,last:void 0})},function(){for(var u=o(this),s=u.kind,l=u.last;l&&l.removed;)l=l.previous;return!u.target||!(u.last=l=l?l.next:u.state.first)?(u.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},n?"entries":"values",!n,!0),Mpe(r)}}});var vh=h(function(){"use strict";var Npe=sc(),Bpe=sw();Npe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Bpe)});var lw=h(function(elt,ZC){var Lpe=Math.log;ZC.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Lpe(1+e)}});var yh=h(function(tlt,i3){i3.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}});var fc=h(function(rlt,a3){var cc=Math.expm1,ode=Math.exp;a3.exports=!cc||cc(10)>22025.465794806718||cc(10)<22025.465794806718||cc(-2e-17)!=-2e-17?function(e){return(e=+e)==0?e:e>-1e-6&&e<1e-6?e+e*e/2:ode(e)-1}:cc});var hw=h(function(nlt,s3){var fde=yh(),pde=Math.abs,mh=Math.pow,pw=mh(2,-52),gh=mh(2,-23),dde=mh(2,127)*(2-gh),dw=mh(2,-126),hde=function(e){return e+1/pw-1/pw};s3.exports=Math.fround||function(e){var r=pde(e),n=fde(e),i,a;return r<dw?n*hde(r/dw/gh)*dw*gh:(i=(1+gh/pw)*r,a=i-(i-r),a>dde||a!=a?n*(1/0):n*a)}});var vw=h(function(ilt,v3){var Hde=ie();v3.exports=Hde(1 .valueOf)});var pc=h(function(alt,y3){y3.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var wo=h(function(olt,g3){var Wde=ie(),Vde=Et(),Gde=Be(),Kde=pc(),m3=Wde("".replace),bh="["+Kde+"]",Yde=RegExp("^"+bh+bh+"*"),Xde=RegExp(bh+bh+"*$"),yw=function(e){return function(r){var n=Gde(Vde(r));return e&1&&(n=m3(n,Yde,"")),e&2&&(n=m3(n,Xde,"")),n}};g3.exports={start:yw(1),end:yw(2),trim:yw(3)}});var ww=h(function(ult,S3){var hhe=z(),vhe=hhe.isFinite;S3.exports=Number.isFinite||function(e){return typeof e=="number"&&vhe(e)}});var Sh=h(function(slt,O3){var ghe=_e(),bhe=Math.floor;O3.exports=Number.isInteger||function(e){return!ghe(e)&&isFinite(e)&&bhe(e)===e}});var T3=h(function(llt,E3){var P3=z(),The=ae(),Ahe=ie(),Ihe=Be(),khe=wo().trim,Fhe=pc(),xhe=Ahe("".charAt),Oh=P3.parseFloat,R3=P3.Symbol,q3=R3&&R3.iterator,Che=1/Oh(Fhe+"-0")!=-1/0||q3&&!The(function(){Oh(Object(q3))});E3.exports=Che?function(e){var r=khe(Ihe(e)),n=Oh(r);return n===0&&xhe(r,0)=="-"?-0:n}:Oh});var Sw=h(function(clt,D3){var I3=z(),Uhe=ae(),jhe=ie(),Mhe=Be(),Nhe=wo().trim,k3=pc(),hc=I3.parseInt,F3=I3.Symbol,x3=F3&&F3.iterator,C3=/^[+-]?0x/i,Bhe=jhe(C3.exec),Lhe=hc(k3+"08")!==8||hc(k3+"0x16")!==22||x3&&!Uhe(function(){hc(Object(x3))});D3.exports=Lhe?function(e,r){var n=Nhe(Mhe(e));return hc(n,r>>>0||(Bhe(C3,n)?16:10))}:hc});var Ph=h(function(flt,j3){"use strict";var $he=z(),Hhe=Gt(),Whe=Be(),Vhe=Et(),Ghe=$he.RangeError;j3.exports=function(e){var r=Whe(Vhe(this)),n="",i=Hhe(e);if(i<0||i==1/0)throw Ghe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var Ew=h(function(plt,V3){"use strict";var H3=Ee(),tve=ie(),rve=le(),nve=ae(),qw=ho(),ive=Rd(),ave=Cl(),ove=xe(),uve=so(),Xu=Object.assign,W3=Object.defineProperty,sve=tve([].concat);V3.exports=!Xu||nve(function(){if(H3&&Xu({b:1},Xu(W3({},"a",{enumerable:!0,get:function(){W3(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),Xu({},t)[r]!=7||qw(Xu({},e)).join("")!=n})?function(e,r){for(var n=ove(e),i=arguments.length,a=1,o=ive.f,u=ave.f;i>a;)for(var s=uve(arguments[a++]),l=o?sve(qw(s),o(s)):qw(s),c=l.length,f=0,p;c>f;)p=l[f++],(!H3||rve(u,s,p))&&(n[p]=s[p]);return n}:Xu});var yc=h(function(dlt,Y3){"use strict";var cve=de(),fve=z(),pve=ae(),K3=rh();Y3.exports=cve||!pve(function(){if(!(K3&&K3<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete fve[t]}})});var Tw=h(function(hlt,Q3){var Rve=Ee(),X3=ie(),qve=ho(),Eve=Qt(),Tve=Cl().f,Ave=X3(Tve),Ive=X3([].push),J3=function(e){return function(r){for(var n=Eve(r),i=qve(n),a=i.length,o=0,u=[],s;a>o;)s=i[o++],(!Rve||Ave(n,s))&&Ive(u,e?[s,n[s]]:n[s]);return u}};Q3.exports={entries:J3(!0),values:J3(!1)}});var Iw=h(function(vlt,rD){rD.exports=Object.is||function(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}});var sD=h(function(ylt,uD){"use strict";var Jye=Ad(),Qye=pa();uD.exports=Jye?{}.toString:function(){return"[object "+Qye(this)+"]"}});var Dw=h(function(mlt,lD){var ime=z();lD.exports=ime.Promise});var mc=h(function(glt,cD){var ame=z(),ome=yo(),ume=Cu(),sme=ame.TypeError;cD.exports=function(t){if(ome(t))return t;throw sme(ume(t)+" is not a constructor")}});var er=h(function(blt,pD){var fD=V(),lme=mc(),cme=ge(),fme=cme("species");pD.exports=function(t,e){var r=fD(t).constructor,n;return r===void 0||(n=fD(r)[fme])==null?e:lme(n)}});var Uw=h(function(_lt,dD){var pme=li();dD.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(pme)});var gc=h(function(wlt,hD){var dme=pr(),hme=z();hD.exports=dme(hme.process)=="process"});var Ww=h(function(Slt,SD){var Rr=z(),vme=Ke(),yme=Ye(),vD=Te(),mme=Le(),gme=ae(),yD=J0(),bme=da(),mD=Ul(),_me=Uw(),wme=gc(),jw=Rr.setImmediate,Mw=Rr.clearImmediate,Sme=Rr.process,Nw=Rr.Dispatch,Ome=Rr.Function,gD=Rr.MessageChannel,Pme=Rr.String,Bw=0,bc={},bD="onreadystatechange",_c,Oo,Lw,zw;try{_c=Rr.location}catch(t){}var $w=function(e){if(mme(bc,e)){var r=bc[e];delete bc[e],r()}},Hw=function(e){return function(){$w(e)}},_D=function(e){$w(e.data)},wD=function(e){Rr.postMessage(Pme(e),_c.protocol+"//"+_c.host)};(!jw||!Mw)&&(jw=function(e){var r=bme(arguments,1);return bc[++Bw]=function(){vme(vD(e)?e:Ome(e),void 0,r)},Oo(Bw),Bw},Mw=function(e){delete bc[e]},wme?Oo=function(e){Sme.nextTick(Hw(e))}:Nw&&Nw.now?Oo=function(e){Nw.now(Hw(e))}:gD&&!_me?(Lw=new gD,zw=Lw.port2,Lw.port1.onmessage=_D,Oo=yme(zw.postMessage,zw)):Rr.addEventListener&&vD(Rr.postMessage)&&!Rr.importScripts&&_c&&_c.protocol!=="file:"&&!gme(wD)?(Oo=wD,Rr.addEventListener("message",_D,!1)):bD in mD("script")?Oo=function(e){yD.appendChild(mD("script"))[bD]=function(){yD.removeChild(this),$w(e)}}:Oo=function(e){setTimeout(Hw(e),0)});SD.exports={set:jw,clear:Mw}});var PD=h(function(Olt,OD){var Rme=li(),qme=z();OD.exports=/ipad|iphone|ipod/i.test(Rme)&&qme.Pebble!==void 0});var qD=h(function(Plt,RD){var Eme=li();RD.exports=/web0s(?!.*chrome)/i.test(Eme)});var Xw=h(function(Rlt,CD){var Po=z(),ED=Ye(),Tme=Ct().f,Vw=Ww().set,Ame=Uw(),Ime=PD(),kme=qD(),Gw=gc(),TD=Po.MutationObserver||Po.WebKitMutationObserver,AD=Po.document,ID=Po.process,qh=Po.Promise,kD=Tme(Po,"queueMicrotask"),FD=kD&&kD.value,wc,Ro,Sc,Ju,Kw,Yw,Eh,xD;FD||(wc=function(){var e,r;for(Gw&&(e=ID.domain)&&e.exit();Ro;){r=Ro.fn,Ro=Ro.next;try{r()}catch(n){throw Ro?Ju():Sc=void 0,n}}Sc=void 0,e&&e.enter()},!Ame&&!Gw&&!kme&&TD&&AD?(Kw=!0,Yw=AD.createTextNode(""),new TD(wc).observe(Yw,{characterData:!0}),Ju=function(){Yw.data=Kw=!Kw}):!Ime&&qh&&qh.resolve?(Eh=qh.resolve(void 0),Eh.constructor=qh,xD=ED(Eh.then,Eh),Ju=function(){xD(wc)}):Gw?Ju=function(){ID.nextTick(wc)}:(Vw=ED(Vw,Po),Ju=function(){Vw(wc)}));CD.exports=FD||function(t){var e={fn:t,next:void 0};Sc&&(Sc.next=e),Ro||(Ro=e,Ju()),Sc=e}});var Qu=h(function(qlt,UD){"use strict";var DD=pe(),Fme=function(e){var r,n;this.promise=new e(function(i,a){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=i,n=a}),this.resolve=DD(r),this.reject=DD(n)};UD.exports.f=function(t){return new Fme(t)}});var Jw=h(function(Elt,jD){var xme=V(),Cme=_e(),Dme=Qu();jD.exports=function(t,e){if(xme(t),Cme(e)&&e.constructor===t)return e;var r=Dme.f(t),n=r.resolve;return n(e),r.promise}});var Qw=h(function(Tlt,MD){var Ume=z();MD.exports=function(t,e){var r=Ume.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var Oc=h(function(Alt,ND){ND.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var LD=h(function(Ilt,BD){function Th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Th=function(r){return typeof r}:Th=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Th(t)}BD.exports=(typeof window=="undefined"?"undefined":Th(window))=="object"});var sS=h(function(){"use strict";var uge=P(),sge=le(),lge=pe(),cge=Qu(),fge=Oc(),pge=ye();uge({target:"Promise",stat:!0},{allSettled:function(e){var r=this,n=cge.f(r),i=n.resolve,a=n.reject,o=fge(function(){var u=lge(r.resolve),s=[],l=0,c=1;pge(e,function(f){var p=l++,d=!1;c++,sge(u,r,f).then(function(v){d||(d=!0,s[p]={status:"fulfilled",value:v},--c||i(s))},function(v){d||(d=!0,s[p]={status:"rejected",reason:v},--c||i(s))})}),--c||i(s)});return o.error&&a(o.value),n.promise}})});var lS=h(function(){"use strict";var dge=P(),hge=pe(),vge=Fe(),yge=le(),mge=Qu(),gge=Oc(),bge=ye(),sU="No one promise resolved";dge({target:"Promise",stat:!0},{any:function(e){var r=this,n=vge("AggregateError"),i=mge.f(r),a=i.resolve,o=i.reject,u=gge(function(){var s=hge(r.resolve),l=[],c=0,f=1,p=!1;bge(e,function(d){var v=c++,m=!1;f++,yge(s,r,d).then(function(g){m||p||(p=!0,a(g))},function(g){m||p||(m=!0,l[v]=g,--f||o(new n(l,sU)))})}),--f||o(new n(l,sU))});return u.error&&o(u.value),i.promise}})});var yU=h(function(Dlt,vU){"use strict";var Fge=z(),pU=ie(),xge=pe(),Cge=_e(),Dge=Le(),dU=da(),hU=Fge.Function,Uge=pU([].concat),jge=pU([].join),fS={},Mge=function(e,r,n){if(!Dge(fS,r)){for(var i=[],a=0;a<r;a++)i[a]="a["+a+"]";fS[r]=hU("C,a","return new C("+jge(i,",")+")")}return fS[r](e,n)};vU.exports=hU.bind||function(e){var r=xge(this),n=r.prototype,i=dU(arguments,1),a=function(){var u=Uge(i,dU(arguments));return this instanceof a?Mge(r,u.length,u):r.apply(e,u)};return Cge(n)&&(a.prototype=n),a}});var hS=h(function(Ult,qU){var RU=Le();qU.exports=function(t){return t!==void 0&&(RU(t,"value")||RU(t,"writable"))}});var ns=h(function(jlt,xU){var Mbe=_e(),Nbe=pr(),Bbe=ge(),Lbe=Bbe("match");xU.exports=function(t){var e;return Mbe(t)&&((e=t[Lbe])!==void 0?!!e:Nbe(t)=="RegExp")}});var Eo=h(function(Mlt,CU){"use strict";var zbe=V();CU.exports=function(){var t=zbe(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}});var Ec=h(function(Nlt,DU){var yS=ae(),$be=z(),mS=$be.RegExp,gS=yS(function(){var t=mS("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),Hbe=gS||yS(function(){return!mS("a","y").sticky}),Wbe=gS||yS(function(){var t=mS("^r","gy");return t.lastIndex=2,t.exec("str")!=null});DU.exports={BROKEN_CARET:Wbe,MISSED_STICKY:Hbe,UNSUPPORTED_Y:gS}});var Ch=h(function(Blt,UU){var Vbe=ae(),Gbe=z(),Kbe=Gbe.RegExp;UU.exports=Vbe(function(){var t=Kbe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var bS=h(function(Llt,jU){var Ybe=ae(),Xbe=z(),Jbe=Xbe.RegExp;jU.exports=Ybe(function(){var t=Jbe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var Tc=h(function(zlt,YU){"use strict";var os=le(),Uh=ie(),I0e=Be(),k0e=Eo(),F0e=Ec(),x0e=Du(),C0e=Dt(),D0e=Ve().get,U0e=Ch(),j0e=bS(),M0e=x0e("native-string-replace",String.prototype.replace),jh=RegExp.prototype.exec,PS=jh,N0e=Uh("".charAt),B0e=Uh("".indexOf),L0e=Uh("".replace),RS=Uh("".slice),qS=function(){var t=/a/,e=/b*/g;return os(jh,t,"a"),os(jh,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),KU=F0e.BROKEN_CARET,ES=/()??/.exec("")[1]!==void 0,z0e=qS||ES||KU||U0e||j0e;z0e&&(PS=function(e){var r=this,n=D0e(r),i=I0e(e),a=n.raw,o,u,s,l,c,f,p;if(a)return a.lastIndex=r.lastIndex,o=os(PS,a,i),r.lastIndex=a.lastIndex,o;var d=n.groups,v=KU&&r.sticky,m=os(k0e,r),g=r.source,w=0,_=i;if(v&&(m=L0e(m,"y",""),B0e(m,"g")===-1&&(m+="g"),_=RS(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&N0e(i,r.lastIndex-1)!=="\n")&&(g="(?: "+g+")",_=" "+_,w++),u=new RegExp("^(?:"+g+")",m)),ES&&(u=new RegExp("^"+g+"$(?!\\s)",m)),qS&&(s=r.lastIndex),l=os(jh,v?u:r,_),v?l?(l.input=RS(l.input,w),l[0]=RS(l[0],w),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:qS&&l&&(r.lastIndex=r.global?l.index+l[0].length:s),ES&&l&&l.length>1&&os(M0e,l[0],u,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&d)for(l.groups=f=C0e(null),c=0;c<d.length;c++)p=d[c],f[p[0]]=l[p[1]];return l});YU.exports=PS});var Mh=h(function(){"use strict";var $0e=P(),XU=Tc();$0e({target:"RegExp",proto:!0,forced:/./.exec!==XU},{exec:XU})});var Ao=h(function(Wlt,nj){var IS=ie(),O_e=Gt(),P_e=Be(),R_e=Et(),q_e=IS("".charAt),tj=IS("".charCodeAt),E_e=IS("".slice),rj=function(e){return function(r,n){var i=P_e(R_e(r)),a=O_e(n),o=i.length,u,s;return a<0||a>=o?e?"":void 0:(u=tj(i,a),u<55296||u>56319||a+1===o||(s=tj(i,a+1))<56320||s>57343?e?q_e(i,a):u:e?E_e(i,a,a+2):(u-55296<<10)+(s-56320)+65536)}};nj.exports={codeAt:rj(!1),charAt:rj(!0)}});var Nh=h(function(Vlt,ij){var I_e=z(),k_e=ns(),F_e=I_e.TypeError;ij.exports=function(t){if(k_e(t))throw F_e("The method doesn't accept regular expressions");return t}});var Bh=h(function(Glt,aj){var x_e=ge(),C_e=x_e("match");aj.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[C_e]=!1,"/./"[t](e)}catch(n){}}return!1}});var kS=h(function(){"use strict";var iwe=Ao().charAt,awe=Be(),dj=Ve(),owe=eh(),hj="String Iterator",uwe=dj.set,swe=dj.getterFor(hj);owe(String,"String",function(t){uwe(this,{type:hj,string:awe(t),index:0})},function(){var e=swe(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=iwe(r,n),e.index+=i.length,{value:i,done:!1})})});var Ac=h(function(Xlt,bj){"use strict";Mh();var vj=ie(),yj=ct(),lwe=Tc(),mj=ae(),gj=ge(),cwe=Tt(),fwe=gj("species"),FS=RegExp.prototype;bj.exports=function(t,e,r,n){var i=gj(t),a=!mj(function(){var l={};return l[i]=function(){return 7},""[t](l)!=7}),o=a&&!mj(function(){var l=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[fwe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return l=!0,null},c[i](""),!l});if(!a||!o||r){var u=vj(/./[i]),s=e(i,""[t],function(l,c,f,p,d){var v=vj(l),m=c.exec;return m===lwe||m===FS.exec?a&&!d?{done:!0,value:u(c,f,p)}:{done:!0,value:v(f,c,p)}:{done:!1}});yj(String.prototype,t,s[0]),yj(FS,i,s[1])}n&&cwe(FS[i],"sham",!0)}});var Ic=h(function(Jlt,_j){"use strict";var pwe=Ao().charAt;_j.exports=function(t,e,r){return e+(r?pwe(t,e).length:1)}});var us=h(function(Qlt,Sj){var dwe=z(),wj=le(),hwe=V(),vwe=Te(),ywe=pr(),mwe=Tc(),gwe=dwe.TypeError;Sj.exports=function(t,e){var r=t.exec;if(vwe(r)){var n=wj(r,t,e);return n!==null&&hwe(n),n}if(ywe(t)==="RegExp")return wj(mwe,t,e);throw gwe("RegExp#exec called on incompatible receiver")}});var NS=h(function(){"use strict";var qwe=P(),Ewe=z(),Pj=le(),CS=ie(),Twe=ma(),Rj=Et(),qj=Or(),kc=Be(),Awe=V(),Iwe=pr(),kwe=Zt(),Fwe=ns(),xwe=Eo(),Cwe=xt(),Dwe=ct(),Uwe=ae(),jwe=ge(),Mwe=er(),Nwe=Ic(),Bwe=us(),Ej=Ve(),DS=de(),Lh=jwe("matchAll"),Tj="RegExp String",Aj=Tj+" Iterator",Lwe=Ej.set,zwe=Ej.getterFor(Aj),Fc=RegExp.prototype,$we=Ewe.TypeError,Ij=CS(xwe),US=CS("".indexOf),zh=CS("".matchAll),jS=!!zh&&!Uwe(function(){zh("a",/./)}),Hwe=Twe(function(e,r,n,i){Lwe(this,{type:Aj,regexp:e,string:r,global:n,unicode:i,done:!1})},Tj,function(){var e=zwe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,i=Bwe(r,n);return i===null?{value:void 0,done:e.done=!0}:e.global?(kc(i[0])===""&&(r.lastIndex=Nwe(n,qj(r.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})}),MS=function(e){var r=Awe(this),n=kc(e),i,a,o,u,s,l;return i=Mwe(r,RegExp),a=r.flags,a===void 0&&kwe(Fc,r)&&!("flags"in Fc)&&(a=Ij(r)),o=a===void 0?"":kc(a),u=new i(i===RegExp?r.source:r,o),s=!!~US(o,"g"),l=!!~US(o,"u"),u.lastIndex=qj(r.lastIndex),new Hwe(u,n,s,l)};qwe({target:"String",proto:!0,forced:jS},{matchAll:function(e){var r=Rj(this),n,i,a,o;if(e!=null){if(Fwe(e)&&(n=kc(Rj("flags"in Fc?e.flags:Ij(e))),!~US(n,"g")))throw $we("`.matchAll` does not allow non-global regexes");if(jS)return zh(r,e);if(a=Cwe(e,Lh),a===void 0&&DS&&Iwe(e)=="RegExp"&&(a=MS),a)return Pj(a,e,r)}else if(jS)return zh(r,e);return i=kc(r),o=new RegExp(e,"g"),DS?Pj(MS,o,i):o[Lh](i)}});DS||Lh in Fc||Dwe(Fc,Lh,MS)});var BS=h(function(tct,Cj){var kj=ie(),Wwe=Or(),Fj=Be(),Vwe=Ph(),Gwe=Et(),Kwe=kj(Vwe),Ywe=kj("".slice),Xwe=Math.ceil,xj=function(e){return function(r,n,i){var a=Fj(Gwe(r)),o=Wwe(n),u=a.length,s=i===void 0?" ":Fj(i),l,c;return o<=u||s==""?a:(l=o-u,c=Kwe(s,Xwe(l/s.length)),c.length>l&&(c=Ywe(c,0,l)),e?a+c:c+a)}};Cj.exports={start:xj(!1),end:xj(!0)}});var LS=h(function(rct,Dj){var Jwe=li();Dj.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Jwe)});var WS=h(function(nct,Nj){var zS=ie(),fSe=xe(),pSe=Math.floor,$S=zS("".charAt),dSe=zS("".replace),HS=zS("".slice),hSe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,vSe=/\$([$&'`]|\d{1,2})/g;Nj.exports=function(t,e,r,n,i,a){var o=r+t.length,u=n.length,s=vSe;return i!==void 0&&(i=fSe(i),s=hSe),dSe(a,s,function(l,c){var f;switch($S(c,0)){case"$":return"$";case"&":return t;case"`":return HS(e,0,r);case"'":return HS(e,o);case"<":f=i[HS(c,1,-1)];break;default:var p=+c;if(p===0)return l;if(p>u){var d=pSe(p/10);return d===0?l:d<=u?n[d-1]===void 0?$S(c,1):n[d-1]+$S(c,1):l}f=n[p-1]}return f===void 0?"":f})}});var KS=h(function(){"use strict";var DSe=P(),USe=z(),jSe=le(),Hh=ie(),Hj=Et(),MSe=Te(),NSe=ns(),ls=Be(),BSe=xt(),LSe=Eo(),zSe=WS(),$Se=ge(),HSe=de(),WSe=$Se("replace"),VSe=RegExp.prototype,GSe=USe.TypeError,KSe=Hh(LSe),Wj=Hh("".indexOf),YSe=Hh("".replace),Vj=Hh("".slice),XSe=Math.max,Gj=function(e,r,n){return n>e.length?-1:r===""?n:Wj(e,r,n)};DSe({target:"String",proto:!0},{replaceAll:function(e,r){var n=Hj(this),i,a,o,u,s,l,c,f,p,d=0,v=0,m="";if(e!=null){if(i=NSe(e),i&&(a=ls(Hj("flags"in VSe?e.flags:KSe(e))),!~Wj(a,"g")))throw GSe("`.replaceAll` does not allow non-global regexes");if(o=BSe(e,WSe),o)return jSe(o,e,n,r);if(HSe&&i)return YSe(ls(n),e,r)}for(u=ls(n),s=ls(e),l=MSe(r),l||(r=ls(r)),c=s.length,f=XSe(1,c),d=Gj(u,s,0);d!==-1;)p=l?ls(r(s,d,u)):zSe(s,u,d,[],void 0,r),m+=Vj(u,v,d)+p,v=d+c,d=Gj(u,s,d+f);return v<u.length&&(m+=Vj(u,v)),m}})});var Wh=h(function(oct,uM){var EOe=fa().PROPER,TOe=ae(),aM=pc(),oM="\u200B\x85\u180E";uM.exports=function(t){return TOe(function(){return!!aM[t]()||oM[t]()!==oM||EOe&&aM[t].name!==t})}});var hr=h(function(uct,dM){var MOe=ie(),NOe=Et(),pM=Be(),BOe=/"/g,LOe=MOe("".replace);dM.exports=function(t,e,r,n){var i=pM(NOe(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+LOe(pM(n),BOe,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var vr=h(function(sct,hM){var zOe=ae();hM.exports=function(t){return zOe(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var Ae=h(function(lct,SM){"use strict";var T1e=H_(),JS=Ee(),tr=z(),vM=Te(),QS=_e(),Io=Le(),ZS=pa(),A1e=Cu(),eO=Tt(),tO=ct(),I1e=Ne().f,k1e=Zt(),rO=Ut(),ps=mi(),F1e=ge(),yM=Uu(),Vh=tr.Int8Array,nO=Vh&&Vh.prototype,mM=tr.Uint8ClampedArray,gM=mM&&mM.prototype,Bn=Vh&&rO(Vh),dn=nO&&rO(nO),x1e=Object.prototype,iO=tr.TypeError,bM=F1e("toStringTag"),aO=yM("TYPED_ARRAY_TAG"),oO=yM("TYPED_ARRAY_CONSTRUCTOR"),qi=T1e&&!!ps&&ZS(tr.opera)!=="Opera",_M=!1,yr,Pa,ds,Ei={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},uO={BigInt64Array:8,BigUint64Array:8},C1e=function(e){if(!QS(e))return!1;var r=ZS(e);return r==="DataView"||Io(Ei,r)||Io(uO,r)},wM=function(e){if(!QS(e))return!1;var r=ZS(e);return Io(Ei,r)||Io(uO,r)},D1e=function(e){if(wM(e))return e;throw iO("Target is not a typed array")},U1e=function(e){if(vM(e)&&(!ps||k1e(Bn,e)))return e;throw iO(A1e(e)+" is not a typed array constructor")},j1e=function(e,r,n){if(!!JS){if(n)for(var i in Ei){var a=tr[i];if(a&&Io(a.prototype,e))try{delete a.prototype[e]}catch(o){}}(!dn[e]||n)&&tO(dn,e,n?r:qi&&nO[e]||r)}},M1e=function(e,r,n){var i,a;if(!!JS){if(ps){if(n){for(i in Ei)if(a=tr[i],a&&Io(a,e))try{delete a[e]}catch(o){}}if(!Bn[e]||n)try{return tO(Bn,e,n?r:qi&&Bn[e]||r)}catch(o){}else return}for(i in Ei)a=tr[i],a&&(!a[e]||n)&&tO(a,e,r)}};for(yr in Ei)Pa=tr[yr],ds=Pa&&Pa.prototype,ds?eO(ds,oO,Pa):qi=!1;for(yr in uO)Pa=tr[yr],ds=Pa&&Pa.prototype,ds&&eO(ds,oO,Pa);if((!qi||!vM(Bn)||Bn===Function.prototype)&&(Bn=function(){throw iO("Incorrect invocation")},qi))for(yr in Ei)tr[yr]&&ps(tr[yr],Bn);if((!qi||!dn||dn===x1e)&&(dn=Bn.prototype,qi))for(yr in Ei)tr[yr]&&ps(tr[yr].prototype,dn);qi&&rO(gM)!==dn&&ps(gM,dn);if(JS&&!Io(dn,bM)){_M=!0,I1e(dn,bM,{get:function(){return QS(this)?this[aO]:void 0}});for(yr in Ei)tr[yr]&&eO(tr[yr],aO,yr)}SM.exports={NATIVE_ARRAY_BUFFER_VIEWS:qi,TYPED_ARRAY_CONSTRUCTOR:oO,TYPED_ARRAY_TAG:_M&&aO,aTypedArray:D1e,aTypedArrayConstructor:U1e,exportTypedArrayMethod:j1e,exportTypedArrayStaticMethod:M1e,isView:C1e,isTypedArray:wM,TypedArray:Bn,TypedArrayPrototype:dn}});var Gh=h(function(cct,PM){var OM=z(),sO=ae(),N1e=Zl(),B1e=Ae().NATIVE_ARRAY_BUFFER_VIEWS,L1e=OM.ArrayBuffer,ko=OM.Int8Array;PM.exports=!B1e||!sO(function(){ko(1)})||!sO(function(){new ko(-1)})||!N1e(function(t){new ko,new ko(null),new ko(1.5),new ko(t)},!0)||sO(function(){return new ko(new L1e(2),1,void 0).length!==1})});var hs=h(function(fct,RM){var z1e=z(),$1e=Gt(),H1e=z1e.RangeError;RM.exports=function(t){var e=$1e(t);if(e<0)throw H1e("The argument can't be less than 0");return e}});var lO=h(function(pct,qM){var W1e=z(),V1e=hs(),G1e=W1e.RangeError;qM.exports=function(t,e){var r=V1e(t);if(r%e)throw G1e("Wrong offset");return r}});var cO=h(function(dct,EM){var K1e=Ye(),Y1e=le(),X1e=mc(),J1e=xe(),Q1e=Ge(),Z1e=cn(),ePe=gi(),tPe=Hd(),rPe=Ae().aTypedArrayConstructor;EM.exports=function(e){var r=X1e(this),n=J1e(e),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0,u=ePe(n),s,l,c,f,p,d;if(u&&!tPe(u))for(p=Z1e(n,u),d=p.next,n=[];!(f=Y1e(d,p)).done;)n.push(f.value);for(o&&i>2&&(a=K1e(a,arguments[2])),l=Q1e(n),c=new(rPe(r))(l),s=0;l>s;s++)c[s]=o?a(n[s],s):n[s];return c}});var Ln=h(function(hct,gO){"use strict";var TM=P(),AM=z(),IM=le(),nPe=Ee(),iPe=Gh(),Fo=Ae(),kM=Z_(),FM=zr(),aPe=sn(),vs=Tt(),oPe=Sh(),uPe=Or(),xM=W_(),fO=lO(),CM=ci(),Dc=Le(),sPe=pa(),pO=_e(),lPe=xu(),cPe=Dt(),fPe=Zt(),Kh=mi(),pPe=pi().f,DM=cO(),dPe=At().forEach,hPe=ba(),UM=Ne(),jM=Ct(),MM=Ve(),vPe=uc(),dO=MM.get,yPe=MM.set,hO=UM.f,mPe=jM.f,gPe=Math.round,vO=AM.RangeError,NM=kM.ArrayBuffer,bPe=NM.prototype,_Pe=kM.DataView,Yh=Fo.NATIVE_ARRAY_BUFFER_VIEWS,wPe=Fo.TYPED_ARRAY_CONSTRUCTOR,BM=Fo.TYPED_ARRAY_TAG,LM=Fo.TypedArray,Uc=Fo.TypedArrayPrototype,SPe=Fo.aTypedArrayConstructor,yO=Fo.isTypedArray,Xh="BYTES_PER_ELEMENT",mO="Wrong length",zM=function(e,r){SPe(e);for(var n=0,i=r.length,a=new e(i);i>n;)a[n]=r[n++];return a},Jh=function(e,r){hO(e,r,{get:function(){return dO(this)[r]}})},$M=function(e){var r;return fPe(bPe,e)||(r=sPe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},HM=function(e,r){return yO(e)&&!lPe(r)&&r in e&&oPe(+r)&&r>=0},WM=function(e,r){return r=CM(r),HM(e,r)?aPe(2,e[r]):mPe(e,r)},VM=function(e,r,n){return r=CM(r),HM(e,r)&&pO(n)&&Dc(n,"value")&&!Dc(n,"get")&&!Dc(n,"set")&&!n.configurable&&(!Dc(n,"writable")||n.writable)&&(!Dc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):hO(e,r,n)};nPe?(Yh||(jM.f=WM,UM.f=VM,Jh(Uc,"buffer"),Jh(Uc,"byteOffset"),Jh(Uc,"byteLength"),Jh(Uc,"length")),TM({target:"Object",stat:!0,forced:!Yh},{getOwnPropertyDescriptor:WM,defineProperty:VM}),gO.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,o="set"+t,u=AM[i],s=u,l=s&&s.prototype,c={},f=function(m,g){var w=dO(m);return w.view[a](g*n+w.byteOffset,!0)},p=function(m,g,w){var _=dO(m);r&&(w=(w=gPe(w))<0?0:w>255?255:w&255),_.view[o](g*n+_.byteOffset,w,!0)},d=function(m,g){hO(m,g,{get:function(){return f(this,g)},set:function(_){return p(this,g,_)},enumerable:!0})};Yh?iPe&&(s=e(function(v,m,g,w){return FM(v,l),vPe(function(){return pO(m)?$M(m)?w!==void 0?new u(m,fO(g,n),w):g!==void 0?new u(m,fO(g,n)):new u(m):yO(m)?zM(s,m):IM(DM,s,m):new u(xM(m))}(),v,s)}),Kh&&Kh(s,LM),dPe(pPe(u),function(v){v in s||vs(s,v,u[v])}),s.prototype=l):(s=e(function(v,m,g,w){FM(v,l);var _=0,O=0,T,C,F;if(!pO(m))F=xM(m),C=F*n,T=new NM(C);else if($M(m)){T=m,O=fO(g,n);var $=m.byteLength;if(w===void 0){if($%n||(C=$-O,C<0))throw vO(mO)}else if(C=uPe(w)*n,C+O>$)throw vO(mO);F=C/n}else return yO(m)?zM(s,m):IM(DM,s,m);for(yPe(v,{buffer:T,byteOffset:O,byteLength:C,length:F,view:new _Pe(T)});_<F;)d(v,_++)}),Kh&&Kh(s,LM),l=s.prototype=cPe(Uc)),l.constructor!==s&&vs(l,"constructor",s),vs(l,wPe,s),BM&&vs(l,BM,i),c[i]=s,TM({global:!0,forced:s!=u,sham:!Yh},c),Xh in s||vs(s,Xh,n),Xh in l||vs(l,Xh,n),hPe(i)}):gO.exports=function(){}});var JM=h(function(vct,XM){XM.exports=function(t,e){for(var r=0,n=e.length,i=new t(n);n>r;)i[r]=e[r++];return i}});var jc=h(function(yct,ZM){var QM=Ae(),HPe=er(),WPe=QM.TYPED_ARRAY_CONSTRUCTOR,VPe=QM.aTypedArrayConstructor;ZM.exports=function(t){return VPe(HPe(t,t[WPe]))}});var Qh=h(function(mct,eN){var GPe=JM(),KPe=jc();eN.exports=function(t,e){return GPe(KPe(t),e)}});var mN=h(function(gct,yN){"use strict";var qRe=Ke(),ERe=Qt(),TRe=Gt(),ARe=Ge(),IRe=nc(),kRe=Math.min,SO=[].lastIndexOf,vN=!!SO&&1/[1].lastIndexOf(1,-0)<0,FRe=IRe("lastIndexOf"),xRe=vN||!FRe;yN.exports=xRe?function(e){if(vN)return qRe(SO,this,arguments)||0;var r=ERe(this),n=ARe(r),i=n-1;for(arguments.length>1&&(i=kRe(i,TRe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1}:SO});var OO=h(function(bct,SN){var WRe=z(),VRe=pe(),GRe=xe(),KRe=so(),YRe=Ge(),XRe=WRe.TypeError,wN=function(e){return function(r,n,i,a){VRe(n);var o=GRe(r),u=KRe(o),s=YRe(o),l=e?s-1:0,c=e?-1:1;if(i<2)for(;;){if(l in u){a=u[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw XRe("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in u&&(a=n(a,u[l],l,o));return a}};SN.exports={left:wN(!1),right:wN(!0)}});var TO=h(function(_ct,GN){"use strict";var Yqe=ie(),zN=fn(),rv=Sa().getWeakData,Xqe=V(),qO=_e(),Jqe=zr(),Qqe=ye(),$N=At(),HN=Le(),WN=Ve(),Zqe=WN.set,eEe=WN.getterFor,tEe=$N.find,rEe=$N.findIndex,nEe=Yqe([].splice),iEe=0,nv=function(e){return e.frozen||(e.frozen=new VN)},VN=function(){this.entries=[]},EO=function(e,r){return tEe(e.entries,function(n){return n[0]===r})};VN.prototype={get:function(e){var r=EO(this,e);if(r)return r[1]},has:function(e){return!!EO(this,e)},set:function(e,r){var n=EO(this,e);n?n[1]=r:this.entries.push([e,r])},delete:function(e){var r=rEe(this.entries,function(n){return n[0]===e});return~r&&nEe(this.entries,r,1),!!~r}};GN.exports={getConstructor:function(e,r,n,i){var a=e(function(l,c){Jqe(l,o),Zqe(l,{type:r,id:iEe++,frozen:void 0}),c!=null&&Qqe(c,l[i],{that:l,AS_ENTRIES:n})}),o=a.prototype,u=eEe(r),s=function(c,f,p){var d=u(c),v=rv(Xqe(f),!0);return v===!0?nv(d).set(f,p):v[d.id]=p,c};return zN(o,{delete:function(c){var f=u(this);if(!qO(c))return!1;var p=rv(c);return p===!0?nv(f).delete(c):p&&HN(p,f.id)&&delete p[f.id]},has:function(c){var f=u(this);if(!qO(c))return!1;var p=rv(c);return p===!0?nv(f).has(c):p&&HN(p,f.id)}}),zN(o,n?{get:function(c){var f=u(this);if(qO(c)){var p=rv(c);return p===!0?nv(f).get(c):p?p[f.id]:void 0}},set:function(c,f){return s(this,c,f)}}:{add:function(c){return s(this,c,!0)}}),a}}});var sv=h(function(){"use strict";var KN=z(),iv=ie(),aEe=fn(),oEe=Sa(),uEe=sc(),YN=TO(),av=_e(),ov=oc(),uv=Ve().enforce,sEe=N0(),lEe=!KN.ActiveXObject&&"ActiveXObject"in KN,Nc,XN=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},cEe=uEe("WeakMap",XN,YN);sEe&&lEe&&(Nc=YN.getConstructor(XN,"WeakMap",!0),oEe.enable(),ms=cEe.prototype,AO=iv(ms.delete),Bc=iv(ms.has),IO=iv(ms.get),kO=iv(ms.set),aEe(ms,{delete:function(e){if(av(e)&&!ov(e)){var r=uv(this);return r.frozen||(r.frozen=new Nc),AO(this,e)||r.frozen.delete(e)}return AO(this,e)},has:function(e){if(av(e)&&!ov(e)){var r=uv(this);return r.frozen||(r.frozen=new Nc),Bc(this,e)||r.frozen.has(e)}return Bc(this,e)},get:function(e){if(av(e)&&!ov(e)){var r=uv(this);return r.frozen||(r.frozen=new Nc),Bc(this,e)?IO(this,e):r.frozen.get(e)}return IO(this,e)},set:function(e,r){if(av(e)&&!ov(e)){var n=uv(this);n.frozen||(n.frozen=new Nc),Bc(this,e)?kO(this,e,r):n.frozen.set(e,r)}else kO(this,e,r);return this}}));var ms,AO,Bc,IO,kO});var JN=h(function(){"use strict";var dEe=P(),hEe=xe(),vEe=Ge(),yEe=Gt(),mEe=Kt();dEe({target:"Array",proto:!0},{at:function(e){var r=hEe(this),n=vEe(r),i=yEe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]}});mEe("at")});var Lc=h(function(Rct,ZN){var wEe=Ye(),SEe=so(),OEe=xe(),PEe=Ge(),QN=function(e){var r=e==1;return function(n,i,a){for(var o=OEe(n),u=SEe(o),s=wEe(i,a),l=PEe(u),c,f;l-- >0;)if(c=u[l],f=s(c,l,o),f)switch(e){case 0:return c;case 1:return l}return r?-1:void 0}};ZN.exports={findLast:QN(0),findLastIndex:QN(1)}});var cv=h(function(qct,a5){"use strict";var LEe=Fe(),lv=ie(),zEe=pe(),$Ee=Ge(),HEe=xe(),WEe=mo(),i5=LEe("Map"),FO=i5.prototype,VEe=lv(FO.forEach),GEe=lv(FO.has),KEe=lv(FO.set),YEe=lv([].push);a5.exports=function(e){var r=HEe(this),n=$Ee(r),i=WEe(r,0),a=new i5,o=e!=null?zEe(e):function(c){return c},u,s,l;for(u=0;u<n;u++)s=r[u],l=o(s),GEe(a,l)||KEe(a,l,s);return VEe(a,function(c){YEe(i,c)}),i}});var zc=h(function(Ect,d5){var o5=z(),u5=Dl(),s5=Te(),ZEe=Dt(),fv=Ut(),eTe=ct(),tTe=ge(),rTe=de(),l5="USE_FUNCTION_CONSTRUCTOR",c5=tTe("asyncIterator"),f5=o5.AsyncIterator,p5=u5.AsyncIteratorPrototype,zn,xO;if(p5)zn=p5;else if(s5(f5))zn=f5.prototype;else if(u5[l5]||o5[l5])try{xO=fv(fv(fv(Function("return async function*(){}()")()))),fv(xO)===Object.prototype&&(zn=xO)}catch(t){}zn?rTe&&(zn=ZEe(zn)):zn={};s5(zn[c5])||eTe(zn,c5,function(){return this});d5.exports=zn});var Ra=h(function(Tct,S5){"use strict";var DO=le(),oTe=pe(),g5=V(),uTe=Dt(),sTe=Tt(),lTe=fn(),cTe=ge(),b5=Ve(),fTe=Fe(),_5=xt(),pTe=zc(),$c=fTe("Promise"),w5="AsyncIteratorProxy",dTe=b5.set,UO=b5.getterFor(w5),hTe=cTe("toStringTag");S5.exports=function(t,e){var r=function(i){i.type=w5,i.next=oTe(i.iterator.next),i.done=!1,i.ignoreArgument=!e,dTe(this,i)};return r.prototype=lTe(uTe(pTe),{next:function(i){var a=this,o=!!arguments.length;return new $c(function(u){var s=UO(a),l=o?[s.ignoreArgument?void 0:i]:e?[]:[void 0];s.ignoreArgument=!1,u(s.done?{done:!0,value:void 0}:g5(DO(t,s,$c,l)))})},return:function(i){var a=this;return new $c(function(o,u){var s=UO(a),l=s.iterator;s.done=!0;var c=_5(l,"return");if(c===void 0)return o({done:!0,value:i});$c.resolve(DO(c,l,i)).then(function(f){g5(f),o({done:!0,value:i})},u)})},throw:function(i){var a=this;return new $c(function(o,u){var s=UO(a),l=s.iterator;s.done=!0;var c=_5(l,"throw");if(c===void 0)return u(i);o(DO(c,l,i))})}}),e||sTe(r.prototype,hTe,"Generator"),r}});var gs=h(function(Act,R5){"use strict";var PTe=z(),O5=le(),P5=pe(),NO=V(),RTe=Fe(),qTe=xt(),ETe=9007199254740991,TTe=PTe.TypeError,Hc=function(e){var r=e==0,n=e==1,i=e==2,a=e==3;return function(o,u,s){NO(o);var l=RTe("Promise"),c=P5(o.next),f=0,p=u!==void 0;return(p||!r)&&P5(u),new l(function(d,v){var m=function(O,T){try{var C=qTe(o,"return");if(C)return l.resolve(O5(C,o)).then(function(){O(T)},function(F){v(F)})}catch(F){return v(F)}O(T)},g=function(O){m(v,O)},w=function _(){try{if(r&&f>ETe&&p)throw TTe("The allowed number of iterations has been exceeded");l.resolve(NO(O5(c,o))).then(function(O){try{if(NO(O).done)r?(s.length=f,d(s)):d(a?!1:i||void 0);else{var T=O.value;p?l.resolve(r?u(T,f):u(T)).then(function(C){n?_():i?C?_():m(d,!1):r?(s[f++]=C,_()):C?m(d,a||T):_()},g):(s[f++]=T,_())}}catch(C){g(C)}},g)}catch(O){g(O)}};w()})}};R5.exports={toArray:Hc(0),forEach:Hc(1),every:Hc(2),some:Hc(3),find:Hc(4)}});var HO=h(function(Ict,I5){"use strict";var LO=Ke(),pv=V(),MTe=Dt(),q5=xt(),NTe=fn(),E5=Ve(),BTe=Fe(),LTe=zc(),dv=BTe("Promise"),T5="AsyncFromSyncIterator",zTe=E5.set,zO=E5.getterFor(T5),$O=function(e,r,n){var i=e.done;dv.resolve(e.value).then(function(a){r({done:i,value:a})},n)},A5=function(e){zTe(this,{type:T5,iterator:pv(e),next:e.next})};A5.prototype=NTe(MTe(LTe),{next:function(e){var r=zO(this),n=!!arguments.length;return new dv(function(i,a){var o=pv(LO(r.next,r.iterator,n?[e]:[]));$O(o,i,a)})},return:function(e){var r=zO(this).iterator,n=!!arguments.length;return new dv(function(i,a){var o=q5(r,"return");if(o===void 0)return i({done:!0,value:e});var u=pv(LO(o,r,n?[e]:[]));$O(u,i,a)})},throw:function(e){var r=zO(this).iterator,n=!!arguments.length;return new dv(function(i,a){var o=q5(r,"throw");if(o===void 0)return a(e);var u=pv(LO(o,r,n?[e]:[]));$O(u,i,a)})}});I5.exports=A5});var WO=h(function(kct,k5){var $Te=le(),HTe=HO(),WTe=V(),VTe=cn(),GTe=xt(),KTe=ge(),YTe=KTe("asyncIterator");k5.exports=function(t,e){var r=arguments.length<2?GTe(t,YTe):e;return r?WTe($Te(r,t)):new HTe(VTe(t))}});var JO=h(function(Fct,B5){"use strict";function Co(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Co=function(r){return typeof r}:Co=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Co(t)}var D5=z(),U5=Ve(),MAe=ma(),NAe=_e(),BAe=kd(),j5=Ee(),Vc="Incorrect Number.range arguments",YO="NumericRangeIterator",LAe=U5.set,Gc=U5.getterFor(YO),M5=D5.RangeError,XO=D5.TypeError,N5=MAe(function(e,r,n,i,a,o){if(Co(e)!=i||r!==1/0&&r!==-1/0&&Co(r)!=i)throw new XO(Vc);if(e===1/0||e===-1/0)throw new M5(Vc);var u=r>e,s=!1,l;if(n===void 0)l=void 0;else if(NAe(n))l=n.step,s=!!n.inclusive;else if(Co(n)==i)l=n;else throw new XO(Vc);if(l==null&&(l=u?o:-o),Co(l)!=i)throw new XO(Vc);if(l===1/0||l===-1/0||l===a&&e!==r)throw new M5(Vc);var c=e!=e||r!=r||l!=l||r>e!=l>a;LAe(this,{type:YO,start:e,end:r,step:l,inclusiveEnd:s,hitsEnd:c,currentCount:a,zero:a}),j5||(this.start=e,this.end=r,this.step=l,this.inclusive=s)},YO,function(){var e=Gc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,i=e.step,a=r+i*e.currentCount++;a===n&&(e.hitsEnd=!0);var o=e.inclusiveEnd,u;return n>r?u=o?a>n:a>=n:u=o?n>a:n>=a,u?{value:void 0,done:e.hitsEnd=!0}:{value:a,done:!1}}),hv=function(e){return{get:e,set:function(){},configurable:!0,enumerable:!1}};j5&&BAe(N5.prototype,{start:hv(function(){return Gc(this).start}),end:hv(function(){return Gc(this).end}),inclusive:hv(function(){return Gc(this).inclusiveEnd}),step:hv(function(){return Gc(this).step})});B5.exports=N5});var QO=h(function(xct,W5){vh();sv();var L5=z(),z5=Fe(),HAe=Dt(),$5=_e(),WAe=L5.Object,VAe=L5.TypeError,GAe=z5("Map"),KAe=z5("WeakMap"),vv=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=HAe(null)};vv.prototype.get=function(t,e){return this[t]||(this[t]=e())};vv.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new KAe):this.primitives||(this.primitives=new GAe),i=n.get(e);return i||n.set(e,i=new vv),i};var H5=new vv;W5.exports=function(){var t=H5,e=arguments.length,r,n;for(r=0;r<e;r++)$5(n=arguments[r])&&(t=t.next(r,n,!0));if(this===WAe&&t===H5)throw VAe("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)$5(n=arguments[r])||(t=t.next(r,n,!1));return t}});var Ea=h(function(Cct,t8){"use strict";var t1=le(),pIe=pe(),dIe=V(),hIe=Dt(),vIe=Tt(),yIe=fn(),mIe=ge(),Q5=Ve(),Z5=xt(),gIe=Hu().IteratorPrototype,e8="IteratorProxy",bIe=Q5.set,r1=Q5.getterFor(e8),_Ie=mIe("toStringTag");t8.exports=function(t,e){var r=function(i){i.type=e8,i.next=pIe(i.iterator.next),i.done=!1,i.ignoreArg=!e,bIe(this,i)};return r.prototype=yIe(hIe(gIe),{next:function(i){var a=r1(this),o=arguments.length?[a.ignoreArg?void 0:i]:e?[]:[void 0];a.ignoreArg=!1;var u=a.done?void 0:t1(t,a,o);return{done:a.done,value:u}},return:function(i){var a=r1(this),o=a.iterator;a.done=!0;var u=Z5(o,"return");return{done:!0,value:u?dIe(t1(u,o,i)).value:i}},throw:function(i){var a=r1(this),o=a.iterator;a.done=!0;var u=Z5(o,"throw");if(u)return t1(u,o,i);throw i}}),e||vIe(r.prototype,_Ie,"Generator"),r}});var Kc=h(function(Dct,u8){"use strict";var j2e=le(),M2e=pe(),N2e=V();u8.exports=function(){for(var e=N2e(this),r=M2e(e.delete),n=!0,i,a=0,o=arguments.length;a<o;a++)i=j2e(r,e,arguments[a]),n=n&&i;return!!n}});var u1=h(function(Uct,s8){"use strict";var a1=le(),o1=pe(),$2e=V();s8.exports=function(e,r){var n=$2e(this),i=o1(n.get),a=o1(n.has),o=o1(n.set),u=a1(a,n,e)&&"update"in r?r.update(a1(i,n,e),e,n):r.insert(e,n);return a1(o,n,e,u),u}});var hn=h(function(jct,l8){var G2e=le();l8.exports=function(t){return G2e(Map.prototype.entries,t)}});var Yc=h(function(Mct,p8){"use strict";var Ske=Ye(),Oke=le(),Pke=pe(),Rke=mc(),c8=ye(),f8=[].push;p8.exports=function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,i,a,o,u;return Rke(this),i=n!==void 0,i&&Pke(n),e==null?new this:(a=[],i?(o=0,u=Ske(n,r>2?arguments[2]:void 0),c8(e,function(s){Oke(f8,a,u(s,o++))})):c8(e,f8,{that:a}),new this(a))}});var h8=h(function(Nct,d8){d8.exports=function(t,e){return t===e||t!=t&&e!=e}});var Xc=h(function(Bct,y8){"use strict";var gFe=da();y8.exports=function(){return new this(gFe(arguments))}});var _v=h(function(Lct,m8){"use strict";var BFe=z(),gv=le(),c1=pe(),bv=Te(),LFe=V(),zFe=BFe.TypeError;m8.exports=function(e,r){var n=LFe(this),i=c1(n.get),a=c1(n.has),o=c1(n.set),u=arguments.length>2?arguments[2]:void 0,s;if(!bv(r)&&!bv(u))throw zFe("At least one callback required");return gv(a,n,e)?(s=gv(i,n,e),bv(r)&&(s=r(s),gv(o,n,e,s))):bv(u)&&(s=u(),gv(o,n,e,s)),s}});var f1=h(function(zct,g8){g8.exports=Math.scale||function(e,r,n,i,a){var o=+e,u=+r,s=+n,l=+i,c=+a;return o!=o||u!=u||s!=s||l!=l||c!=c?NaN:o===1/0||o===-1/0?o:(o-u)*(c-l)/(s-u)+l}});var O8=h(function(){var Uxe=P(),jxe=Le();Uxe({target:"Object",stat:!0},{hasOwn:jxe})});var Ov=h(function(Wct,q8){"use strict";var P8=Ve(),Mxe=ma(),Nxe=Le(),Bxe=ho(),Lxe=xe(),R8="Object Iterator",zxe=P8.set,$xe=P8.getterFor(R8);q8.exports=Mxe(function(e,r){var n=Lxe(e);zxe(this,{type:R8,mode:r,object:n,keys:Bxe(n),index:0})},"Object",function(){for(var e=$xe(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],i=e.object;if(!!Nxe(i,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:i[n],done:!1}}return{value:[n,i[n]],done:!1}}}})});var $n=h(function(Vct,B8){function qv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qv=function(r){return typeof r}:qv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qv(t)}vh();sv();var j8=Fe(),cCe=ie(),fCe=Du(),M8=j8("Map"),pCe=j8("WeakMap"),dCe=cCe([].push),N8=fCe("metadata"),w1=N8.store||(N8.store=new pCe),rf=function(e,r,n){var i=w1.get(e);if(!i){if(!n)return;w1.set(e,i=new M8)}var a=i.get(r);if(!a){if(!n)return;i.set(r,a=new M8)}return a},hCe=function(e,r,n){var i=rf(r,n,!1);return i===void 0?!1:i.has(e)},vCe=function(e,r,n){var i=rf(r,n,!1);return i===void 0?void 0:i.get(e)},yCe=function(e,r,n,i){rf(n,i,!0).set(e,r)},mCe=function(e,r){var n=rf(e,r,!1),i=[];return n&&n.forEach(function(a,o){dCe(i,o)}),i},gCe=function(e){return e===void 0||qv(e)=="symbol"?e:String(e)};B8.exports={store:w1,getMap:rf,has:hCe,get:vCe,set:yCe,keys:mCe,toKey:gCe}});var P1=h(function(Gct,X8){"use strict";var f3e=le(),p3e=pe(),d3e=V();X8.exports=function(){for(var e=d3e(this),r=p3e(e.add),n=0,i=arguments.length;n<i;n++)f3e(r,e,arguments[n]);return e}});var Ta=h(function(Kct,J8){var T3e=le();J8.exports=function(t){return T3e(Set.prototype.values,t)}});var oB=h(function(){"use strict";var aB=Ae(),BUe=Ge(),LUe=Gt(),zUe=aB.aTypedArray,$Ue=aB.exportTypedArrayMethod;$Ue("at",function(e){var r=zUe(this),n=BUe(r),i=LUe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]})});var R1=h(function(Jct,fB){fB.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var E1=h(function(Qct,dB){var Aje=Ul(),q1=Aje("span").classList,pB=q1&&q1.constructor&&q1.constructor.prototype;dB.exports=pB===Object.prototype?void 0:pB});var vB=h(function(Zct,hB){"use strict";var Ije=At().forEach,kje=nc(),Fje=kje("forEach");hB.exports=Fje?[].forEach:function(e){return Ije(this,e,arguments.length>1?arguments[1]:void 0)}});var F1=h(function(eft,PB){var Lje=ae(),zje=ge(),$je=de(),Hje=zje("iterator");PB.exports=!Lje(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,i){e.delete("b"),r+=i+n}),$je&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[Hje]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var xB=h(function(tft,FB){"use strict";var Wje=z(),Do=ie(),x1=2147483647,af=36,RB=1,C1=26,Vje=38,Gje=700,Kje=72,Yje=128,Xje="-",Jje=/[^\0-\u007E]/,qB=/[.\u3002\uFF0E\uFF61]/g,EB="Overflow: input needs wider integers to process",D1=af-RB,TB=Wje.RangeError,Qje=Do(qB.exec),_s=Math.floor,U1=String.fromCharCode,AB=Do("".charCodeAt),IB=Do([].join),Aa=Do([].push),Zje=Do("".replace),eMe=Do("".split),tMe=Do("".toLowerCase),rMe=function(e){for(var r=[],n=0,i=e.length;n<i;){var a=AB(e,n++);if(a>=55296&&a<=56319&&n<i){var o=AB(e,n++);(o&64512)==56320?Aa(r,((a&1023)<<10)+(o&1023)+65536):(Aa(r,a),n--)}else Aa(r,a)}return r},kB=function(e){return e+22+75*(e<26)},nMe=function(e,r,n){var i=0;for(e=n?_s(e/Gje):e>>1,e+=_s(e/r);e>D1*C1>>1;)e=_s(e/D1),i+=af;return _s(i+(D1+1)*e/(e+Vje))},iMe=function(e){var r=[];e=rMe(e);var n=e.length,i=Yje,a=0,o=Kje,u,s;for(u=0;u<e.length;u++)s=e[u],s<128&&Aa(r,U1(s));var l=r.length,c=l;for(l&&Aa(r,Xje);c<n;){var f=x1;for(u=0;u<e.length;u++)s=e[u],s>=i&&s<f&&(f=s);var p=c+1;if(f-i>_s((x1-a)/p))throw TB(EB);for(a+=(f-i)*p,i=f,u=0;u<e.length;u++){if(s=e[u],s<i&&++a>x1)throw TB(EB);if(s==i){for(var d=a,v=af;;){var m=v<=o?RB:v>=o+C1?C1:v-o;if(d<m)break;var g=d-m,w=af-m;Aa(r,U1(kB(m+g%w))),d=_s(g/w),v+=af}Aa(r,U1(kB(d))),o=nMe(a,p,c==l),a=0,c++}}a++,i++}return IB(r,"")};FB.exports=function(t){var e=[],r=eMe(Zje(tMe(t),qB,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Aa(e,Qje(Jje,i)?"xn--"+iMe(i):i);return IB(e,".")}});var V1=h(function(rft,e6){"use strict";rc();var j1=P(),Av=z(),M1=Fe(),Iv=le(),Hn=ie(),CB=F1(),DB=ct(),aMe=fn(),oMe=Br(),uMe=ma(),N1=Ve(),UB=zr(),B1=Te(),sMe=Le(),lMe=Ye(),cMe=pa(),fMe=V(),jB=_e(),qr=Be(),pMe=Dt(),MB=sn(),L1=cn(),dMe=gi(),hMe=ge(),vMe=th(),yMe=hMe("iterator"),of="URLSearchParams",NB=of+"Iterator",BB=N1.set,vn=N1.getterFor(of),mMe=N1.getterFor(NB),LB=M1("fetch"),kv=M1("Request"),uf=M1("Headers"),z1=kv&&kv.prototype,zB=uf&&uf.prototype,gMe=Av.RegExp,$B=Av.TypeError,HB=Av.decodeURIComponent,bMe=Av.encodeURIComponent,_Me=Hn("".charAt),WB=Hn([].join),Uo=Hn([].push),$1=Hn("".replace),wMe=Hn([].shift),VB=Hn([].splice),GB=Hn("".split),SMe=Hn("".slice),OMe=/\+/g,KB=Array(4),PMe=function(e){return KB[e-1]||(KB[e-1]=gMe("((?:%[\\da-f]{2}){"+e+"})","gi"))},RMe=function(e){try{return HB(e)}catch(r){return e}},YB=function(e){var r=$1(e,OMe," "),n=4;try{return HB(r)}catch(i){for(;n;)r=$1(r,PMe(n--),RMe);return r}},qMe=/[!'()~]|%20/g,EMe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},TMe=function(e){return EMe[e]},XB=function(e){return $1(bMe(e),qMe,TMe)},ws=function(e,r){if(e<r)throw $B("Not enough arguments")},H1=uMe(function(e,r){BB(this,{type:NB,iterator:L1(vn(e).entries),kind:r})},"Iterator",function(){var e=mMe(this),r=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),JB=function(e){this.entries=[],this.url=null,e!==void 0&&(jB(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?_Me(e,0)==="?"?SMe(e,1):e:qr(e)))};JB.prototype={type:of,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var r=dMe(e),n,i,a,o,u,s,l;if(r)for(n=L1(e,r),i=n.next;!(a=Iv(i,n)).done;){if(o=L1(fMe(a.value)),u=o.next,(s=Iv(u,o)).done||(l=Iv(u,o)).done||!Iv(u,o).done)throw $B("Expected sequence with length 2");Uo(this.entries,{key:qr(s.value),value:qr(l.value)})}else for(var c in e)sMe(e,c)&&Uo(this.entries,{key:c,value:qr(e[c])})},parseQuery:function(e){if(e)for(var r=GB(e,"&"),n=0,i,a;n<r.length;)i=r[n++],i.length&&(a=GB(i,"="),Uo(this.entries,{key:YB(wMe(a)),value:YB(WB(a,"="))}))},serialize:function(){for(var e=this.entries,r=[],n=0,i;n<e.length;)i=e[n++],Uo(r,XB(i.key)+"="+XB(i.value));return WB(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Fv=function(){UB(this,sf);var e=arguments.length>0?arguments[0]:void 0;BB(this,new JB(e))},sf=Fv.prototype;aMe(sf,{append:function(e,r){ws(arguments.length,2);var n=vn(this);Uo(n.entries,{key:qr(e),value:qr(r)}),n.updateURL()},delete:function(e){ws(arguments.length,1);for(var r=vn(this),n=r.entries,i=qr(e),a=0;a<n.length;)n[a].key===i?VB(n,a,1):a++;r.updateURL()},get:function(e){ws(arguments.length,1);for(var r=vn(this).entries,n=qr(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(e){ws(arguments.length,1);for(var r=vn(this).entries,n=qr(e),i=[],a=0;a<r.length;a++)r[a].key===n&&Uo(i,r[a].value);return i},has:function(e){ws(arguments.length,1);for(var r=vn(this).entries,n=qr(e),i=0;i<r.length;)if(r[i++].key===n)return!0;return!1},set:function(e,r){ws(arguments.length,1);for(var n=vn(this),i=n.entries,a=!1,o=qr(e),u=qr(r),s=0,l;s<i.length;s++)l=i[s],l.key===o&&(a?VB(i,s--,1):(a=!0,l.value=u));a||Uo(i,{key:o,value:u}),n.updateURL()},sort:function(){var e=vn(this);vMe(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=vn(this).entries,n=lMe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new H1(this,"keys")},values:function(){return new H1(this,"values")},entries:function(){return new H1(this,"entries")}},{enumerable:!0});DB(sf,yMe,sf.entries,{name:"entries"});DB(sf,"toString",function(){return vn(this).serialize()},{enumerable:!0});oMe(Fv,of);j1({global:!0,forced:!CB},{URLSearchParams:Fv});!CB&&B1(uf)&&(QB=Hn(zB.has),ZB=Hn(zB.set),W1=function(e){if(jB(e)){var r=e.body,n;if(cMe(r)===of)return n=e.headers?new uf(e.headers):new uf,QB(n,"content-type")||ZB(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),pMe(e,{body:MB(0,qr(r)),headers:MB(0,n)})}return e},B1(LB)&&j1({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return LB(e,arguments.length>1?W1(arguments[1]):{})}}),B1(kv)&&(xv=function(e){return UB(this,z1),new kv(e,arguments.length>1?W1(arguments[1]):{})},z1.constructor=xv,xv.prototype=z1,j1({global:!0,forced:!0},{Request:xv})));var QB,ZB,W1,xv;e6.exports={URLSearchParams:Fv,getState:vn}});var w6=h(function(vf,_6){function hf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hf=function(r){return typeof r}:hf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hf(t)}(function(t,e){(typeof vf=="undefined"?"undefined":hf(vf))==="object"&&typeof _6!="undefined"?e(vf):typeof define=="function"&&define.amd?define(["exports"],e):e(t.WHATWGFetch={})})(vf,function(t){"use strict";var e=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof e!="undefined"&&e,r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(q){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(q){return q&&DataView.prototype.isPrototypeOf(q)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(q){return q&&i.indexOf(Object.prototype.toString.call(q))>-1};function o(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||q==="")throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function u(q){return typeof q!="string"&&(q=String(q)),q}function s(q){var j={next:function(){var X=q.shift();return{done:X===void 0,value:X}}};return r.iterable&&(j[Symbol.iterator]=function(){return j}),j}function l(q){this.map={},q instanceof l?q.forEach(function(j,Q){this.append(Q,j)},this):Array.isArray(q)?q.forEach(function(j){this.append(j[0],j[1])},this):q&&Object.getOwnPropertyNames(q).forEach(function(j){this.append(j,q[j])},this)}l.prototype.append=function(q,j){q=o(q),j=u(j);var Q=this.map[q];this.map[q]=Q?Q+", "+j:j},l.prototype.delete=function(q){delete this.map[o(q)]},l.prototype.get=function(q){return q=o(q),this.has(q)?this.map[q]:null},l.prototype.has=function(q){return this.map.hasOwnProperty(o(q))},l.prototype.set=function(q,j){this.map[o(q)]=u(j)},l.prototype.forEach=function(q,j){for(var Q in this.map)this.map.hasOwnProperty(Q)&&q.call(j,this.map[Q],Q,this)},l.prototype.keys=function(){var q=[];return this.forEach(function(j,Q){q.push(Q)}),s(q)},l.prototype.values=function(){var q=[];return this.forEach(function(j){q.push(j)}),s(q)},l.prototype.entries=function(){var q=[];return this.forEach(function(j,Q){q.push([Q,j])}),s(q)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function c(q){if(q.bodyUsed)return Promise.reject(new TypeError("Already read"));q.bodyUsed=!0}function f(q){return new Promise(function(j,Q){q.onload=function(){j(q.result)},q.onerror=function(){Q(q.error)}})}function p(q){var j=new FileReader,Q=f(j);return j.readAsArrayBuffer(q),Q}function d(q){var j=new FileReader,Q=f(j);return j.readAsText(q),Q}function v(q){for(var j=new Uint8Array(q),Q=new Array(j.length),X=0;X<j.length;X++)Q[X]=String.fromCharCode(j[X]);return Q.join("")}function m(q){if(q.slice)return q.slice(0);var j=new Uint8Array(q.byteLength);return j.set(new Uint8Array(q)),j.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(q){this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:r.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:r.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():r.arrayBuffer&&r.blob&&n(q)?(this._bodyArrayBuffer=m(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||a(q))?this._bodyArrayBuffer=m(q):this._bodyText=q=Object.prototype.toString.call(q):this._bodyText="",this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var q=c(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var q=c(this);return q||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var q=c(this);if(q)return q;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(q){var j=q.toUpperCase();return w.indexOf(j)>-1?j:q}function O(q,j){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var Q=j.body;if(q instanceof O){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,j.headers||(this.headers=new l(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,!Q&&q._bodyInit!=null&&(Q=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new l(j.headers)),this.method=_(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Q),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function T(q){var j=new FormData;return q.trim().split("&").forEach(function(Q){if(Q){var X=Q.split("="),A=X.shift().replace(/\+/g," "),I=X.join("=").replace(/\+/g," ");j.append(decodeURIComponent(A),decodeURIComponent(I))}}),j}function C(q){var j=new l,Q=q.replace(/\r?\n[\t ]+/g," ");return Q.split("\r").map(function(X){return X.indexOf("\n")===0?X.substr(1,X.length):X}).forEach(function(X){var A=X.split(":"),I=A.shift().trim();if(I){var L=A.join(":").trim();j.append(I,L)}}),j}g.call(O.prototype);function F(q,j){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new l(j.headers),this.url=j.url||"",this._initBody(q)}g.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},F.error=function(){var q=new F(null,{status:0,statusText:""});return q.type="error",q};var $=[301,302,303,307,308];F.redirect=function(q,j){if($.indexOf(j)===-1)throw new RangeError("Invalid status code");return new F(null,{status:j,headers:{location:q}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(q){t.DOMException=function(j,Q){this.message=j,this.name=Q;var X=Error(j);this.stack=X.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function G(q,j){return new Promise(function(Q,X){var A=new O(q,j);if(A.signal&&A.signal.aborted)return X(new t.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function L(){I.abort()}I.onload=function(){var U={status:I.status,statusText:I.statusText,headers:C(I.getAllResponseHeaders()||"")};U.url="responseURL"in I?I.responseURL:U.headers.get("X-Request-URL");var B="response"in I?I.response:I.responseText;setTimeout(function(){Q(new F(B,U))},0)},I.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},I.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},I.onabort=function(){setTimeout(function(){X(new t.DOMException("Aborted","AbortError"))},0)};function D(U){try{return U===""&&e.location.href?e.location.href:U}catch(B){return U}}I.open(A.method,D(A.url),!0),A.credentials==="include"?I.withCredentials=!0:A.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&(r.blob?I.responseType="blob":r.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(I.responseType="arraybuffer")),j&&hf(j.headers)==="object"&&!(j.headers instanceof l)?Object.getOwnPropertyNames(j.headers).forEach(function(U){I.setRequestHeader(U,u(j.headers[U]))}):A.headers.forEach(function(U,B){I.setRequestHeader(B,U)}),A.signal&&(A.signal.addEventListener("abort",L),I.onreadystatechange=function(){I.readyState===4&&A.signal.removeEventListener("abort",L)}),I.send(typeof A._bodyInit=="undefined"?null:A._bodyInit)})}G.polyfill=!0,e.fetch||(e.fetch=G,e.Headers=l,e.Request=O,e.Response=F),t.Headers=l,t.Request=O,t.Response=F,t.fetch=G,Object.defineProperty(t,"__esModule",{value:!0})})});var S6=h(function(){function Hv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hv=function(r){return typeof r}:Hv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hv(t)}(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function e(w,_){for(var O=0;O<_.length;O++){var T=_[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function r(w,_,O){return _&&e(w.prototype,_),O&&e(w,O),w}function n(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),_&&a(w,_)}function i(w){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},i(w)}function a(w,_){return a=Object.setPrototypeOf||function(T,C){return T.__proto__=C,T},a(w,_)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(w){return!1}}function u(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function s(w,_){return _&&(Hv(_)==="object"||typeof _=="function")?_:u(w)}function l(w){var _=o();return function(){var T=i(w),C;if(_){var F=i(this).constructor;C=Reflect.construct(T,arguments,F)}else C=T.apply(this,arguments);return s(this,C)}}function c(w,_){for(;!Object.prototype.hasOwnProperty.call(w,_)&&(w=i(w),w!==null););return w}function f(w,_,O){return typeof Reflect!="undefined"&&Reflect.get?f=Reflect.get:f=function(C,F,$){var G=c(C,F);if(!!G){var q=Object.getOwnPropertyDescriptor(G,F);return q.get?q.get.call($):q.value}},f(w,_,O||w)}var p=function(){function w(){t(this,w),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(w,[{key:"addEventListener",value:function(O,T,C){O in this.listeners||(this.listeners[O]=[]),this.listeners[O].push({callback:T,options:C})}},{key:"removeEventListener",value:function(O,T){if(O in this.listeners){for(var C=this.listeners[O],F=0,$=C.length;F<$;F++)if(C[F].callback===T){C.splice(F,1);return}}}},{key:"dispatchEvent",value:function(O){if(O.type in this.listeners){for(var T=this.listeners[O.type],C=T.slice(),F=0,$=C.length;F<$;F++){var G=C[F];try{G.callback.call(this,O)}catch(q){Promise.resolve().then(function(){throw q})}G.options&&G.options.once&&this.removeEventListener(O.type,G.callback)}return!O.defaultPrevented}}}]),w}(),d=function(w){n(O,w);var _=l(O);function O(){var T;return t(this,O),T=_.call(this),T.listeners||p.call(u(T)),Object.defineProperty(u(T),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(T),"onabort",{value:null,writable:!0,configurable:!0}),T}return r(O,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(C){C.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,C)),f(i(O.prototype),"dispatchEvent",this).call(this,C)}}]),O}(p),v=function(){function w(){t(this,w),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return r(w,[{key:"abort",value:function(){var O;try{O=new Event("abort")}catch(T){typeof document!="undefined"?document.createEvent?(O=document.createEvent("Event"),O.initEvent("abort",!1,!1)):(O=document.createEventObject(),O.type="abort"):O={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(O)}},{key:"toString",value:function(){return"[object AbortController]"}}]),w}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal");function m(w){return w.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof w.Request=="function"&&!w.Request.prototype.hasOwnProperty("signal")||!w.AbortController}function g(w){typeof w=="function"&&(w={fetch:w});var _=w,O=_.fetch,T=_.Request,C=T===void 0?O.Request:T,F=_.AbortController,$=_.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,G=$===void 0?!1:$;if(!m({fetch:O,Request:C,AbortController:F,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:G}))return{fetch:O,Request:q};var q=C;(q&&!q.prototype.hasOwnProperty("signal")||G)&&(q=function(A,I){var L;I&&I.signal&&(L=I.signal,delete I.signal);var D=new C(A,I);return L&&Object.defineProperty(D,"signal",{writable:!1,enumerable:!1,configurable:!0,value:L}),D},q.prototype=C.prototype);var j=O,Q=function(A,I){var L=q&&q.prototype.isPrototypeOf(A)?A.signal:I?I.signal:void 0;if(L){var D;try{D=new DOMException("Aborted","AbortError")}catch(B){D=new Error("Aborted"),D.name="AbortError"}if(L.aborted)return Promise.reject(D);var U=new Promise(function(B,ee){L.addEventListener("abort",function(){return ee(D)},{once:!0})});return I&&I.signal&&delete I.signal,Promise.race([U,j(A,I)])}return j(A,I)};return{fetch:Q,Request:q}}(function(w){if(!!m(w)){if(!w.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var _=g(w),O=_.fetch,T=_.Request;w.fetch=O,w.Request=T,Object.defineProperty(w,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(w,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}})(typeof self!="undefined"?self:global)})});var O6=h(function(){(function(){var t=function(r,n,i){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return a?new Promise(function(o,u){a.call(navigator,r,o,u)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})()});var P6=h(function(Vv,fP){function Wv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wv=function(r){return typeof r}:Wv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wv(t)}(function(t,e){(typeof Vv=="undefined"?"undefined":Wv(Vv))==="object"&&typeof fP!="undefined"?fP.exports=e():typeof define=="function"&&define.amd?define(e):t.ResizeObserver=e()})(Vv,function(){"use strict";var t=function(){if(typeof Map!="undefined")return Map;function A(I,L){var D=-1;return I.some(function(U,B){return U[0]===L?(D=B,!0):!1}),D}return function(){function I(){this.__entries__=[]}return Object.defineProperty(I.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),I.prototype.get=function(L){var D=A(this.__entries__,L),U=this.__entries__[D];return U&&U[1]},I.prototype.set=function(L,D){var U=A(this.__entries__,L);~U?this.__entries__[U][1]=D:this.__entries__.push([L,D])},I.prototype.delete=function(L){var D=this.__entries__,U=A(D,L);~U&&D.splice(U,1)},I.prototype.has=function(L){return!!~A(this.__entries__,L)},I.prototype.clear=function(){this.__entries__.splice(0)},I.prototype.forEach=function(L,D){D===void 0&&(D=null);for(var U=0,B=this.__entries__;U<B.length;U++){var ee=B[U];L.call(D,ee[1],ee[0])}},I}()}(),e=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,r=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),n=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(A){return setTimeout(function(){return A(Date.now())},1e3/60)}}(),i=2;function a(A,I){var L=!1,D=!1,U=0;function B(){L&&(L=!1,A()),D&&ce()}function ee(){n(B)}function ce(){var ue=Date.now();if(L){if(ue-U<i)return;D=!0}else L=!0,D=!1,setTimeout(ee,I);U=ue}return ce}var o=20,u=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver!="undefined",l=function(){function A(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),o)}return A.prototype.addObserver=function(I){~this.observers_.indexOf(I)||this.observers_.push(I),this.connected_||this.connect_()},A.prototype.removeObserver=function(I){var L=this.observers_,D=L.indexOf(I);~D&&L.splice(D,1),!L.length&&this.connected_&&this.disconnect_()},A.prototype.refresh=function(){var I=this.updateObservers_();I&&this.refresh()},A.prototype.updateObservers_=function(){var I=this.observers_.filter(function(L){return L.gatherActive(),L.hasActive()});return I.forEach(function(L){return L.broadcastActive()}),I.length>0},A.prototype.connect_=function(){!e||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},A.prototype.disconnect_=function(){!e||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},A.prototype.onTransitionEnd_=function(I){var L=I.propertyName,D=L===void 0?"":L,U=u.some(function(B){return!!~D.indexOf(B)});U&&this.refresh()},A.getInstance=function(){return this.instance_||(this.instance_=new A),this.instance_},A.instance_=null,A}(),c=function(I,L){for(var D=0,U=Object.keys(L);D<U.length;D++){var B=U[D];Object.defineProperty(I,B,{value:L[B],enumerable:!1,writable:!1,configurable:!0})}return I},f=function(I){var L=I&&I.ownerDocument&&I.ownerDocument.defaultView;return L||r},p=F(0,0,0,0);function d(A){return parseFloat(A)||0}function v(A){for(var I=[],L=1;L<arguments.length;L++)I[L-1]=arguments[L];return I.reduce(function(D,U){var B=A["border-"+U+"-width"];return D+d(B)},0)}function m(A){for(var I=["top","right","bottom","left"],L={},D=0,U=I;D<U.length;D++){var B=U[D],ee=A["padding-"+B];L[B]=d(ee)}return L}function g(A){var I=A.getBBox();return F(0,0,I.width,I.height)}function w(A){var I=A.clientWidth,L=A.clientHeight;if(!I&&!L)return p;var D=f(A).getComputedStyle(A),U=m(D),B=U.left+U.right,ee=U.top+U.bottom,ce=d(D.width),ue=d(D.height);if(D.boxSizing==="border-box"&&(Math.round(ce+B)!==I&&(ce-=v(D,"left","right")+B),Math.round(ue+ee)!==L&&(ue-=v(D,"top","bottom")+ee)),!O(A)){var Ue=Math.round(ce+B)-I,$e=Math.round(ue+ee)-L;Math.abs(Ue)!==1&&(ce-=Ue),Math.abs($e)!==1&&(ue-=$e)}return F(U.left,U.top,ce,ue)}var _=function(){return typeof SVGGraphicsElement!="undefined"?function(A){return A instanceof f(A).SVGGraphicsElement}:function(A){return A instanceof f(A).SVGElement&&typeof A.getBBox=="function"}}();function O(A){return A===f(A).document.documentElement}function T(A){return e?_(A)?g(A):w(A):p}function C(A){var I=A.x,L=A.y,D=A.width,U=A.height,B=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,ee=Object.create(B.prototype);return c(ee,{x:I,y:L,width:D,height:U,top:L,right:I+D,bottom:U+L,left:I}),ee}function F(A,I,L,D){return{x:A,y:I,width:L,height:D}}var $=function(){function A(I){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=F(0,0,0,0),this.target=I}return A.prototype.isActive=function(){var I=T(this.target);return this.contentRect_=I,I.width!==this.broadcastWidth||I.height!==this.broadcastHeight},A.prototype.broadcastRect=function(){var I=this.contentRect_;return this.broadcastWidth=I.width,this.broadcastHeight=I.height,I},A}(),G=function(){function A(I,L){var D=C(L);c(this,{target:I,contentRect:D})}return A}(),q=function(){function A(I,L,D){if(this.activeObservations_=[],this.observations_=new t,typeof I!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=I,this.controller_=L,this.callbackCtx_=D}return A.prototype.observe=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(I instanceof f(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var L=this.observations_;L.has(I)||(L.set(I,new $(I)),this.controller_.addObserver(this),this.controller_.refresh())}},A.prototype.unobserve=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(I instanceof f(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var L=this.observations_;!L.has(I)||(L.delete(I),L.size||this.controller_.removeObserver(this))}},A.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},A.prototype.gatherActive=function(){var I=this;this.clearActive(),this.observations_.forEach(function(L){L.isActive()&&I.activeObservations_.push(L)})},A.prototype.broadcastActive=function(){if(!!this.hasActive()){var I=this.callbackCtx_,L=this.activeObservations_.map(function(D){return new G(D.target,D.broadcastRect())});this.callback_.call(I,L,I),this.clearActive()}},A.prototype.clearActive=function(){this.activeObservations_.splice(0)},A.prototype.hasActive=function(){return this.activeObservations_.length>0},A}(),j=typeof WeakMap!="undefined"?new WeakMap:new t,Q=function(){function A(I){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var L=l.getInstance(),D=new q(I,L,this);j.set(this,D)}return A}();["observe","unobserve","disconnect"].forEach(function(A){Q.prototype[A]=function(){var I;return(I=j.get(this))[A].apply(I,arguments)}});var X=function(){return typeof r.ResizeObserver!="undefined"?r.ResizeObserver:Q}();return X})});var R6=h(function(uft,Gv){function qs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qs=function(r){return typeof r}:qs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qs(t)}var pP=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(D,U,B){return Object.defineProperty(D,U,{value:B,enumerable:!0,configurable:!0,writable:!0}),D[U]}try{s({},"")}catch(D){s=function(B,ee,ce){return B[ee]=ce}}function l(D,U,B,ee){var ce=U&&U.prototype instanceof g?U:g,ue=Object.create(ce.prototype),Ue=new A(ee||[]);return ue._invoke=q(D,B,Ue),ue}t.wrap=l;function c(D,U,B){try{return{type:"normal",arg:D.call(U,B)}}catch(ee){return{type:"throw",arg:ee}}}var f="suspendedStart",p="suspendedYield",d="executing",v="completed",m={};function g(){}function w(){}function _(){}var O={};s(O,a,function(){return this});var T=Object.getPrototypeOf,C=T&&T(T(I([])));C&&C!==e&&r.call(C,a)&&(O=C);var F=_.prototype=g.prototype=Object.create(O);w.prototype=_,s(F,"constructor",_),s(_,"constructor",w),w.displayName=s(_,u,"GeneratorFunction");function $(D){["next","throw","return"].forEach(function(U){s(D,U,function(B){return this._invoke(U,B)})})}t.isGeneratorFunction=function(D){var U=typeof D=="function"&&D.constructor;return U?U===w||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,_):(D.__proto__=_,s(D,u,"GeneratorFunction")),D.prototype=Object.create(F),D},t.awrap=function(D){return{__await:D}};function G(D,U){function B(ue,Ue,$e,st){var lt=c(D[ue],D,Ue);if(lt.type==="throw")st(lt.arg);else{var Wt=lt.arg,Pt=Wt.value;return Pt&&qs(Pt)==="object"&&r.call(Pt,"__await")?U.resolve(Pt.__await).then(function(Vt){B("next",Vt,$e,st)},function(Vt){B("throw",Vt,$e,st)}):U.resolve(Pt).then(function(Vt){Wt.value=Vt,$e(Wt)},function(Vt){return B("throw",Vt,$e,st)})}}var ee;function ce(ue,Ue){function $e(){return new U(function(st,lt){B(ue,Ue,st,lt)})}return ee=ee?ee.then($e,$e):$e()}this._invoke=ce}$(G.prototype),s(G.prototype,o,function(){return this}),t.AsyncIterator=G,t.async=function(D,U,B,ee,ce){ce===void 0&&(ce=Promise);var ue=new G(l(D,U,B,ee),ce);return t.isGeneratorFunction(U)?ue:ue.next().then(function(Ue){return Ue.done?Ue.value:ue.next()})};function q(D,U,B){var ee=f;return function(ue,Ue){if(ee===d)throw new Error("Generator is already running");if(ee===v){if(ue==="throw")throw Ue;return L()}for(B.method=ue,B.arg=Ue;;){var $e=B.delegate;if($e){var st=j($e,B);if(st){if(st===m)continue;return st}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(ee===f)throw ee=v,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);ee=d;var lt=c(D,U,B);if(lt.type==="normal"){if(ee=B.done?v:p,lt.arg===m)continue;return{value:lt.arg,done:B.done}}else lt.type==="throw"&&(ee=v,B.method="throw",B.arg=lt.arg)}}}function j(D,U){var B=D.iterator[U.method];if(B===n){if(U.delegate=null,U.method==="throw"){if(D.iterator.return&&(U.method="return",U.arg=n,j(D,U),U.method==="throw"))return m;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var ee=c(B,D.iterator,U.arg);if(ee.type==="throw")return U.method="throw",U.arg=ee.arg,U.delegate=null,m;var ce=ee.arg;if(!ce)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,m;if(ce.done)U[D.resultName]=ce.value,U.next=D.nextLoc,U.method!=="return"&&(U.method="next",U.arg=n);else return ce;return U.delegate=null,m}$(F),s(F,u,"Generator"),s(F,a,function(){return this}),s(F,"toString",function(){return"[object Generator]"});function Q(D){var U={tryLoc:D[0]};1 in D&&(U.catchLoc=D[1]),2 in D&&(U.finallyLoc=D[2],U.afterLoc=D[3]),this.tryEntries.push(U)}function X(D){var U=D.completion||{};U.type="normal",delete U.arg,D.completion=U}function A(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(Q,this),this.reset(!0)}t.keys=function(D){var U=[];for(var B in D)U.push(B);return U.reverse(),function ee(){for(;U.length;){var ce=U.pop();if(ce in D)return ee.value=ce,ee.done=!1,ee}return ee.done=!0,ee}};function I(D){if(D){var U=D[a];if(U)return U.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var B=-1,ee=function ce(){for(;++B<D.length;)if(r.call(D,B))return ce.value=D[B],ce.done=!1,ce;return ce.value=n,ce.done=!0,ce};return ee.next=ee}}return{next:L}}t.values=I;function L(){return{value:n,done:!0}}return A.prototype={constructor:A,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!U)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=n)},stop:function(){this.done=!0;var U=this.tryEntries[0],B=U.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var B=this;function ee(lt,Wt){return Ue.type="throw",Ue.arg=U,B.next=lt,Wt&&(B.method="next",B.arg=n),!!Wt}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ue=this.tryEntries[ce],Ue=ue.completion;if(ue.tryLoc==="root")return ee("end");if(ue.tryLoc<=this.prev){var $e=r.call(ue,"catchLoc"),st=r.call(ue,"finallyLoc");if($e&&st){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}else if($e){if(this.prev<ue.catchLoc)return ee(ue.catchLoc,!0)}else if(st){if(this.prev<ue.finallyLoc)return ee(ue.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,B){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ce=this.tryEntries[ee];if(ce.tryLoc<=this.prev&&r.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ue=ce;break}}ue&&(U==="break"||U==="continue")&&ue.tryLoc<=B&&B<=ue.finallyLoc&&(ue=null);var Ue=ue?ue.completion:{};return Ue.type=U,Ue.arg=B,ue?(this.method="next",this.next=ue.finallyLoc,m):this.complete(Ue)},complete:function(U,B){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&B&&(this.next=B),m},finish:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var ee=this.tryEntries[B];if(ee.finallyLoc===U)return this.complete(ee.completion,ee.afterLoc),X(ee),m}},catch:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var ee=this.tryEntries[B];if(ee.tryLoc===U){var ce=ee.completion;if(ce.type==="throw"){var ue=ce.arg;X(ee)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(U,B,ee){return this.delegate={iterator:I(U),resultName:B,nextLoc:ee},this.method==="next"&&(this.arg=n),m}},t}((typeof Gv=="undefined"?"undefined":qs(Gv))==="object"?Gv.exports:{});try{regeneratorRuntime=pP}catch(t){(typeof globalThis=="undefined"?"undefined":qs(globalThis))==="object"?globalThis.regeneratorRuntime=pP:Function("r","regeneratorRuntime = r")(pP)}});var E6=h(function(sft,q6){function dP(t){return t<10?"0".concat(t):t.toString()}q6.exports=function(){var e=new Date,r=dP(e.getHours()),n=dP(e.getMinutes()),i=dP(e.getSeconds());return"".concat(r,":").concat(n,":").concat(i)}});var hP=h(function(Es){"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.justErrorsLogger=Es.debugLogger=void 0;var Kv=E6(),uNe={debug:function(){},warn:function(){},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Kv(),"]")].concat(n))}};Es.justErrorsLogger=uNe;var sNe={debug:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).debug.apply(e,["[Uppy] [".concat(Kv(),"]")].concat(n))},warn:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).warn.apply(e,["[Uppy] [".concat(Kv(),"]")].concat(n))},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Kv(),"]")].concat(n))}};Es.debugLogger=sNe});var No=h(function(cft,T6){var lNe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",cNe=function(e,r){return function(){for(var n="",i=r;i--;)n+=e[Math.random()*e.length|0];return n}},fNe=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=lNe[Math.random()*64|0];return r};T6.exports={nanoid:fNe,customAlphabet:cNe}});var Xv=h(function(fft,A6){function Yv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yv=function(r){return typeof r}:Yv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yv(t)}A6.exports=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+Yv(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?(r?"-":"")+e.toFixed(0)+" "+a:(r?"-":"")+e.toFixed(1)+" "+a}});var F6=h(function(pft,k6){"use strict";function Jv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jv=function(r){return typeof r}:Jv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jv(t)}function I6(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}I6.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(Jv(t)=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};k6.exports=function(t,e,r){var n=new I6(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var C6=h(function(dft,x6){var pNe=F6(),dNe=/[\/\+\.]/;x6.exports=function(t,e){function r(n){var i=pNe(n,t,dNe);return i&&i.length>=2}return e?r(e.split(";")[0]):r}});var B6=h(function(Fa){"use strict";function Qv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qv=function(r){return typeof r}:Qv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qv(t)}function hNe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=vNe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function vNe(t,e){if(!!t){if(typeof t=="string")return D6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yNe(t,e,r){return e&&U6(t.prototype,e),r&&U6(t,r),t}function vP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yf(t,e)}function M6(t){var e=N6();return function(){var n=mf(t),i;if(e){var a=mf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return mNe(this,i)}}function mNe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gNe(t)}function gNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zv(t){var e=typeof Map=="function"?new Map:void 0;return Zv=function(n){if(n===null||!bNe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return ey(n,arguments,mf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),yf(i,n)},Zv(t)}function ey(t,e,r){return N6()?ey=Reflect.construct:ey=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&yf(l,o.prototype),l},ey.apply(null,arguments)}function N6(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bNe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function yf(t,e){return yf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},yf(t,e)}function mf(t){return mf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mf(t)}Object.defineProperty(Fa,"__esModule",{value:!0});Fa.defaultOptions=Fa.RestrictionError=Fa.Restricter=void 0;var yP=Xv(),_Ne=C6(),wNe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};Fa.defaultOptions=wNe;var ka=function(t){j6(r,t);var e=M6(r);function r(){var n;return vP(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return r}(Zv(Error));Fa.RestrictionError=ka;typeof AggregateError=="undefined"&&(globalThis.AggregateError=function(t){j6(r,t);var e=M6(r);function r(n,i){var a;return vP(this,r),a=e.call(this,i),a.errors=n,a}return r}(Zv(Error)));var SNe=function(){function t(e,r){vP(this,t),this.i18n=r,this.getOpts=function(){var n=e();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return yNe(t,[{key:"validate",value:function(r,n){var i=this.getOpts().restrictions,a=i.maxFileSize,o=i.minFileSize,u=i.maxTotalFileSize,s=i.maxNumberOfFiles,l=i.allowedFileTypes;if(s&&n.length+1>s)throw new ka("".concat(this.i18n("youCanOnlyUploadX",{smart_count:s})));if(l){var c=l.some(function(d){return d.includes("/")?r.type?_Ne(r.type.replace(/;.*?$/,""),d):!1:d[0]==="."&&r.extension?r.extension.toLowerCase()===d.slice(1).toLowerCase():!1});if(!c){var f=l.join(", ");throw new ka(this.i18n("youCanOnlyUploadFileTypes",{types:f}))}}if(u&&r.size!=null){var p=n.reduce(function(d,v){return d+v.size},r.size);if(p>u)throw new ka(this.i18n("exceedsSize",{size:yP(u),file:r.name}))}if(a&&r.size!=null&&r.size>a)throw new ka(this.i18n("exceedsSize",{size:yP(a),file:r.name}));if(o&&r.size!=null&&r.size<o)throw new ka(this.i18n("inferiorSize",{size:yP(o)}))}},{key:"validateMinNumberOfFiles",value:function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new ka(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}},{key:"getMissingRequiredMetaFields",value:function(r){var n=new ka(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),i=this.getOpts().restrictions.requiredMetaFields,a=Object.prototype.hasOwnProperty,o=[],u=hNe(i),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;(!a.call(r.meta,l)||r.meta[l]==="")&&o.push(l)}}catch(c){u.e(c)}finally{u.f()}return{missingFields:o,error:n}}}]),t}();Fa.Restricter=SNe});var Ts=h(function(vft,L6){L6.exports=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}});var mP=h(function(yft,V6){function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ty(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){ONe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ONe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ry(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ry=function(r){return typeof r}:ry=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ry(t)}function PNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function RNe(t,e,r){return e&&$6(t.prototype,e),r&&$6(t,r),t}var As;function H6(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var qNe=0;function ENe(t){return"__private_"+qNe+++"_"+t}var TNe=Ts();function ANe(t,e,r){var n=[];return t.forEach(function(i){return typeof i!="string"?n.push(i):e[Symbol.split](i).forEach(function(a,o,u){a!==""&&n.push(a),o<u.length-1&&n.push(r)})}),n}function W6(t,e){var r=/\$/g,n="$$$$",i=[t];if(e==null)return i;for(var a=0,o=Object.keys(e);a<o.length;a++){var u=o[a];if(u!=="_"){var s=e[u];typeof s=="string"&&(s=r[Symbol.replace](s,n)),i=ANe(i,new RegExp("%\\{".concat(u,"\\}"),"g"),s)}}return i}V6.exports=(As=ENe("apply"),function(){function t(e){PNe(this,t),Object.defineProperty(this,As,{value:INe}),this.locale={strings:{},pluralize:function(n){return n===1?0:1}},Array.isArray(e)?e.forEach(H6(this,As)[As],this):H6(this,As)[As](e)}return RNe(t,[{key:"translate",value:function(r,n){return this.translateArray(r,n).join("")}},{key:"translateArray",value:function(r,n){if(!TNe(this.locale.strings,r))throw new Error("missing string: ".concat(r));var i=this.locale.strings[r],a=ry(i)==="object";if(a){if(n&&typeof n.smart_count!="undefined"){var o=this.locale.pluralize(n.smart_count);return W6(i[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return W6(i,n)}}]),t}());function INe(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=ty(ty({},e),{},{strings:ty(ty({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}});var gP=h(function(mft,G6){G6.exports=function(){var e={},r=e._fns={};e.emit=function(o,u,s,l,c,f,p){var d=n(o);d.length&&i(o,d,[u,s,l,c,f,p])},e.on=function(o,u){r[o]||(r[o]=[]),r[o].push(u)},e.once=function(o,u){function s(){u.apply(this,arguments),e.off(o,s)}this.on(o,s)},e.off=function(o,u){var s=[];if(o&&u){var l=this._fns[o],c=0,f=l?l.length:0;for(c;c<f;c++)l[c]!==u&&s.push(l[c])}s.length?this._fns[o]=s:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],u=a.indexOf(":"),s=u===-1?[a]:[a.substring(0,u),a.substring(u+1)],l=Object.keys(r),c=0,f=l.length;for(c;c<f;c++){var p=l[c];if(p==="*"&&(o=o.concat(r[p])),s.length===2&&s[0]===p){o=o.concat(r[p]);break}}return o}function i(a,o,u){var s=0,l=o.length;for(s;s<l&&o[s];s++)o[s].event=a,o[s].apply(o[s],u)}return e}});var gf=h(function(gft,J6){function xa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xa=function(r){return typeof r}:xa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xa(t)}var K6="Expected a function",Y6=0/0,kNe="[object Symbol]",FNe=/^\s+|\s+$/g,xNe=/^[-+]0x[0-9a-f]+$/i,CNe=/^0b[01]+$/i,DNe=/^0o[0-7]+$/i,UNe=parseInt,jNe=(typeof global=="undefined"?"undefined":xa(global))=="object"&&global&&global.Object===Object&&global,MNe=(typeof self=="undefined"?"undefined":xa(self))=="object"&&self&&self.Object===Object&&self,NNe=jNe||MNe||Function("return this")(),BNe=Object.prototype,LNe=BNe.toString,zNe=Math.max,$Ne=Math.min,bP=function(){return NNe.Date.now()};function HNe(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(K6);e=X6(e)||0,ny(r)&&(c=!!r.leading,f="maxWait"in r,a=f?zNe(X6(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(F){var $=n,G=i;return n=i=void 0,l=F,o=t.apply(G,$),o}function v(F){return l=F,u=setTimeout(w,e),c?d(F):o}function m(F){var $=F-s,G=F-l,q=e-$;return f?$Ne(q,a-G):q}function g(F){var $=F-s,G=F-l;return s===void 0||$>=e||$<0||f&&G>=a}function w(){var F=bP();if(g(F))return _(F);u=setTimeout(w,m(F))}function _(F){return u=void 0,p&&n?d(F):(n=i=void 0,o)}function O(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function T(){return u===void 0?o:_(bP())}function C(){var F=bP(),$=g(F);if(n=arguments,i=this,s=F,$){if(u===void 0)return v(s);if(f)return u=setTimeout(w,e),d(s)}return u===void 0&&(u=setTimeout(w,e)),o}return C.cancel=O,C.flush=T,C}function WNe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(K6);return ny(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),HNe(t,e,{leading:n,maxWait:e,trailing:i})}function ny(t){var e=xa(t);return!!t&&(e=="object"||e=="function")}function VNe(t){return!!t&&xa(t)=="object"}function GNe(t){return xa(t)=="symbol"||VNe(t)&&LNe.call(t)==kNe}function X6(t){if(typeof t=="number")return t;if(GNe(t))return Y6;if(ny(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ny(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(FNe,"");var r=CNe.test(t);return r||DNe.test(t)?UNe(t.slice(2),r?2:8):xNe.test(t)?Y6:+t}J6.exports=WNe});var SP=h(function(bft,t4){"use strict";function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){KNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KNe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XNe(t,e,r){return e&&Z6(t.prototype,e),r&&Z6(t,r),t}function JNe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var QNe=0;function ZNe(t){return"__private_"+QNe+++"_"+t}var e5e={version:"2.0.3"},wP=ZNe("publish"),e4=function(){function t(){YNe(this,t),Object.defineProperty(this,wP,{value:t5e}),this.state={},this.callbacks=[]}return XNe(t,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(r){var n=_P({},this.state),i=_P(_P({},this.state),r);this.state=i,JNe(this,wP)[wP](n,i,r)}},{key:"subscribe",value:function(r){var n=this;return this.callbacks.push(r),function(){n.callbacks.splice(n.callbacks.indexOf(r),1)}}}]),t}();function t5e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.callbacks.forEach(function(n){n.apply(void 0,e)})}e4.VERSION=e5e.version;function r5e(){return new e4}t4.exports=r5e});var bf=h(function(_ft,r4){r4.exports=function(e){var r=e.lastIndexOf(".");return r===-1||r===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,r),extension:e.slice(r+1)}}});var OP=h(function(wft,n4){n4.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}});var PP=h(function(Sft,a4){var n5e=bf(),i4=OP();a4.exports=function(e){var r;if(e.type)return e.type;var n=e.name?(r=n5e(e.name).extension)==null?void 0:r.toLowerCase():null;return n&&n in i4?i4[n]:"application/octet-stream"}});var RP=h(function(Oft,u4){function i5e(t){return t.charCodeAt(0).toString(32)}function o4(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat(i5e(r)),"/"})+e}u4.exports=function(e){var r="uppy";return typeof e.name=="string"&&(r+="-".concat(o4(e.name.toLowerCase()))),e.type!==void 0&&(r+="-".concat(e.type)),e.meta&&typeof e.meta.relativePath=="string"&&(r+="-".concat(o4(e.meta.relativePath.toLowerCase()))),e.data.size!==void 0&&(r+="-".concat(e.data.size)),e.data.lastModified!==void 0&&(r+="-".concat(e.data.lastModified)),r}});var c4=h(function(Pft,l4){"use strict";function a5e(t,e){return l5e(t)||s5e(t,e)||u5e(t,e)||o5e()}function o5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u5e(t,e){if(!!t){if(typeof t=="string")return s4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s5e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function l5e(t){if(Array.isArray(t))return t}function c5e(t){if(t==null&&typeof navigator!="undefined"&&(t=navigator.userAgent),!t)return!0;var e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;var r=e[1],n=r.split("."),i=a5e(n,2),a=i[0],o=i[1];return a=parseInt(a,10),o=parseInt(o,10),a<15||a===15&&o<15063||a>18||a===18&&o>=18218}l4.exports=c5e});var p4=h(function(Rft,f4){"use strict";function f5e(t,e){return e.name?e.name:t.split("/")[0]==="image"?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}f4.exports=f5e});var h4=h(function(qft,d4){"use strict";d4.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}});var kP=h(function(Eft,S4){"use strict";function v4(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function p5e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){v4(a,n,i,o,u,"next",s)}function u(s){v4(a,n,i,o,u,"throw",s)}o(void 0)})}}function iy(t){return y5e(t)||v5e(t)||h5e(t)||d5e()}function d5e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h5e(t,e){if(!!t){if(typeof t=="string")return qP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(t,e)}}function v5e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y5e(t){if(Array.isArray(t))return qP(t)}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ca(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(r){return typeof r}:Ca=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ca(t)}function y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(r),!0).forEach(function(n){Bo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g5e(t,e,r){return e&&m4(t.prototype,e),r&&m4(t,r),t}var b5e=No(),g4=hP(),Is=B6(),b4,_4;function se(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var _5e=0;function wt(t){return"__private_"+_5e+++"_"+t}var w5e=mP(),S5e=gP(),O5e=gf(),P5e=SP(),R5e=PP(),q5e=bf(),E5e=RP(),T5e=c4(),A5e=p4(),I5e={version:"2.2.0"},k5e=h4(),jt=wt("plugins"),gn=wt("restricter"),_f=wt("storeUnsubscribe"),Ii=wt("emitter"),Lo=wt("preProcessors"),zo=wt("uploaders"),ki=wt("postProcessors"),Er=wt("informAndEmit"),wf=wt("checkRequiredMetaFieldsOnFile"),EP=wt("checkRequiredMetaFields"),Sf=wt("assertNewUploadAllowed"),Of=wt("checkAndCreateFileStateObject"),Pf=wt("startIfAutoProceed"),TP=wt("addListeners"),bn=wt("updateOnlineStatus"),Fi=wt("createUpload"),AP=wt("getUpload"),$o=wt("removeUpload"),xi=wt("runUpload");b4=Symbol.for("uppy test: getPlugins");_4=Symbol.for("uppy test: createUpload");var w4=function(t,e){function r(n){var i=this;m5e(this,r),Object.defineProperty(this,xi,{value:z5e}),Object.defineProperty(this,$o,{value:L5e}),Object.defineProperty(this,AP,{value:B5e}),Object.defineProperty(this,Fi,{value:N5e}),Object.defineProperty(this,TP,{value:M5e}),Object.defineProperty(this,Pf,{value:j5e}),Object.defineProperty(this,Of,{value:U5e}),Object.defineProperty(this,Sf,{value:D5e}),Object.defineProperty(this,EP,{value:C5e}),Object.defineProperty(this,wf,{value:x5e}),Object.defineProperty(this,Er,{value:F5e}),Object.defineProperty(this,jt,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,gn,{writable:!0,value:void 0}),Object.defineProperty(this,_f,{writable:!0,value:void 0}),Object.defineProperty(this,Ii,{writable:!0,value:S5e()}),Object.defineProperty(this,Lo,{writable:!0,value:new Set}),Object.defineProperty(this,zo,{writable:!0,value:new Set}),Object.defineProperty(this,ki,{writable:!0,value:new Set}),Object.defineProperty(this,bn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=k5e;var a={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:Is.defaultOptions,meta:{},onBeforeFileAdded:function(u){return u},onBeforeUpload:function(u){return u},store:P5e(),logger:g4.justErrorsLogger,infoTimeout:5e3};this.opts=J(J(J({},a),n),{},{restrictions:J(J({},a.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=g4.debugLogger),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=O5e(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:T5e(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:J({},this.opts.meta),info:[],recoveredState:null}),se(this,gn)[gn]=new Is.Restricter(function(){return i.opts},this.i18n),se(this,_f)[_f]=this.store.subscribe(function(o,u,s){i.emit("state-update",o,u,s),i.updateAll(u)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),se(this,TP)[TP]()}return g5e(r,[{key:"emit",value:function(i){for(var a,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];(a=se(this,Ii)[Ii]).emit.apply(a,[i].concat(u))}},{key:"on",value:function(i,a){return se(this,Ii)[Ii].on(i,a),this}},{key:"once",value:function(i,a){return se(this,Ii)[Ii].once(i,a),this}},{key:"off",value:function(i,a){return se(this,Ii)[Ii].off(i,a),this}},{key:"updateAll",value:function(i){this.iteratePlugins(function(a){a.update(i)})}},{key:"setState",value:function(i){this.store.setState(i)}},{key:"getState",value:function(){return this.store.getState()}},{key:"state",get:function(){return this.getState()}},{key:"setFileState",value:function(i,a){if(!this.getState().files[i])throw new Error("Can\u2019t set state for ".concat(i," (the file could have been removed)"));this.setState({files:J(J({},this.getState().files),{},Bo({},i,J(J({},this.getState().files[i]),a)))})}},{key:"i18nInit",value:function(){var i=new w5e([this.defaultLocale,this.opts.locale]);this.i18n=i.translate.bind(i),this.i18nArray=i.translateArray.bind(i),this.locale=i.locale}},{key:"setOptions",value:function(i){this.opts=J(J(J({},this.opts),i),{},{restrictions:J(J({},this.opts.restrictions),i&&i.restrictions)}),i.meta&&this.setMeta(i.meta),this.i18nInit(),i.locale&&this.iteratePlugins(function(a){a.setOptions()}),this.setState()}},{key:"resetProgress",value:function(){var i={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},a=J({},this.getState().files),o={};Object.keys(a).forEach(function(u){var s=J({},a[u]);s.progress=J(J({},s.progress),i),o[u]=s}),this.setState({files:o,totalProgress:0}),this.emit("reset-progress")}},{key:"addPreProcessor",value:function(i){se(this,Lo)[Lo].add(i)}},{key:"removePreProcessor",value:function(i){return se(this,Lo)[Lo].delete(i)}},{key:"addPostProcessor",value:function(i){se(this,ki)[ki].add(i)}},{key:"removePostProcessor",value:function(i){return se(this,ki)[ki].delete(i)}},{key:"addUploader",value:function(i){se(this,zo)[zo].add(i)}},{key:"removeUploader",value:function(i){return se(this,zo)[zo].delete(i)}},{key:"setMeta",value:function(i){var a=J(J({},this.getState().meta),i),o=J({},this.getState().files);Object.keys(o).forEach(function(u){o[u]=J(J({},o[u]),{},{meta:J(J({},o[u].meta),i)})}),this.log("Adding metadata:"),this.log(i),this.setState({meta:a,files:o})}},{key:"setFileMeta",value:function(i,a){var o=J({},this.getState().files);if(!o[i]){this.log("Was trying to set metadata for a file that has been removed: ",i);return}var u=J(J({},o[i].meta),a);o[i]=J(J({},o[i]),{},{meta:u}),this.setState({files:o})}},{key:"getFile",value:function(i){return this.getState().files[i]}},{key:"getFiles",value:function(){var i=this.getState(),a=i.files;return Object.values(a)}},{key:"getObjectOfFilesPerState",value:function(){var i=this.getState(),a=i.files,o=i.totalProgress,u=i.error,s=Object.values(a),l=s.filter(function(_){var O=_.progress;return!O.uploadComplete&&O.uploadStarted}),c=s.filter(function(_){return!_.progress.uploadStarted}),f=s.filter(function(_){return _.progress.uploadStarted||_.progress.preprocess||_.progress.postprocess}),p=s.filter(function(_){return _.progress.uploadStarted}),d=s.filter(function(_){return _.isPaused}),v=s.filter(function(_){return _.progress.uploadComplete}),m=s.filter(function(_){return _.error}),g=l.filter(function(_){return!_.isPaused}),w=s.filter(function(_){return _.progress.preprocess||_.progress.postprocess});return{newFiles:c,startedFiles:f,uploadStartedFiles:p,pausedFiles:d,completeFiles:v,erroredFiles:m,inProgressFiles:l,inProgressNotPausedFiles:g,processingFiles:w,isUploadStarted:p.length>0,isAllComplete:o===100&&v.length===s.length&&w.length===0,isAllErrored:!!u&&m.length===s.length,isAllPaused:l.length!==0&&d.length===l.length,isUploadInProgress:l.length>0,isSomeGhost:s.some(function(_){return _.isGhost})}}},{key:"validateRestrictions",value:function(i,a){a===void 0&&(a=this.getFiles());try{return se(this,gn)[gn].validate(i,a),{result:!0}}catch(o){return{result:!1,reason:o.message}}}},{key:"checkIfFileAlreadyExists",value:function(i){var a=this.getState(),o=a.files;return!!(o[i]&&!o[i].isGhost)}},{key:"addFile",value:function(i){se(this,Sf)[Sf](i);var a=this.getState(),o=a.files,u=se(this,Of)[Of](o,i);return o[u.id]&&o[u.id].isGhost&&(u=J(J({},o[u.id]),{},{data:i.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(u.name,", ").concat(u.id))),this.setState({files:J(J({},o),{},Bo({},u.id,u))}),this.emit("file-added",u),this.emit("files-added",[u]),this.log("Added file: ".concat(u.name,", ").concat(u.id,", mime type: ").concat(u.type)),se(this,Pf)[Pf](),u.id}},{key:"addFiles",value:function(i){var a=this;se(this,Sf)[Sf]();for(var o=J({},this.getState().files),u=[],s=[],l=0;l<i.length;l++)try{var c=se(this,Of)[Of](o,i[l]);o[c.id]&&o[c.id].isGhost&&(c=J(J({},o[c.id]),{},{data:i[l].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(c.name,", ").concat(c.id))),o[c.id]=c,u.push(c)}catch(d){d.isRestriction||s.push(d)}if(this.setState({files:o}),u.forEach(function(d){a.emit("file-added",d)}),this.emit("files-added",u),u.length>5?this.log("Added batch of ".concat(u.length," files")):Object.keys(u).forEach(function(d){a.log("Added file: ".concat(u[d].name,"\n id: ").concat(u[d].id,"\n type: ").concat(u[d].type))}),u.length>0&&se(this,Pf)[Pf](),s.length>0){var f="Multiple errors occurred while adding files:\n";if(s.forEach(function(d){f+="\n * ".concat(d.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:f},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,f);var p=new Error(f);throw p.errors=s,p}}},{key:"removeFiles",value:function(i,a){var o=this,u=this.getState(),s=u.files,l=u.currentUploads,c=J({},s),f=J({},l),p=Object.create(null);i.forEach(function(g){s[g]&&(p[g]=s[g],delete c[g])});function d(g){return p[g]===void 0}Object.keys(f).forEach(function(g){var w=l[g].fileIDs.filter(d);if(w.length===0){delete f[g];return}f[g]=J(J({},l[g]),{},{fileIDs:w})});var v={currentUploads:f,files:c};Object.keys(c).length===0&&(v.allowNewUpload=!0,v.error=null,v.recoveredState=null),this.setState(v),this.calculateTotalProgress();var m=Object.keys(p);m.forEach(function(g){o.emit("file-removed",p[g],a)}),m.length>5?this.log("Removed ".concat(m.length," files")):this.log("Removed files: ".concat(m.join(", ")))}},{key:"removeFile",value:function(i,a){a===void 0&&(a=null),this.removeFiles([i],a)}},{key:"pauseResume",value:function(i){if(!(!this.getState().capabilities.resumableUploads||this.getFile(i).uploadComplete)){var a=this.getFile(i).isPaused||!1,o=!a;return this.setFileState(i,{isPaused:o}),this.emit("upload-pause",i,o),o}}},{key:"pauseAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=J(J({},i[o]),{},{isPaused:!0});i[o]=u}),this.setState({files:i}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=J(J({},i[o]),{},{isPaused:!1,error:null});i[o]=u}),this.setState({files:i}),this.emit("resume-all")}},{key:"retryAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(u){return i[u].error});if(a.forEach(function(u){var s=J(J({},i[u]),{},{isPaused:!1,error:null});i[u]=s}),this.setState({files:i,error:null}),this.emit("retry-all",a),a.length===0)return Promise.resolve({successful:[],failed:[]});var o=se(this,Fi)[Fi](a,{forceAllowNewUpload:!0});return se(this,xi)[xi](o)}},{key:"cancelAll",value:function(i){var a=i===void 0?{}:i,o=a.reason,u=o===void 0?"user":o;if(this.emit("cancel-all",{reason:u}),u==="user"){var s=this.getState(),l=s.files,c=Object.keys(l);c.length&&this.removeFiles(c,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}},{key:"retryUpload",value:function(i){this.setFileState(i,{error:null,isPaused:!1}),this.emit("upload-retry",i);var a=se(this,Fi)[Fi]([i],{forceAllowNewUpload:!0});return se(this,xi)[xi](a)}},{key:"reset",value:function(){this.cancelAll.apply(this,arguments)}},{key:"logout",value:function(){this.iteratePlugins(function(i){i.provider&&i.provider.logout&&i.provider.logout()})}},{key:"calculateProgress",value:function(i,a){if(i==null||!this.getFile(i.id)){this.log("Not setting progress for a file that has been removed: ".concat(i==null?void 0:i.id));return}var o=Number.isFinite(a.bytesTotal)&&a.bytesTotal>0;this.setFileState(i.id,{progress:J(J({},this.getFile(i.id).progress),{},{bytesUploaded:a.bytesUploaded,bytesTotal:a.bytesTotal,percentage:o?Math.round(a.bytesUploaded/a.bytesTotal*100):0})}),this.calculateTotalProgress()}},{key:"calculateTotalProgress",value:function(){var i=this.getFiles(),a=i.filter(function(m){return m.progress.uploadStarted||m.progress.preprocess||m.progress.postprocess});if(a.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var o=a.filter(function(m){return m.progress.bytesTotal!=null}),u=a.filter(function(m){return m.progress.bytesTotal==null});if(o.length===0){var s=a.length*100,l=u.reduce(function(m,g){return m+g.progress.percentage},0),c=Math.round(l/s*100);this.setState({totalProgress:c});return}var f=o.reduce(function(m,g){return m+g.progress.bytesTotal},0),p=f/o.length;f+=p*u.length;var d=0;o.forEach(function(m){d+=m.progress.bytesUploaded}),u.forEach(function(m){d+=p*(m.progress.percentage||0)/100});var v=f===0?0:Math.round(d/f*100);v>100&&(v=100),this.setState({totalProgress:v}),this.emit("progress",v)}},{key:"updateOnlineStatus",value:function(){var i=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;i?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(i,a){if(typeof i!="function"){var o="Expected a plugin class, but got ".concat(i===null?"null":Ca(i),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(o)}var u=new i(this,a),s=u.id;if(!s)throw new Error("Your plugin must have an id");if(!u.type)throw new Error("Your plugin must have a type");var l=this.getPlugin(s);if(l){var c="Already found a plugin named '".concat(l.id,"'. ")+"Tried to use: '".concat(s,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(c)}return i.VERSION&&this.log("Using ".concat(s," v").concat(i.VERSION)),u.type in se(this,jt)[jt]?se(this,jt)[jt][u.type].push(u):se(this,jt)[jt][u.type]=[u],u.install(),this}},{key:"getPlugin",value:function(i){for(var a=0,o=Object.values(se(this,jt)[jt]);a<o.length;a++){var u=o[a],s=u.find(function(l){return l.id===i});if(s!=null)return s}}},{key:t,value:function(i){return se(this,jt)[jt][i]}},{key:"iteratePlugins",value:function(i){Object.values(se(this,jt)[jt]).flat(1).forEach(i)}},{key:"removePlugin",value:function(i){this.log("Removing plugin ".concat(i.id)),this.emit("plugin-remove",i),i.uninstall&&i.uninstall();var a=se(this,jt)[jt][i.type],o=a.findIndex(function(l){return l.id===i.id});o!==-1&&a.splice(o,1);var u=this.getState(),s={plugins:J(J({},u.plugins),{},Bo({},i.id,void 0))};this.setState(s)}},{key:"close",value:function(i){var a=this,o=i===void 0?{}:i,u=o.reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:u}),se(this,_f)[_f](),this.iteratePlugins(function(s){a.removePlugin(s)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",se(this,bn)[bn]),window.removeEventListener("offline",se(this,bn)[bn]))}},{key:"hideInfo",value:function(){var i=this.getState(),a=i.info;this.setState({info:a.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(i,a,o){var u=this;a===void 0&&(a="info"),o===void 0&&(o=3e3);var s=Ca(i)==="object";this.setState({info:[].concat(iy(this.getState().info),[{type:a,message:s?i.message:i,details:s?i.details:null}])}),setTimeout(function(){return u.hideInfo()},o),this.emit("info-visible")}},{key:"log",value:function(i,a){var o=this.opts.logger;switch(a){case"error":o.error(i);break;case"warning":o.warn(i);break;default:o.debug(i);break}}},{key:"restore",value:function(i){return this.log('Core: attempting to restore upload "'.concat(i,'"')),this.getState().currentUploads[i]?se(this,xi)[xi](i):(se(this,$o)[$o](i),Promise.reject(new Error("Nonexistent upload")))}},{key:e,value:function(){var i;return(i=se(this,Fi))[Fi].apply(i,arguments)}},{key:"addResultData",value:function(i,a){if(!se(this,AP)[AP](i)){this.log("Not setting result for an upload that has been removed: ".concat(i));return}var o=this.getState(),u=o.currentUploads,s=J(J({},u[i]),{},{result:J(J({},u[i].result),a)});this.setState({currentUploads:J(J({},u),{},Bo({},i,s))})}},{key:"upload",value:function(){var i=this,a;(a=se(this,jt)[jt].uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");var o=this.getState(),u=o.files,s=this.opts.onBeforeUpload(u);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&Ca(s)==="object"&&(u=s,this.setState({files:u})),Promise.resolve().then(function(){return se(i,gn)[gn].validateMinNumberOfFiles(u)}).catch(function(l){throw se(i,Er)[Er](l),l}).then(function(){if(!se(i,EP)[EP](u))throw new Is.RestrictionError(i.i18n("missingRequiredMetaField"))}).catch(function(l){throw l}).then(function(){var l=i.getState(),c=l.currentUploads,f=Object.values(c).flatMap(function(v){return v.fileIDs}),p=[];Object.keys(u).forEach(function(v){var m=i.getFile(v);!m.progress.uploadStarted&&f.indexOf(v)===-1&&p.push(m.id)});var d=se(i,Fi)[Fi](p);return se(i,xi)[xi](d)}).catch(function(l){throw i.emit("error",l),i.log(l,"error"),l}))}}]),r}(b4,_4);function F5e(t,e){var r=t.message,n=t.details,i=n===void 0?"":n;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:r,details:i},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(i).trim(),"error")}function x5e(t){var e=se(this,gn)[gn].getMissingRequiredMetaFields(t),r=e.missingFields,n=e.error;return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}function C5e(t){for(var e=!0,r=0,n=Object.values(t);r<n.length;r++){var i=n[r];se(this,wf)[wf](i)||(e=!1)}return e}function D5e(t){var e=this.getState(),r=e.allowNewUpload;if(r===!1){var n=new Is.RestrictionError(this.i18n("noMoreFilesAllowed"));throw se(this,Er)[Er](n,t),n}}function U5e(t,e){var r=R5e(e),n=A5e(r,e),i=q5e(n).extension,a=Boolean(e.isRemote),o=E5e(J(J({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(o)){var u=new Is.RestrictionError(this.i18n("noDuplicates",{fileName:n}));throw se(this,Er)[Er](u,e),u}var s=e.meta||{};s.name=n,s.type=r;var l=Number.isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:o,name:n,extension:i||"",meta:J(J({},this.getState().meta),s),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:a,remote:e.remote||"",preview:e.preview},f=this.opts.onBeforeFileAdded(c,t);if(f===!1){var p=new Is.RestrictionError("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,p),p}else Ca(f)==="object"&&f!==null&&(c=f);try{var d=Object.keys(t).map(function(v){return t[v]});se(this,gn)[gn].validate(c,d)}catch(v){throw se(this,Er)[Er](v,c),v}return c}function j5e(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}function M5e(){var t=this,e=function(n,i,a){var o=n.message||"Unknown error";n.details&&(o+=" ".concat(n.details)),t.setState({error:o}),i!=null&&i.id in t.getState().files&&t.setFileState(i.id,{error:o,response:a})};this.on("error",e),this.on("upload-error",function(r,n,i){if(e(n,r,i),Ca(n)==="object"&&n.message){var a=new Error(n.message);a.details=n.message,n.details&&(a.details+=" ".concat(n.details)),a.message=t.i18n("failedToUpload",{file:r.name}),se(t,Er)[Er](a)}else se(t,Er)[Er](n)}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var i=t.getFile(r.id).progress;t.setFileState(r.id,{progress:J(J({},i),{},{postprocess:se(t,ki)[ki].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||i.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:J(J({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},t.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:J(J({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},t.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&se(t,wf)[wf](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",se(this,bn)[bn]),window.addEventListener("offline",se(this,bn)[bn]),setTimeout(se(this,bn)[bn],3e3))}function N5e(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,i=n===void 0?!1:n,a=this.getState(),o=a.allowNewUpload,u=a.currentUploads;if(!o&&!i)throw new Error("Cannot create a new upload: already uploading.");var s=(0,b5e.nanoid)();return this.emit("upload",{id:s,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:J(J({},u),{},Bo({},s,{fileIDs:t,step:0,result:{}}))}),s}function B5e(t){var e=this.getState(),r=e.currentUploads;return r[t]}function L5e(t){var e=J({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}function z5e(t){return IP.apply(this,arguments)}function IP(){return IP=p5e(regeneratorRuntime.mark(function t(e){var r=this,n,i,a,o,u,s,l,c,f,p,d,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:n=this.getState(),i=n.currentUploads,a=i[e],o=a.step||0,u=[].concat(iy(se(this,Lo)[Lo]),iy(se(this,zo)[zo]),iy(se(this,ki)[ki])),g.prev=4,s=o;case 6:if(!(s<u.length)){g.next=19;break}if(a){g.next=9;break}return g.abrupt("break",19);case 9:return l=u[s],c=J(J({},a),{},{step:s}),this.setState({currentUploads:J(J({},i),{},Bo({},e,c))}),g.next=14,l(c.fileIDs,e);case 14:i=this.getState().currentUploads,a=i[e];case 16:s++,g.next=6;break;case 19:g.next=25;break;case 21:throw g.prev=21,g.t0=g.catch(4),se(this,$o)[$o](e),g.t0;case 25:if(!a){g.next=34;break}return a.fileIDs.forEach(function(w){var _=r.getFile(w);_&&_.progress.postprocess&&r.emit("postprocess-complete",_)}),f=a.fileIDs.map(function(w){return r.getFile(w)}),p=f.filter(function(w){return!w.error}),d=f.filter(function(w){return w.error}),g.next=32,this.addResultData(e,{successful:p,failed:d,uploadID:e});case 32:i=this.getState().currentUploads,a=i[e];case 34:return a&&(v=a.result,this.emit("complete",v),se(this,$o)[$o](e)),v==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),g.abrupt("return",v);case 37:case"end":return g.stop()}},t,this,[[4,21]])})),IP.apply(this,arguments)}w4.VERSION=I5e.version;S4.exports=w4});var ne={};fI(ne,{Component:function(){return Af},Fragment:function(){return Tf},cloneElement:function(){return K5e},createContext:function(){return Y5e},createElement:function(){return I4},createRef:function(){return H5e},h:function(){return I4},hydrate:function(){return $4},isValidElement:function(){return P4},options:function(){return ve},render:function(){return z4},toChildArray:function(){return C4}});function Ci(t,e){for(var r in e)t[r]=e[r];return t}function A4(t){var e=t.parentNode;e&&e.removeChild(t)}function I4(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Rf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Ef(t,o,n,i,null)}function Ef(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++O4:i};return i==null&&ve.vnode!=null&&ve.vnode(a),a}function H5e(){return{current:null}}function Tf(t){return t.children}function Af(t,e){this.props=t,this.context=e}function ks(t,e){if(e==null)return t.__?ks(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ks(t):null}function k4(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return k4(t)}}function FP(t){(!t.__d&&(t.__d=!0)&&qf.push(t)&&!oy.__r++||q4!==ve.debounceRendering)&&((q4=ve.debounceRendering)||R4)(oy)}function oy(){for(var t;oy.__r=qf.length;)t=qf.sort(function(e,r){return e.__v.__b-r.__v.__b}),qf=[],t.some(function(e){var r,n,i,a,o,u;e.__d&&(o=(a=(r=e).__v).__e,(u=r.__P)&&(n=[],(i=Ci({},a)).__v=a.__v+1,xP(u,a,i,r.__n,u.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?ks(a):o,a.__h),N4(n,a),a.__e!=o&&k4(a)))})}function F4(t,e,r,n,i,a,o,u,s,l){var c,f,p,d,v,m,g,w=n&&n.__k||T4,_=w.length;for(r.__k=[],c=0;c<e.length;c++)if((d=r.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Ef(null,d,null,null,d):Array.isArray(d)?Ef(Tf,{children:d},null,null,null):d.__b>0?Ef(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(p=w[c])===null||p&&d.key==p.key&&d.type===p.type)w[c]=void 0;else for(f=0;f<_;f++){if((p=w[f])&&d.key==p.key&&d.type===p.type){w[f]=void 0;break}p=null}xP(t,d,p=p||ay,i,a,o,u,s,l),v=d.__e,(f=d.ref)&&p.ref!=f&&(g||(g=[]),p.ref&&g.push(p.ref,null,d),g.push(f,d.__c||v,d)),v!=null?(m==null&&(m=v),typeof d.type=="function"&&d.__k===p.__k?d.__d=s=x4(d,s,t):s=D4(t,d,p,w,v,s),typeof r.type=="function"&&(r.__d=s)):s&&p.__e==s&&s.parentNode!=t&&(s=ks(p))}for(r.__e=m,c=_;c--;)w[c]!=null&&(typeof r.type=="function"&&w[c].__e!=null&&w[c].__e==r.__d&&(r.__d=ks(n,c+1)),L4(w[c],w[c]));if(g)for(c=0;c<g.length;c++)B4(g[c],g[++c],g[++c])}function x4(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?x4(n,e,r):D4(r,n,n,i,n.__e,e));return e}function C4(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){C4(r,e)}):e.push(t)),e}function D4(t,e,r,n,i,a){var o,u,s;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function W5e(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||uy(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||uy(t,a,e[a],r[a],n)}function U4(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||$5e.test(e)?r:r+"px"}function uy(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||U4(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||U4(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?M4:j4,a):t.removeEventListener(e,a?M4:j4,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function j4(t){this.l[t.type+!1](ve.event?ve.event(t):t)}function M4(t){this.l[t.type+!0](ve.event?ve.event(t):t)}function xP(t,e,r,n,i,a,o,u,s){var l,c,f,p,d,v,m,g,w,_,O,T=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(s=r.__h,u=e.__e=r.__e,e.__h=null,a=[u]),(l=ve.__b)&&l(e);try{e:if(typeof T=="function"){if(g=e.props,w=(l=T.contextType)&&n[l.__c],_=l?w?w.props.value:l.__:n,r.__c?m=(c=e.__c=r.__c).__=c.__E:("prototype"in T&&T.prototype.render?e.__c=c=new T(g,_):(e.__c=c=new Af(g,_),c.constructor=T,c.render=G5e),w&&w.sub(c),c.props=g,c.state||(c.state={}),c.context=_,c.__n=n,f=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Ci({},c.__s)),Ci(c.__s,T.getDerivedStateFromProps(g,c.__s))),p=c.props,d=c.state,f)T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(T.getDerivedStateFromProps==null&&g!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,_),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,_)===!1||e.__v===r.__v){c.props=g,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(C){C&&(C.__=e)}),c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,_),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,d,v)})}c.context=_,c.props=g,c.state=c.__s,(l=ve.__r)&&l(e),c.__d=!1,c.__v=e,c.__P=t,l=c.render(c.props,c.state,c.context),c.state=c.__s,c.getChildContext!=null&&(n=Ci(Ci({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(p,d)),O=l!=null&&l.type===Tf&&l.key==null?l.props.children:l,F4(t,Array.isArray(O)?O:[O],e,r,n,i,a,o,u,s),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=V5e(r.__e,e,r,n,i,a,o,s);(l=ve.diffed)&&l(e)}catch(C){e.__v=null,(s||a!=null)&&(e.__e=u,e.__h=!!s,a[a.indexOf(u)]=null),ve.__e(C,e,r)}}function N4(t,e){ve.__c&&ve.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ve.__e(n,r.__v)}})}function V5e(t,e,r,n,i,a,o,u){var s,l,c,f=r.props,p=e.props,d=e.type,v=0;if(d==="svg"&&(i=!0),a!=null){for(;v<a.length;v++)if((s=a[v])&&"setAttribute"in s==!!d&&(d?s.localName===d:s.nodeType===3)){t=s,a[v]=null;break}}if(t==null){if(d===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),a=null,u=!1}if(d===null)f===p||u&&t.data===p||(t.data=p);else{if(a=a&&Rf.call(t.childNodes),l=(f=r.props||ay).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!u){if(a!=null)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(W5e(t,p,f,i,u),c)e.__k=[];else if(v=e.props.children,F4(t,Array.isArray(v)?v:[v],e,r,n,i&&d!=="foreignObject",a,o,a?a[0]:r.__k&&ks(r,0),u),a!=null)for(v=a.length;v--;)a[v]!=null&&A4(a[v]);u||("value"in p&&(v=p.value)!==void 0&&(v!==f.value||v!==t.value||d==="progress"&&!v)&&uy(t,"value",v,f.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==t.checked&&uy(t,"checked",v,f.checked,!1))}return t}function B4(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ve.__e(n,r)}}function L4(t,e,r){var n,i;if(ve.unmount&&ve.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||B4(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ve.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&L4(n[i],e,typeof t.type!="function");r||t.__e==null||A4(t.__e),t.__e=t.__d=void 0}function G5e(t,e,r){return this.constructor(t,r)}function z4(t,e,r){var n,i,a;ve.__&&ve.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],xP(e,t=(!n&&r||e).__k=I4(Tf,null,[t]),i||ay,ay,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Rf.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),N4(a,t)}function $4(t,e){z4(t,e,$4)}function K5e(t,e,r){var n,i,a,o=Ci({},t.props);for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];return arguments.length>2&&(o.children=arguments.length>3?Rf.call(arguments,2):r),Ef(t.type,o,n||t.key,i||t.ref,null)}function Y5e(t,e){var r={__c:e="__cC"+E4++,__:t,Consumer:function(i,a){return i.children(a)},Provider:function(i){var a,o;return this.getChildContext||(a=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&a.some(FP)},this.sub=function(u){a.push(u);var s=u.componentWillUnmount;u.componentWillUnmount=function(){a.splice(a.indexOf(u),1),s&&s.call(u)}}),i.children}};return r.Provider.__=r.Consumer.contextType=r}var Rf,ve,O4,P4,qf,R4,q4,E4,ay,T4,$5e,te=cI(function(){ay={},T4=[],$5e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Rf=T4.slice,ve={__e:function(e,r){for(var n,i,a;r=r.__;)if((n=r.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(e)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),a=n.__d),a)return n.__E=n}catch(o){e=o}throw e}},O4=0,P4=function(e){return e!=null&&e.constructor===void 0},Af.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ci({},this.state),typeof t=="function"&&(t=t(Ci({},r),this.props)),t&&Ci(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),FP(this))},Af.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),FP(this))},Af.prototype.render=Tf,qf=[],R4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oy.__r=0,E4=0});var CP=h(function(Tft,H4){H4.exports=function(e){return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE}});var DP=h(function(Aft,W4){var X5e=CP();W4.exports=function(e,r){return r===void 0&&(r=document),typeof e=="string"?r.querySelector(e):X5e(e)?e:null}});var UP=h(function(Ift,V4){function J5e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}V4.exports=J5e});var Kr=h(function(kft,X4){"use strict";function G4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(r),!0).forEach(function(n){K4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z5e(t,e,r){return e&&Y4(t.prototype,e),r&&Y4(t,r),t}var e8e=mP(),t8e=function(){function t(e,r){Q5e(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return Z5e(t,[{key:"getPluginState",value:function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}}},{key:"setPluginState",value:function(r){var n=this.uppy.getState(),i=n.plugins;this.uppy.setState({plugins:Fs(Fs({},i),{},K4({},this.id,Fs(Fs({},i[this.id]),r)))})}},{key:"setOptions",value:function(r){this.opts=Fs(Fs({},this.opts),r),this.setPluginState(),this.i18nInit()}},{key:"i18nInit",value:function(){var r=new e8e([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}},{key:"addTarget",value:function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"render",value:function(){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(){}},{key:"afterUpdate",value:function(){}}]),t}();X4.exports=t8e});var NP=h(function(Fft,tL){"use strict";function If(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?If=function(r){return typeof r}:If=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},If(t)}function r8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n8e(t,e,r){return e&&J4(t.prototype,e),r&&J4(t,r),t}function i8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jP(t,e)}function jP(t,e){return jP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jP(t,e)}function a8e(t){var e=u8e();return function(){var n=sy(t),i;if(e){var a=sy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o8e(this,i)}}function o8e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4(t)}function Q4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u8e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(t)}function s8e(t){return p8e(t)||f8e(t)||c8e(t)||l8e()}function l8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c8e(t,e){if(!!t){if(typeof t=="string")return MP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(t,e)}}function f8e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p8e(t){if(Array.isArray(t))return MP(t)}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Z4=(te(),re(ne));function eL(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var d8e=0;function h8e(t){return"__private_"+d8e+++"_"+t}var v8e=DP(),y8e=UP(),m8e=Kr();function g8e(t){var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,s8e(r))})),e}}var kf=h8e("updateUI"),b8e=function(t){i8e(r,t);var e=a8e(r);function r(){var n;return r8e(this,r),n=e.apply(this,arguments),Object.defineProperty(Q4(n),kf,{writable:!0,value:void 0}),n}return n8e(r,[{key:"mount",value:function(i,a){var o=this,u=a.id,s=v8e(i);if(s){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),eL(this,kf)[kf]=g8e(function(d){!o.uppy.getPlugin(o.id)||((0,Z4.render)(o.render(d),l),o.afterUpdate())}),this.uppy.log("Installing ".concat(u," to a DOM element '").concat(i,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),(0,Z4.render)(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||y8e(l)||"ltr",this.onMount(),this.el}var c;if(If(i)==="object"&&i instanceof r)c=i;else if(typeof i=="function"){var f=i;this.uppy.iteratePlugins(function(d){d instanceof f&&(c=d)})}if(c)return this.uppy.log("Installing ".concat(u," to ").concat(c.id)),this.parent=c,this.el=c.addTarget(a),this.onMount(),this.el;this.uppy.log("Not installing ".concat(u));var p="Invalid target option given to ".concat(u,".");throw typeof i=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}},{key:"update",value:function(i){if(this.el!=null){var a,o;(a=(o=eL(this,kf))[kf])==null||a.call(o,i)}}},{key:"unmount",value:function(){if(this.isTargetDOMEl){var i;(i=this.el)==null||i.remove()}this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),r}(m8e);tL.exports=b8e});var rt=h(function(Di,nL){"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.Uppy=Di.UIPlugin=Di.BasePlugin=void 0;Object.defineProperty(Di,"debugLogger",{enumerable:!0,get:function(){return rL.debugLogger}});var rL=hP();nL.exports=kP();var _8e=NP();Di.UIPlugin=_8e;var w8e=Kr();Di.BasePlugin=w8e;var xs=kP();Di.Uppy=xs;var S8e=NP(),O8e=Kr();xs.Uppy=xs;xs.UIPlugin=S8e;xs.BasePlugin=O8e;xs.debugLogger=rL.debugLogger});var Cs=h(function(xft,aL){function ly(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ly=function(r){return typeof r}:ly=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ly(t)}function P8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}function q8e(t){var e=iL();return function(){var n=xf(t),i;if(e){var a=xf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return E8e(this,i)}}function E8e(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8e(t)}function T8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(t){var e=typeof Map=="function"?new Map:void 0;return BP=function(n){if(n===null||!A8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return cy(n,arguments,xf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ff(i,n)},BP(t)}function cy(t,e,r){return iL()?cy=Reflect.construct:cy=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Ff(l,o.prototype),l},cy.apply(null,arguments)}function iL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function A8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ff(t,e){return Ff=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ff(t,e)}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(t)}var I8e=function(t){R8e(r,t);var e=q8e(r);function r(n,i){var a;return P8e(this,r),i===void 0&&(i=null),a=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),a.cause=n,a.isNetworkError=!0,a.request=i,a}return r}(BP(Error));aL.exports=I8e});var fy=h(function(Cft,oL){var k8e=Cs();oL.exports=function(){return fetch.apply(void 0,arguments).catch(function(e){throw e.name==="AbortError"?e:new k8e(e)})}});var Uf=h(function(Dft,sL){function py(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?py=function(r){return typeof r}:py=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},py(t)}function F8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cf(t,e)}function C8e(t){var e=uL();return function(){var n=Df(t),i;if(e){var a=Df(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return D8e(this,i)}}function D8e(t,e){if(e&&(py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U8e(t)}function U8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(t){var e=typeof Map=="function"?new Map:void 0;return LP=function(n){if(n===null||!j8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return dy(n,arguments,Df(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Cf(i,n)},LP(t)}function dy(t,e,r){return uL()?dy=Reflect.construct:dy=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Cf(l,o.prototype),l},dy.apply(null,arguments)}function uL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function j8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Cf(t,e){return Cf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cf(t,e)}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(t)}var M8e=Ts(),N8e=function(t){x8e(r,t);var e=C8e(r);function r(n,i){var a;return F8e(this,r),i===void 0&&(i={}),a=e.call(this,n),a.cause=i.cause,a.cause&&M8e(a.cause,"isNetworkError")&&(a.isNetworkError=a.cause.isNetworkError),a}return r}(LP(Error));sL.exports=N8e});var fL=h(function(Uft,cL){"use strict";function hy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hy=function(r){return typeof r}:hy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hy(t)}function B8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jf(t,e)}function z8e(t){var e=lL();return function(){var n=Mf(t),i;if(e){var a=Mf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return $8e(this,i)}}function $8e(t,e){if(e&&(hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H8e(t)}function H8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(t){var e=typeof Map=="function"?new Map:void 0;return zP=function(n){if(n===null||!W8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return vy(n,arguments,Mf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),jf(i,n)},zP(t)}function vy(t,e,r){return lL()?vy=Reflect.construct:vy=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&jf(l,o.prototype),l},vy.apply(null,arguments)}function lL(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function W8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function jf(t,e){return jf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jf(t,e)}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(t)}var V8e=function(t){L8e(r,t);var e=z8e(r);function r(){var n;return B8e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return r}(zP(Error));cL.exports=V8e});var gy=h(function(jft,mL){"use strict";function G8e(t,e){return J8e(t)||X8e(t,e)||Y8e(t,e)||K8e()}function K8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y8e(t,e){if(!!t){if(typeof t=="string")return pL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pL(t,e)}}function pL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X8e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function J8e(t){if(Array.isArray(t))return t}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){hL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hL(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z8e(t,e,r){return e&&vL(t.prototype,e),r&&vL(t,r),t}function yL(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function eBe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){yL(a,n,i,o,u,"next",s)}function u(s){yL(a,n,i,o,u,"throw",s)}o(void 0)})}}function Vn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var tBe=0;function $P(t){return"__private_"+tBe+++"_"+t}var HP=fy(),rBe=Uf(),nBe=fL(),iBe={version:"2.1.0"};function aBe(t){return t.replace(/\/$/,"")}function WP(t){return VP.apply(this,arguments)}function VP(){return VP=eBe(regeneratorRuntime.mark(function t(e){var r,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.status!==401){o.next=2;break}throw new nBe;case 2:if(r=e.json(),!(e.status<200||e.status>300)){o.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),o.prev=5,o.next=8,r;case 8:i=o.sent,n=i.message?"".concat(n," message: ").concat(i.message):n,n=i.requestId?"".concat(n," request-Id: ").concat(i.requestId):n;case 11:throw o.prev=11,new Error(n);case 14:return o.abrupt("return",r);case 15:case"end":return o.stop()}},t,null,[[5,,11,14]])})),VP.apply(this,arguments)}var Ho=$P("getPostResponseFunc"),Ui=$P("getUrl"),Wo=$P("errorHandler"),my=function(){function t(e,r){var n=this;Q8e(this,t),Object.defineProperty(this,Wo,{value:uBe}),Object.defineProperty(this,Ui,{value:oBe}),Object.defineProperty(this,Ho,{writable:!0,value:function(a){return function(o){return a?o:n.onReceiveResponse(o)}}}),this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}return Z8e(t,[{key:"hostname",get:function(){var r=this.uppy.getState(),n=r.companion,i=this.opts.companionUrl;return aBe(n&&n[i]?n[i]:i)}},{key:"headers",value:function(){var r=this.opts.companionHeaders||{};return Promise.resolve(yy(yy({},t.defaultHeaders),r))}},{key:"onReceiveResponse",value:function(r){var n=this.uppy.getState(),i=n.companion||{},a=this.opts.companionUrl,o=r.headers;return o.has("i-am")&&o.get("i-am")!==i[a]&&this.uppy.setState({companion:yy(yy({},i),{},hL({},a,o.get("i-am")))}),r}},{key:"preflight",value:function(r){var n=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Vn(this,Ui)[Ui](r),{method:"OPTIONS"}).then(function(i){return i.headers.has("access-control-allow-headers")&&(n.allowedHeaders=i.headers.get("access-control-allow-headers").split(",").map(function(a){return a.trim().toLowerCase()})),n.preflightDone=!0,n.allowedHeaders.slice()}).catch(function(i){return n.uppy.log("[CompanionClient] unable to make preflight request ".concat(i),"warning"),n.preflightDone=!0,n.allowedHeaders.slice()})}},{key:"preflightAndHeaders",value:function(r){var n=this;return Promise.all([this.preflight(r),this.headers()]).then(function(i){var a=G8e(i,2),o=a[0],u=a[1];return Object.keys(u).forEach(function(s){o.includes(s.toLowerCase())||(n.uppy.log("[CompanionClient] excluding disallowed header ".concat(s)),delete u[s])}),u})}},{key:"get",value:function(r,n){var i=this,a="get";return this.preflightAndHeaders(r).then(function(o){return HP(Vn(i,Ui)[Ui](r),{method:a,headers:o,credentials:i.opts.companionCookiesRule||"same-origin"})}).then(Vn(this,Ho)[Ho](n)).then(WP).catch(Vn(this,Wo)[Wo](a,r))}},{key:"post",value:function(r,n,i){var a=this,o="post";return this.preflightAndHeaders(r).then(function(u){return HP(Vn(a,Ui)[Ui](r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:JSON.stringify(n)})}).then(Vn(this,Ho)[Ho](i)).then(WP).catch(Vn(this,Wo)[Wo](o,r))}},{key:"delete",value:function(r,n,i){var a=this,o="delete";return this.preflightAndHeaders(r).then(function(u){return HP("".concat(a.hostname,"/").concat(r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null})}).then(Vn(this,Ho)[Ho](i)).then(WP).catch(Vn(this,Wo)[Wo](o,r))}}]),t}();function oBe(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}function uBe(t,e){var r=this;return function(n){var i;return(i=n)!=null&&i.isAuthError||(n=new rBe("Could not ".concat(t," ").concat(Vn(r,Ui)[Ui](e)),{cause:n})),Promise.reject(n)}}my.VERSION=iBe.version;my.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(my.VERSION)};mL.exports=my});var gL=h(function(Nf){"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.getItem=lBe;Nf.removeItem=cBe;Nf.setItem=sBe;function sBe(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})}function lBe(t){return Promise.resolve(localStorage.getItem(t))}function cBe(t){return new Promise(function(e){localStorage.removeItem(t),e()})}});var qL=h(function(Nft,RL){"use strict";function by(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?by=function(r){return typeof r}:by=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},by(t)}function bL(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function _L(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){bL(a,n,i,o,u,"next",s)}function u(s){bL(a,n,i,o,u,"throw",s)}o(void 0)})}}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){fBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t,e){return vBe(t)||hBe(t,e)||dBe(t,e)||pBe()}function pBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dBe(t,e){if(!!t){if(typeof t=="string")return OL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(t,e)}}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hBe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function vBe(t){if(Array.isArray(t))return t}function yBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mBe(t,e,r){return e&&PL(t.prototype,e),r&&PL(t,r),t}function Bf(){return typeof Reflect!="undefined"&&Reflect.get?Bf=Reflect.get:Bf=function(e,r,n){var i=gBe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Bf.apply(this,arguments)}function gBe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vo(t),t!==null););return t}function bBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GP(t,e)}function GP(t,e){return GP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},GP(t,e)}function _Be(t){var e=OBe();return function(){var n=Vo(t),i;if(e){var a=Vo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wBe(this,i)}}function wBe(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SBe(t)}function SBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Vo(t){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vo(t)}var PBe=gL(),RBe=gy(),qBe=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},EBe=function(t){bBe(r,t);var e=_Be(r);function r(n,i){var a;return yBe(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||qBe(a.id),a.pluginId=a.opts.pluginId,a.tokenKey="companion-".concat(a.pluginId,"-auth-token"),a.companionKeysParams=a.opts.companionKeysParams,a.preAuthToken=null,a}return mBe(r,[{key:"headers",value:function(){var i=this;return Promise.all([Bf(Vo(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(a){var o=SL(a,2),u=o[0],s=o[1],l={};return s&&(l["uppy-auth-token"]=s),i.companionKeysParams&&(l["uppy-credentials-params"]=btoa(JSON.stringify({params:i.companionKeysParams}))),_y(_y({},u),l)})}},{key:"onReceiveResponse",value:function(i){i=Bf(Vo(r.prototype),"onReceiveResponse",this).call(this,i);var a=this.uppy.getPlugin(this.pluginId),o=a.getPluginState().authenticated,u=o?i.status!==401:i.status<400;return a.setPluginState({authenticated:u}),i}},{key:"setAuthToken",value:function(i){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,i)}},{key:"getAuthToken",value:function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}},{key:"ensurePreAuth",value:function(){var n=_L(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){u.next=5;break}return u.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){u.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"authUrl",value:function(i){i===void 0&&(i={});var a=new URLSearchParams(i);return this.preAuthToken&&a.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(a)}},{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(i)}},{key:"fetchPreAuthToken",value:function(){var n=_L(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.companionKeysParams){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:o=s.sent,this.preAuthToken=o.token,s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(s.t0),"warning");case 12:case"end":return s.stop()}},a,this,[[2,9]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"list",value:function(i){return this.get("".concat(this.id,"/list/").concat(i||""))}},{key:"logout",value:function(){var i=this;return this.get("".concat(this.id,"/logout")).then(function(a){return Promise.all([a,i.uppy.getPlugin(i.pluginId).storage.removeItem(i.tokenKey)])}).then(function(a){var o=SL(a,1),u=o[0];return u})}}],[{key:"initPlugin",value:function(i,a,o){if(i.type="acquirer",i.files=[],o&&(i.opts=_y(_y({},o),a)),a.serverUrl||a.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(a.companionAllowedHosts){var u=a.companionAllowedHosts;if(typeof u!="string"&&!Array.isArray(u)&&!(u instanceof RegExp))throw new TypeError("".concat(i.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));i.opts.companionAllowedHosts=u}else/^(?!https?:\/\/).*$/i.test(a.companionUrl)?i.opts.companionAllowedHosts="https://".concat(a.companionUrl.replace(/^\/\//,"")):i.opts.companionAllowedHosts=new URL(a.companionUrl).origin;i.storage=i.opts.storage||PBe}}]),r}(RBe);RL.exports=EBe});var AL=h(function(Bft,TL){"use strict";function wy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wy=function(r){return typeof r}:wy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wy(t)}function TBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ABe(t,e,r){return e&&EL(t.prototype,e),r&&EL(t,r),t}function IBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KP(t,e)}function KP(t,e){return KP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},KP(t,e)}function kBe(t){var e=CBe();return function(){var n=Sy(t),i;if(e){var a=Sy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FBe(this,i)}}function FBe(t,e){if(e&&(wy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xBe(t)}function xBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Sy(t){return Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(t)}var DBe=gy(),UBe=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},jBe=function(t){IBe(r,t);var e=kBe(r);function r(n,i){var a;return TBe(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||UBe(a.id),a.pluginId=a.opts.pluginId,a}return ABe(r,[{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(i)}},{key:"search",value:function(i,a){return this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(i)).concat(a?"&".concat(a):""))}}]),r}(DBe);TL.exports=jBe});var CL=h(function(Lft,xL){"use strict";function MBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NBe(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),t}var kL,FL;function vt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var BBe=0;function Lf(t){return"__private_"+BBe+++"_"+t}var LBe=gP(),ji=Lf("queued"),Go=Lf("emitter"),_n=Lf("isOpen"),rr=Lf("socket"),YP=Lf("handleMessage");kL=Symbol.for("uppy test: getSocket");FL=Symbol.for("uppy test: getQueued");var zBe=function(t,e){function r(n){var i=this;MBe(this,r),Object.defineProperty(this,ji,{writable:!0,value:[]}),Object.defineProperty(this,Go,{writable:!0,value:LBe()}),Object.defineProperty(this,_n,{writable:!0,value:!1}),Object.defineProperty(this,rr,{writable:!0,value:void 0}),Object.defineProperty(this,YP,{writable:!0,value:function(o){try{var u=JSON.parse(o.data);i.emit(u.action,u.payload)}catch(s){console.log(s)}}}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return NBe(r,[{key:"isOpen",get:function(){return vt(this,_n)[_n]}},{key:t,value:function(){return vt(this,rr)[rr]}},{key:e,value:function(){return vt(this,ji)[ji]}},{key:"open",value:function(){var i=this;vt(this,rr)[rr]=new WebSocket(this.opts.target),vt(this,rr)[rr].onopen=function(){for(vt(i,_n)[_n]=!0;vt(i,ji)[ji].length>0&&vt(i,_n)[_n];){var a=vt(i,ji)[ji].shift();i.send(a.action,a.payload)}},vt(this,rr)[rr].onclose=function(){vt(i,_n)[_n]=!1},vt(this,rr)[rr].onmessage=vt(this,YP)[YP]}},{key:"close",value:function(){var i;(i=vt(this,rr)[rr])==null||i.close()}},{key:"send",value:function(i,a){if(!vt(this,_n)[_n]){vt(this,ji)[ji].push({action:i,payload:a});return}vt(this,rr)[rr].send(JSON.stringify({action:i,payload:a}))}},{key:"on",value:function(i,a){vt(this,Go)[Go].on(i,a)}},{key:"emit",value:function(i,a){vt(this,Go)[Go].emit(i,a)}},{key:"once",value:function(i,a){vt(this,Go)[Go].once(i,a)}}]),r}(kL,FL);xL.exports=zBe});var nr=h(function(Gn){"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Socket=Gn.SearchProvider=Gn.RequestClient=Gn.Provider=void 0;var $Be=gy();Gn.RequestClient=$Be;var HBe=qL();Gn.Provider=HBe;var WBe=AL();Gn.SearchProvider=WBe;var VBe=CL();Gn.Socket=VBe});var UL=h(function($ft,DL){"use strict";var Yt=(te(),re(ne));function GBe(){return(0,Yt.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,Yt.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Yt.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,Yt.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,Yt.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,Yt.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,Yt.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,Yt.h)("path",{d:"M4 4h18v18H4z"})))}function KBe(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,i=t.handleAuth,a=e==="Google Drive",o=(0,Yt.h)("span",{className:"uppy-Provider-authTitleName"},e,(0,Yt.h)("br",null));return(0,Yt.h)("div",{className:"uppy-Provider-auth"},(0,Yt.h)("div",{className:"uppy-Provider-authIcon"},r()),(0,Yt.h)("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:o})),a?(0,Yt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:i,"data-uppy-super-focusable":!0},(0,Yt.h)(GBe,null),n("signInWithGoogle")):(0,Yt.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:i,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}DL.exports=KBe});var NL=h(function(Hft,ML){"use strict";var jL=(te(),re(ne));ML.exports=function(t){var e=t.i18n,r=t.logout,n=t.username;return[(0,jL.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},n),(0,jL.h)("button",{type:"button",onClick:r,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))]}});var LL=h(function(Wft,BL){"use strict";var Ds=(te(),re(ne)),YBe=function(e){var r=e.getFolder,n=e.title,i=e.isLast;return(0,Ds.h)(Ds.Fragment,null,(0,Ds.h)("button",{type:"button",className:"uppy-u-reset",onClick:r},n),i?"":" / ")};BL.exports=function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,i=t.directories;return(0,Ds.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,Ds.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},n),i.map(function(a,o){return(0,Ds.h)(YBe,{key:a.id,getFolder:function(){return e(a.id)},title:o===0?r:a.title,isLast:o+1===i.length})}))}});var $L=h(function(Vft,zL){"use strict";var XBe=NL(),JBe=LL();zL.exports=function(t){var e=[];return t.showBreadcrumbs&&e.push(JBe({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(XBe({logout:t.logout,username:t.username,i18n:t.i18n})),e}});var Tr=h(function(Gft,Oy){function zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zf=function(r){return typeof r}:zf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zf(t)}(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var a=zf(i);if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var o=e.apply(null,i);o&&r.push(o)}}else if(a==="object")if(i.toString===Object.prototype.toString)for(var u in i)t.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}typeof Oy!="undefined"&&Oy.exports?(e.default=e,Oy.exports=e):typeof define=="function"&&zf(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var XP=h(function(Kft,VL){function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){QBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ZBe=bf();VL.exports=function(e){return WL(WL({},e),{},{type:e.mimeType,extension:e.name?ZBe(e.name).extension:null})}});var XL=h(function(Yft,YL){"use strict";function Py(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Py=function(r){return typeof r}:Py=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Py(t)}function e6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function t6e(t,e,r){return e&&GL(t.prototype,e),r&&GL(t,r),t}function r6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},JP(t,e)}function n6e(t){var e=a6e();return function(){var n=Ry(t),i;if(e){var a=Ry(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return i6e(this,i)}}function i6e(t,e){if(e&&(Py(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KL(t)}function KL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(t)}var Da=(te(),re(ne)),o6e=function(t){r6e(r,t);var e=n6e(r);function r(n){var i;return e6e(this,r),i=e.call(this,n),i.preventEnterPress=i.preventEnterPress.bind(KL(i)),i}return t6e(r,[{key:"preventEnterPress",value:function(i){i.keyCode===13&&(i.stopPropagation(),i.preventDefault())}},{key:"render",value:function(){var i=this.props,a=i.i18n,o=i.filterInput,u=i.filterQuery;return(0,Da.h)("div",{className:"uppy-ProviderBrowser-filter"},(0,Da.h)("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:a("filter"),"aria-label":a("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function(l){return u(l)},value:o}),(0,Da.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,Da.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),o&&(0,Da.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":a("resetFilter"),title:a("resetFilter"),onClick:u},(0,Da.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,Da.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}]),r}(Da.Component);YL.exports=o6e});var QL=h(function(Xft,JL){"use strict";var QP=(te(),re(ne));JL.exports=function(t){var e=t.cancel,r=t.done,n=t.i18n,i=t.selected;return(0,QP.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,QP.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:r,type:"button"},n("selectX",{smart_count:i})),(0,QP.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},n("cancel")))}});var e9=h(function(Jft,ZL){"use strict";var wn=(te(),re(ne));function u6e(){return(0,wn.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,wn.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function s6e(){return(0,wn.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,wn.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function l6e(){return(0,wn.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,wn.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,wn.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}ZL.exports=function(t){var e=t.itemIconString;if(e!==null)switch(e){case"file":return(0,wn.h)(u6e,null);case"folder":return(0,wn.h)(s6e,null);case"video":return(0,wn.h)(l6e,null);default:{var r=t.alt;return(0,wn.h)("img",{src:e,alt:r})}}}});var r9=h(function(Qft,t9){"use strict";var qy=(te(),re(ne));function c6e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isChecked,a=t.title,o=t.itemIconEl,u=t.showTitles,s=t.toggleCheckbox,l=t.id,c=t.children;return(0,qy.h)("li",{className:e,title:r?n:null},(0,qy.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(i?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:s,name:"listitem",id:l,checked:i,disabled:r,"data-uppy-super-focusable":!0}),(0,qy.h)("label",{htmlFor:l,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,qy.h)("span",{className:"uppy-ProviderBrowserItem-inner-relative"},o,u&&a,c)))}t9.exports=c6e});var i9=h(function(Zft,n9){"use strict";var Ko=(te(),re(ne));function f6e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isCheckboxDisabled,a=t.isChecked,o=t.toggleCheckbox,u=t.type,s=t.id,l=t.itemIconEl,c=t.title,f=t.handleFolderClick,p=t.showTitles,d=t.i18n;return(0,Ko.h)("li",{className:e,title:r?n:null},i?null:(0,Ko.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,name:"listitem",id:s,checked:a,"aria-label":u==="file"?null:d("allFilesFromFolderNamed",{name:c}),disabled:r,"data-uppy-super-focusable":!0}),u==="file"?(0,Ko.h)("label",{htmlFor:s,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,Ko.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&c):(0,Ko.h)("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:f,"aria-label":d("openFolderNamed",{name:c})},(0,Ko.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&(0,Ko.h)("span",null,c)))}n9.exports=f6e});var u9=h(function(ept,o9){"use strict";var $f=(te(),re(ne));function Hf(){return Hf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hf.apply(this,arguments)}var p6e=Tr(),d6e=e9(),a9=r9(),h6e=i9();o9.exports=function(t){var e=t.author,r=t.getItemIcon,n=t.isChecked,i=t.isDisabled,a=t.viewType,o=r(),u=p6e("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":n},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":o==="video"}),s=(0,$f.h)(d6e,{itemIconString:o});switch(a){case"grid":return(0,$f.h)(a9,Hf({},t,{className:u,itemIconEl:s}));case"list":return(0,$f.h)(h6e,Hf({},t,{className:u,itemIconEl:s}));case"unsplash":return(0,$f.h)(a9,Hf({},t,{className:u,itemIconEl:s}),(0,$f.h)("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(a))}}});var eR=h(function(tpt,f9){"use strict";function s9(t){return g6e(t)||m6e(t)||y6e(t)||v6e()}function v6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y6e(t,e){if(!!t){if(typeof t=="string")return ZP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZP(t,e)}}function m6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6e(t){if(Array.isArray(t))return ZP(t)}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ua=(te(),re(ne)),l9=Tr(),b6e=XP(),_6e=XL(),w6e=QL(),c9=u9(),S6e="shared-with-me";function O6e(t){var e=t.currentSelection,r=t.folders,n=t.files,i=t.uppyFiles,a=t.viewType,o=t.headerComponent,u=t.showBreadcrumbs,s=t.isChecked,l=t.toggleCheckbox,c=t.handleScroll,f=t.showTitles,p=t.i18n,d=t.validateRestrictions,v=t.showFilter,m=t.filterQuery,g=t.filterInput,w=t.getNextFolder,_=t.cancel,O=t.done,T=t.columns,C=e.length;return(0,Ua.h)("div",{className:l9("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},(0,Ua.h)("div",{className:"uppy-ProviderBrowser-header"},(0,Ua.h)("div",{className:l9("uppy-ProviderBrowser-headerBar",!u&&"uppy-ProviderBrowser-headerBar--simple")},o)),v&&(0,Ua.h)(_6e,{i18n:p,filterQuery:m,filterInput:g}),function(){return!r.length&&!n.length?(0,Ua.h)("div",{className:"uppy-Provider-empty"},p("noFilesFound")):(0,Ua.h)("div",{className:"uppy-ProviderBrowser-body"},(0,Ua.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:c,role:"listbox",tabIndex:"-1"},r.map(function(F){var $;return c9({columns:T,showTitles:f,viewType:a,i18n:p,id:F.id,title:F.name,getItemIcon:function(){return F.icon},isChecked:s(F),toggleCheckbox:function(q){return l(q,F)},type:"folder",isDisabled:($=s(F))==null?void 0:$.loading,isCheckboxDisabled:F.id===S6e,handleFolderClick:function(){return w(F)}})}),n.map(function(F){var $=d(b6e(F),[].concat(s9(i),s9(e)));return c9({id:F.id,title:F.name,author:F.author,getItemIcon:function(){return F.icon},isChecked:s(F),toggleCheckbox:function(q){return l(q,F)},columns:T,showTitles:f,viewType:a,i18n:p,type:"file",isDisabled:!$.result&&!s(F),restrictionReason:$.reason})})))}(),C>0&&(0,Ua.h)(w6e,{selected:C,done:O,cancel:_,i18n:p}))}f9.exports=O6e});var tR=h(function(rpt,d9){"use strict";var p9=(te(),re(ne));d9.exports=function(t){var e=t.i18n;return(0,p9.h)("div",{className:"uppy-Provider-loading"},(0,p9.h)("span",null,e("loading")))}});var nR=h(function(npt,y9){"use strict";function Ey(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ey=function(r){return typeof r}:Ey=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ey(t)}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R6e(t,e,r){return e&&h9(t.prototype,e),r&&h9(t,r),t}function q6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rR(t,e)}function rR(t,e){return rR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rR(t,e)}function E6e(t){var e=I6e();return function(){var n=Ty(t),i;if(e){var a=Ty(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return T6e(this,i)}}function T6e(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A6e(t)}function A6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(t)}var v9=(te(),re(ne)),k6e=function(t){q6e(r,t);var e=E6e(r);function r(){return P6e(this,r),e.apply(this,arguments)}return R6e(r,[{key:"componentWillUnmount",value:function(){var i=this.props.onUnmount;i()}},{key:"render",value:function(){var i=this.props.children;return(0,v9.toChildArray)(i)[0]}}]),r}(v9.Component);y9.exports=k6e});var iR=h(function(ipt,m9){m9.exports=function(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}});var w9=h(function(apt,_9){"use strict";function F6e(t){return D6e(t)||C6e(t)||g9(t)||x6e()}function x6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D6e(t){if(Array.isArray(t))return aR(t)}function U6e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g9(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function g9(t,e){if(!!t){if(typeof t=="string")return aR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aR(t,e)}}function aR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M6e(t,e,r){return e&&b9(t.prototype,e),r&&b9(t,r),t}var N6e=XP(),B6e=function(){function t(e){j6e(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return M6e(t,[{key:"filterItems",value:function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(i){return i.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})}},{key:"toggleCheckbox",value:function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var i=this.plugin.getPluginState(),a=i.folders,o=i.files,u=this.filterItems(a.concat(o));if(this.lastCheckbox&&r.shiftKey){var s=u.indexOf(this.lastCheckbox),l=u.indexOf(n),c=s<l?u.slice(s,l+1):u.slice(l,s+1),f=[],p=U6e(c),d;try{for(p.s();!(d=p.n()).done;){var v=d.value,m=this.plugin.uppy,g=m.validateRestrictions(N6e(v),[].concat(F6e(m.getFiles()),f));g.result?f.push(v):m.info({message:g.reason},"error",m.opts.infoTimeout)}}catch(O){p.e(O)}finally{p.f()}this.plugin.setPluginState({currentSelection:f});return}this.lastCheckbox=n;var w=this.plugin.getPluginState(),_=w.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:_.filter(function(O){return O.id!==n.id})}):this.plugin.setPluginState({currentSelection:_.concat([n])})}},{key:"isChecked",value:function(r){var n=this.plugin.getPluginState(),i=n.currentSelection;return i.some(function(a){return a.id===r.id})}},{key:"loaderWrapper",value:function(r,n,i){var a=this;r.then(function(o){a.plugin.setPluginState({loading:!1}),n(o)}).catch(function(o){a.plugin.setPluginState({loading:!1}),i(o)}),this.plugin.setPluginState({loading:!0})}}]),t}();_9.exports=B6e});var oR=h(function(opt,O9){"use strict";function L6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function z6e(t,e,r){return e&&S9(t.prototype,e),r&&S9(t,r),t}var $6e=PP(),H6e=iR(),W6e=RP(),V6e=w9(),G6e=function(){function t(e,r){L6e(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new V6e(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return z6e(t,[{key:"providerFileToId",value:function(r){return W6e({data:r,name:r.name||r.id,type:r.mimetype})}},{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(r){var n=r.target,i=n.scrollHeight,a=n.scrollTop,o=n.offsetHeight,u=i-(a+o);return u<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[]})}},{key:"cancelPicking",value:function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}},{key:"handleError",value:function(r){var n=this.plugin.uppy,i=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:i,details:r.toString()},"error",5e3)}},{key:"addFile",value:function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=$6e(n);i&&H6e(i)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(a){return a.isRestriction||this.plugin.uppy.log(a),!1}}}]),t}();O9.exports=G6e});var k9=h(function(upt,I9){"use strict";function Ay(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ay=function(r){return typeof r}:Ay=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ay(t)}function P9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function uR(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){P9(a,n,i,o,u,"next",s)}function u(s){P9(a,n,i,o,u,"throw",s)}o(void 0)})}}function R9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(r),!0).forEach(function(n){K6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K6e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function X6e(t,e,r){return e&&q9(t.prototype,e),r&&q9(t,r),t}function J6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sR(t,e)}function sR(t,e){return sR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sR(t,e)}function Q6e(t){var e=e4e();return function(){var n=Iy(t),i;if(e){var a=Iy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Z6e(this,i)}}function Z6e(t,e){if(e&&(Ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sn(t)}function Sn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(t)}var Us=(te(),re(ne));function E9(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var t4e=0;function r4e(t){return"__private_"+t4e+++"_"+t}var n4e=UL(),i4e=$L(),a4e=eR(),o4e=tR(),lR=nR(),u4e=oR(),s4e={version:"2.1.0"};function l4e(){return location.origin}function T9(t){if(typeof t=="string")return new RegExp("^".concat(t,"$"));if(t instanceof RegExp)return t}function c4e(t,e){var r=Array.isArray(e)?e.map(T9):[T9(e)];return r.some(function(n){return(n==null?void 0:n.test(t))||(n==null?void 0:n.test("".concat(t,"/")))})}var Wf=r4e("updateFilesAndFolders"),A9=function(t){J6e(r,t);var e=Q6e(r);function r(n,i){var a;Y6e(this,r),a=e.call(this,n,i),Object.defineProperty(Sn(a),Wf,{value:f4e});var o={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return a.opts=Mi(Mi({},o),i),a.filterQuery=a.filterQuery.bind(Sn(a)),a.getFolder=a.getFolder.bind(Sn(a)),a.getNextFolder=a.getNextFolder.bind(Sn(a)),a.logout=a.logout.bind(Sn(a)),a.handleAuth=a.handleAuth.bind(Sn(a)),a.handleScroll=a.handleScroll.bind(Sn(a)),a.listAllFiles=a.listAllFiles.bind(Sn(a)),a.donePicking=a.donePicking.bind(Sn(a)),a.render=a.render.bind(Sn(a)),a.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),a}return X6e(r,[{key:"tearDown",value:function(){}},{key:"getFolder",value:function(i,a){var o=this;return this.sharedHandler.loaderWrapper(this.provider.list(i),function(u){var s=[],l=[],c,f=o.plugin.getPluginState(),p=f.directories.findIndex(function(d){return i===d.id});p!==-1?c=f.directories.slice(0,p+1):c=f.directories.concat([{id:i,title:a}]),o.username=u.username||o.username,E9(o,Wf)[Wf](u,l,s),o.plugin.setPluginState({directories:c})},this.handleError)}},{key:"getNextFolder",value:function(i){this.getFolder(i.requestPath,i.name),this.lastCheckbox=void 0}},{key:"logout",value:function(){var i=this;this.provider.logout().then(function(a){if(a.ok){if(!a.revoked){var o=i.plugin.uppy.i18n("companionUnauthorizeHint",{provider:i.plugin.title,url:a.manual_revoke_url});i.plugin.uppy.info(o,"info",7e3)}var u={authenticated:!1,files:[],folders:[],directories:[]};i.plugin.setPluginState(u)}}).catch(this.handleError)}},{key:"filterQuery",value:function(i){var a=this.plugin.getPluginState();this.plugin.setPluginState(Mi(Mi({},a),{},{filterInput:i?i.target.value:""}))}},{key:"addFolder",value:function(i){var a=this,o=this.providerFileToId(i),u=Mi({},this.plugin.getPluginState().selectedFolders);if(!(o in u&&u[o].loading))return u[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Mi({},u)}),this.listAllFiles(i.requestPath).then(function(s){var l=0;s.forEach(function(p){var d=a.providerFileToId(p);a.plugin.uppy.checkIfFileAlreadyExists(d)||l++}),l>0&&s.forEach(function(p){return a.addFile(p)});var c=s.map(a.providerFileToId);u[o]={loading:!1,files:c},a.plugin.setPluginState({selectedFolders:u});var f;l===0?f=a.plugin.uppy.i18n("folderAlreadyAdded",{folder:i.name}):s.length?f=a.plugin.uppy.i18n("folderAdded",{smart_count:l,folder:i.name}):f=a.plugin.uppy.i18n("emptyFolderAdded"),a.plugin.uppy.info(f)}).catch(function(s){var l=Mi({},a.plugin.getPluginState().selectedFolders);delete l[o],a.plugin.setPluginState({selectedFolders:l}),a.handleError(s)})}},{key:"handleAuth",value:function(){var n=uR(regeneratorRuntime.mark(function a(){var o=this,u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.provider.ensurePreAuth();case 2:u=btoa(JSON.stringify({origin:l4e()})),s="@uppy/provider-views=".concat(r.VERSION),l=this.provider.authUrl({state:u,uppyVersions:s}),c=window.open(l,"_blank"),f=function v(m){if(!c4e(m.origin,o.plugin.opts.companionAllowedHosts)||m.source!==c){o.plugin.uppy.log("rejecting event from ".concat(m.origin," vs allowed pattern ").concat(o.plugin.opts.companionAllowedHosts));return}var g=typeof m.data=="string"?JSON.parse(m.data):m.data;if(g.error){o.plugin.uppy.log("auth aborted");var w=o.plugin.uppy,_=w.i18n("authAborted");w.info({message:_},"warning",5e3);return}if(!g.token){o.plugin.uppy.log("did not receive token from auth window");return}c.close(),window.removeEventListener("message",v),o.provider.setAuthToken(g.token),o.preFirstRender()},window.addEventListener("message",f);case 8:case"end":return d.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"handleScroll",value:function(){var n=uR(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPagePath||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,d.next=6,this.provider.list(u);case 6:s=d.sent,l=this.plugin.getPluginState(),c=l.files,f=l.folders,E9(this,Wf)[Wf](s,c,f),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"listAllFiles",value:function(){var n=uR(regeneratorRuntime.mark(function a(o,u){var s=this,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u===void 0&&(u=null),u=u||[],p.next=4,this.provider.list(o);case 4:if(l=p.sent,l.items.forEach(function(d){d.isFolder?s.addFolder(d):u.push(d)}),c=l.nextPagePath,!c){p.next=9;break}return p.abrupt("return",this.listAllFiles(c,u));case 9:return p.abrupt("return",u);case 10:case"end":return p.stop()}},a,this)}));function i(a,o){return n.apply(this,arguments)}return i}()},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return s.isFolder?i.addFolder(s):i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.authenticated,l=u.didFirstRender;l||this.preFirstRender();var c=Mi(Mi({},this.opts),a),f=this.plugin.getPluginState(),p=f.files,d=f.folders,v=f.filterInput,m=f.loading,g=f.currentSelection,w=this.sharedHandler,_=w.isChecked,O=w.toggleCheckbox,T=w.filterItems,C=v!=="",F={showBreadcrumbs:c.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},$={isChecked:_,toggleCheckbox:O,currentSelection:g,files:C?T(p):p,folders:C?T(d):d,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:i4e(F),title:this.plugin.title,viewType:c.viewType,showTitles:c.showTitles,showFilter:c.showFilter,showBreadcrumbs:c.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var q;return(q=o.plugin.uppy).validateRestrictions.apply(q,arguments)}};return m?(0,Us.h)(lR,{onUnmount:this.clearSelection},(0,Us.h)(o4e,{i18n:this.plugin.uppy.i18n})):s?(0,Us.h)(lR,{onUnmount:this.clearSelection},(0,Us.h)(a4e,$)):(0,Us.h)(lR,{onUnmount:this.clearSelection},(0,Us.h)(n4e,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}]),r}(u4e);function f4e(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}A9.VERSION=s4e.version;I9.exports=A9});var x9=h(function(spt,F9){"use strict";F9.exports=k9()});var D9=h(function(lpt,C9){"use strict";var cR=(te(),re(ne));C9.exports=function(t){var e=t.i18n,r=t.search,n,i=function(){n.value&&r(n.value)},a=function(u){u.keyCode===13&&i()};return(0,cR.h)("div",{className:"uppy-SearchProvider"},(0,cR.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":e("enterTextToSearch"),placeholder:e("enterTextToSearch"),onKeyUp:a,ref:function(u){n=u},"data-uppy-super-focusable":!0}),(0,cR.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:i},e("searchImages")))}});var j9=h(function(cpt,U9){"use strict";var ky=(te(),re(ne)),p4e=13;U9.exports=function(t){var e=t.searchTerm,r=t.i18n,n=t.search,i=function(o){o.keyCode===p4e&&(o.stopPropagation(),o.preventDefault(),n(o.target.value))};return(0,ky.h)("div",{class:"uppy-ProviderBrowser-search"},(0,ky.h)("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:i,"data-uppy-super-focusable":!0}),(0,ky.h)("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,ky.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))}});var H9=h(function(fpt,$9){"use strict";function Fy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fy=function(r){return typeof r}:Fy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fy(t)}function M9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function d4e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){M9(a,n,i,o,u,"next",s)}function u(s){M9(a,n,i,o,u,"throw",s)}o(void 0)})}}function N9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(r),!0).forEach(function(n){h4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y4e(t,e,r){return e&&B9(t.prototype,e),r&&B9(t,r),t}function m4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fR(t,e)}function fR(t,e){return fR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fR(t,e)}function g4e(t){var e=_4e();return function(){var n=Cy(t),i;if(e){var a=Cy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return b4e(this,i)}}function b4e(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(t)}function ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cy(t){return Cy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(t)}var js=(te(),re(ne));function L9(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var w4e=0;function S4e(t){return"__private_"+w4e+++"_"+t}var O4e=D9(),P4e=eR(),R4e=tR(),q4e=j9(),pR=nR(),E4e=oR(),T4e={version:"2.1.0"},Vf=S4e("updateFilesAndInputMode"),z9=function(t){m4e(r,t);var e=g4e(r);function r(n,i){var a;v4e(this,r),a=e.call(this,n,i),Object.defineProperty(ja(a),Vf,{value:A4e});var o={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return a.opts=xy(xy({},o),i),a.search=a.search.bind(ja(a)),a.triggerSearchInput=a.triggerSearchInput.bind(ja(a)),a.addFile=a.addFile.bind(ja(a)),a.handleScroll=a.handleScroll.bind(ja(a)),a.donePicking=a.donePicking.bind(ja(a)),a.render=a.render.bind(ja(a)),a.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),a}return y4e(r,[{key:"tearDown",value:function(){}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}},{key:"search",value:function(i){var a=this,o=this.plugin.getPluginState(),u=o.searchTerm;if(!(i&&i===u))return this.sharedHandler.loaderWrapper(this.provider.search(i),function(s){L9(a,Vf)[Vf](s,[])},this.handleError)}},{key:"triggerSearchInput",value:function(){this.plugin.setPluginState({isInputMode:!0})}},{key:"handleScroll",value:function(){var n=d4e(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPageQuery||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,s=this.plugin.getPluginState(),l=s.files,c=s.searchTerm,d.next=7,this.provider.search(c,u);case 7:f=d.sent,L9(this,Vf)[Vf](f,l),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.didFirstRender,l=u.isInputMode,c=u.searchTerm;s||this.preFirstRender();var f=xy(xy({},this.opts),a),p=this.plugin.getPluginState(),d=p.files,v=p.folders,m=p.filterInput,g=p.loading,w=p.currentSelection,_=this.sharedHandler,O=_.isChecked,T=_.toggleCheckbox,C=_.filterItems,F=m!=="",$={isChecked:O,toggleCheckbox:T,currentSelection:w,files:F?C(d):d,folders:F?C(v):v,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:q4e({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:c}),title:this.plugin.title,viewType:f.viewType,showTitles:f.showTitles,showFilter:f.showFilter,showBreadcrumbs:f.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var q;return(q=o.plugin.uppy).validateRestrictions.apply(q,arguments)}};return g?(0,js.h)(pR,{onUnmount:this.clearSelection},(0,js.h)(R4e,{i18n:this.plugin.uppy.i18n})):l?(0,js.h)(pR,{onUnmount:this.clearSelection},(0,js.h)(O4e,{search:this.search,i18n:this.plugin.uppy.i18n})):(0,js.h)(pR,{onUnmount:this.clearSelection},(0,js.h)(P4e,$))}}]),r}(E4e);function A4e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}z9.VERSION=T4e.version;$9.exports=z9});var V9=h(function(ppt,W9){"use strict";W9.exports=H9()});var Ni=h(function(Ms){"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.SearchProviderViews=Ms.ProviderViews=void 0;var I4e=x9();Ms.ProviderViews=I4e;var k4e=V9();Ms.SearchProviderViews=k4e});var e7=h(function(Na,Z9){"use strict";function G9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K9(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x4e(t,e,r){return e&&Y9(t.prototype,e),r&&Y9(t,r),t}Object.defineProperty(Na,"__esModule",{value:!0});Na.STATE_UPDATE=Na.ReduxStore=void 0;Na.middleware=Q9;Na.reducer=J9;var C4e=No(),X9;function Kn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var D4e=0;function dR(t){return"__private_"+D4e+++"_"+t}var U4e={version:"2.0.3"},Uy="uppy/STATE_UPDATE";Na.STATE_UPDATE=Uy;var j4e=function(e){return function(r){return r.uppy[e]}};function M4e(t,e){var r=Object.keys(e),n={};return r.forEach(function(i){t[i]!==e[i]&&(n[i]=e[i])}),n}var Bi=dR("id"),Gf=dR("selector"),Li=dR("store");X9=Symbol.for("uppy test: get id");var Ma=function(t){function e(r){F4e(this,e),Object.defineProperty(this,Bi,{writable:!0,value:void 0}),Object.defineProperty(this,Gf,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),Kn(this,Li)[Li]=r.store,Kn(this,Bi)[Bi]=r.id||(0,C4e.nanoid)(),Kn(this,Gf)[Gf]=r.selector||j4e(Kn(this,Bi)[Bi]),this.setState({})}return x4e(e,[{key:"setState",value:function(n){Kn(this,Li)[Li].dispatch({type:Uy,id:Kn(this,Bi)[Bi],payload:n})}},{key:"getState",value:function(){return Kn(this,Gf)[Gf](Kn(this,Li)[Li].getState())}},{key:"subscribe",value:function(n){var i=this,a=this.getState();return Kn(this,Li)[Li].subscribe(function(){var o=i.getState();if(a!==o){var u=M4e(a,o);n(a,o,u),a=o}})}},{key:t,value:function(){return Kn(this,Bi)[Bi]}}]),e}(X9);Na.ReduxStore=Ma;Ma.VERSION=U4e.version;function J9(t,e){if(t===void 0&&(t={}),e.type===Uy){var r=Dy(Dy({},t[e.id]),e.payload);return Dy(Dy({},t),{},K9({},e.id,r))}return t}function Q9(){return function(){return function(t){return function(e){t(e)}}}}Z9.exports=Ma;Ma.ReduxStore=Ma;Ma.STATE_UPDATE=Uy;Ma.reducer=J9;Ma.middleware=Q9});var On=h(function(hpt,t7){t7.exports=Array.from});var jy=h(function(vpt,r7){r7.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']});var hR=h(function(ypt,n7){"use strict";function N4e(t,e){if(e){var r=t.querySelector('[data-uppy-paneltype="'.concat(e,'"]'));if(r)return r}return t}n7.exports=N4e});var o7=h(function(My){"use strict";Object.defineProperty(My,"__esModule",{value:!0});My.forInline=W4e;My.forModal=a7;var B4e=On(),L4e=jy(),z4e=hR();function i7(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}function $4e(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function H4e(t){return t.contains(document.activeElement)}function a7(t,e,r){var n=z4e(r,e),i=B4e(n.querySelectorAll(L4e)),a=i.indexOf(document.activeElement);H4e(n)?t.shiftKey&&a===0?$4e(t,i):!t.shiftKey&&a===i.length-1&&i7(t,i):i7(t,i)}function W4e(t,e,r){e===null||a7(t,e,r)}});var s7=h(function(gpt,u7){u7.exports=function(e){if(!e.bytesUploaded)return 0;var r=Date.now()-e.uploadStarted,n=e.bytesUploaded/(r/1e3);return n}});var c7=h(function(bpt,l7){l7.exports=function(e){return e.bytesTotal-e.bytesUploaded}});var Ny=h(function(_pt,f7){"use strict";f7.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}});var d7=h(function(wpt,p7){p7.exports=function(e){var r=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,i=Math.floor(e%60);return{hours:r,minutes:n,seconds:i}}});var v7=h(function(Spt,h7){var V4e=d7();h7.exports=function(e){var r=V4e(e),n=r.hours===0?"":"".concat(r.hours,"h"),i=r.minutes===0?"":"".concat(r.hours===0?r.minutes:" ".concat(r.minutes.toString(10).padStart(2,"0")),"m"),a=r.hours!==0?"":"".concat(r.minutes===0?r.seconds:" ".concat(r.seconds.toString(10).padStart(2,"0")),"s");return"".concat(n).concat(i).concat(a)}});var w7=h(function(Ar){"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.CancelBtn=Z4e;Ar.DoneBtn=tLe;Ar.LoadingSpinner=vR;Ar.PauseResumeButton=eLe;Ar.ProgressBarComplete=oLe;Ar.ProgressBarError=uLe;Ar.ProgressBarProcessing=rLe;Ar.ProgressBarUploading=aLe;Ar.ProgressDetails=b7;Ar.RetryBtn=Q4e;Ar.UploadBtn=J4e;var me=(te(),re(ne)),y7=Tr(),G4e=gf(),m7=Xv(),K4e=v7(),Y4e=Ny(),X4e="\xB7",g7=function(){return" ".concat(X4e," ")};function J4e(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,i=t.i18n,a=t.uploadState,o=t.isSomeGhost,u=t.startUpload,s=y7("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Y4e.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),l=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return(0,me.h)("button",{type:"button",className:s,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:u,disabled:o,"data-uppy-super-focusable":!0},l)}function Q4e(t){var e=t.i18n,r=t.uppy;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:function(){return r.retryAll()},"data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,me.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function Z4e(t){var e=t.i18n,r=t.uppy;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:function(){return r.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,me.h)("g",{fill:"none",fillRule:"evenodd"},(0,me.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,me.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function eLe(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,i=t.resumableUploads,a=t.uppy,o=r(e?"resume":"pause");function u(){return n?null:i?e?a.resumeAll():a.pauseAll():a.cancelAll()}return(0,me.h)("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:u,"data-uppy-super-focusable":!0},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,me.h)("g",{fill:"none",fillRule:"evenodd"},(0,me.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,me.h)("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function tLe(t){var e=t.i18n,r=t.doneButtonHandler;return(0,me.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}function vR(){return(0,me.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,me.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function rLe(t){var e=t.progress,r=e.value,n=e.mode,i=e.message,a=Math.round(r*100),o="\xB7";return(0,me.h)("div",{className:"uppy-StatusBar-content"},(0,me.h)(vR,null),n==="determinate"?"".concat(a,"% ").concat(o," "):"",i)}function b7(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,i=t.totalSize,a=t.totalETA,o=t.i18n,u=e>1;return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},u&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),(0,me.h)("span",{className:"uppy-StatusBar-additionalInfo"},u&&g7(),o("dataUploadedOfTotal",{complete:m7(n),total:m7(i)}),g7(),o("xTimeLeft",{time:K4e(a)})))}function _7(t){var e=t.i18n,r=t.complete,n=t.numUploads;return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}function nLe(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,i=y7("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,me.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,me.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),(0,me.h)("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}var iLe=G4e(b7,500,{leading:!0,trailing:!0});function aLe(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,i=t.showProgressDetails,a=t.isUploadStarted,o=t.isAllComplete,u=t.isAllPaused,s=t.newFiles,l=t.numUploads,c=t.complete,f=t.totalUploadedSize,p=t.totalSize,d=t.totalETA,v=t.startUpload,m=s&&a;if(!a||o)return null;var g=e(u?"paused":"uploading");function w(){return!u&&!m&&i?r?(0,me.h)(iLe,{numUploads:l,complete:c,totalUploadedSize:f,totalSize:p,totalETA:d,i18n:e}):(0,me.h)(_7,{i18n:e,complete:c,numUploads:l}):null}return(0,me.h)("div",{className:"uppy-StatusBar-content","aria-label":g,title:g},u?null:(0,me.h)(vR,null),(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(g,": ").concat(n,"%"):g),w(),m?(0,me.h)(nLe,{i18n:e,newFiles:s,startUpload:v}):null))}function oLe(t){var e=t.i18n;return(0,me.h)("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,me.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function uLe(t){var e=t.error,r=t.i18n,n=t.complete,i=t.numUploads;function a(){var o="".concat(r("uploadFailed")," \n\n ").concat(e);alert(o)}return(0,me.h)("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},(0,me.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,me.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,me.h)("div",{className:"uppy-StatusBar-status"},(0,me.h)("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),(0,me.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button"},"?")),(0,me.h)(_7,{i18n:r,complete:n,numUploads:i})))}});var O7=h(function(Ppt,S7){"use strict";function sLe(t){for(var e=[],r,n,i=0,a=Object.values(t);i<a.length;i++){var o=a[i].progress,u=o.preprocess,s=o.postprocess;if(n==null&&(u||s)){var l=u||s;r=l.mode,n=l.message}(u==null?void 0:u.mode)==="determinate"&&e.push(u.value),(s==null?void 0:s.mode)==="determinate"&&e.push(s.value)}var c=e.reduce(function(f,p){return f+p/e.length},0);return{mode:r,message:n,value:c}}S7.exports=sLe});var T7=h(function(Rpt,E7){"use strict";var Yr=(te(),re(ne)),zi=w7(),P7=Tr(),Ns=Ny(),yR=O7(),R7=Ns.STATE_ERROR,q7=Ns.STATE_WAITING,mR=Ns.STATE_PREPROCESSING,By=Ns.STATE_UPLOADING,gR=Ns.STATE_POSTPROCESSING,Ly=Ns.STATE_COMPLETE;function lLe(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,i=t.isAllPaused,a=t.resumableUploads,o=t.error,u=t.hideUploadButton,s=t.hidePauseResumeButton,l=t.hideCancelButton,c=t.hideRetryButton,f=t.recoveredState,p=t.uploadState,d=t.totalProgress,v=t.files,m=t.supportsUploadProgress,g=t.hideAfterFinish,w=t.isSomeGhost,_=t.doneButtonHandler,O=t.isUploadStarted,T=t.i18n,C=t.startUpload,F=t.uppy,$=t.isAllComplete,G=t.showProgressDetails,q=t.numUploads,j=t.complete,Q=t.totalSize,X=t.totalETA,A=t.totalUploadedSize;function I(){switch(p){case gR:case mR:{var Pt=yR(v);return Pt.mode==="determinate"?Pt.value*100:d}case R7:return null;case By:return m?d:null;default:return d}}function L(){switch(p){case gR:case mR:{var Pt=yR(v),Vt=Pt.mode;return Vt==="indeterminate"}case By:return!m;default:return!1}}function D(){if(f)return!1;switch(p){case q7:return u||e===0;case Ly:return g;default:return!1}}var U=I(),B=D(),ee=U!=null?U:100,ce=!o&&e&&!n&&!i&&r&&!u,ue=!l&&p!==q7&&p!==Ly,Ue=a&&!s&&p===By,$e=o&&!$&&!c,st=_&&p===Ly,lt=P7("uppy-StatusBar-progress",{"is-indeterminate":L()}),Wt=P7("uppy-StatusBar","is-".concat(p),{"has-ghosts":w});return(0,Yr.h)("div",{className:Wt,"aria-hidden":B},(0,Yr.h)("div",{className:lt,style:{width:"".concat(ee,"%")},role:"progressbar","aria-label":"".concat(ee,"%"),"aria-valuetext":"".concat(ee,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":U}),function(){switch(p){case mR:case gR:return(0,Yr.h)(zi.ProgressBarProcessing,{progress:yR(v)});case Ly:return(0,Yr.h)(zi.ProgressBarComplete,{i18n:T});case R7:return(0,Yr.h)(zi.ProgressBarError,{error:o,i18n:T,numUploads:q,complete:j});case By:return(0,Yr.h)(zi.ProgressBarUploading,{i18n:T,supportsUploadProgress:m,totalProgress:d,showProgressDetails:G,isUploadStarted:O,isAllComplete:$,isAllPaused:i,newFiles:e,numUploads:q,complete:j,totalUploadedSize:A,totalSize:Q,totalETA:X,startUpload:C});default:return null}}(),(0,Yr.h)("div",{className:"uppy-StatusBar-actions"},f||ce?(0,Yr.h)(zi.UploadBtn,{newFiles:e,isUploadStarted:O,recoveredState:f,i18n:T,isSomeGhost:w,startUpload:C,uploadState:p}):null,$e?(0,Yr.h)(zi.RetryBtn,{i18n:T,uppy:F}):null,Ue?(0,Yr.h)(zi.PauseResumeButton,{isAllPaused:i,i18n:T,isAllComplete:$,resumableUploads:a,uppy:F}):null,ue?(0,Yr.h)(zi.CancelBtn,{i18n:T,uppy:F}):null,st?(0,Yr.h)(zi.DoneBtn,{i18n:T,doneButtonHandler:_}):null))}E7.exports=lLe});var I7=h(function(qpt,A7){"use strict";A7.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}});var U7=h(function(Ept,D7){"use strict";function zy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zy=function(r){return typeof r}:zy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zy(t)}function k7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(r),!0).forEach(function(n){cLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cLe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pLe(t,e,r){return e&&x7(t.prototype,e),r&&x7(t,r),t}function dLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bR(t,e)}function bR(t,e){return bR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bR(t,e)}function hLe(t){var e=yLe();return function(){var n=$y(t),i;if(e){var a=$y(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vLe(this,i)}}function vLe(t,e){if(e&&(zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _R(t)}function _R(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $y(t){return $y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(t)}var mLe=rt(),gLe=s7(),bLe=c7(),_Le=UP(),Yn=Ny(),wLe=T7(),SLe={version:"2.2.0"},OLe=I7();function PLe(t){var e=0;return t.forEach(function(r){e+=gLe(r.progress)}),e}function RLe(t){var e=PLe(t);if(e===0)return 0;var r=t.reduce(function(n,i){return n+bLe(i.progress)},0);return Math.round(r/e*10)/10}function qLe(t,e,r,n){if(t&&!e)return Yn.STATE_ERROR;if(e)return Yn.STATE_COMPLETE;if(r)return Yn.STATE_WAITING;for(var i=Yn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Yn.STATE_UPLOADING;u.preprocess&&i!==Yn.STATE_UPLOADING&&(i=Yn.STATE_PREPROCESSING),u.postprocess&&i!==Yn.STATE_UPLOADING&&i!==Yn.STATE_PREPROCESSING&&(i=Yn.STATE_POSTPROCESSING)}return i}var C7=function(t){dLe(r,t);var e=hLe(r);function r(n,i){var a;fLe(this,r),a=e.call(this,n,i),a.startUpload=function(){var u=a.uppy.getState(),s=u.recoveredState;if(s){a.uppy.emit("restore-confirmed");return}return a.uppy.upload().catch(function(){})},a.id=a.opts.id||"StatusBar",a.title="StatusBar",a.type="progressindicator",a.defaultLocale=OLe;var o={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return a.opts=F7(F7({},o),i),a.i18nInit(),a.render=a.render.bind(_R(a)),a.install=a.install.bind(_R(a)),a}return pLe(r,[{key:"render",value:function(i){var a=i.capabilities,o=i.files,u=i.allowNewUpload,s=i.totalProgress,l=i.error,c=i.recoveredState,f=this.uppy.getObjectOfFilesPerState(),p=f.newFiles,d=f.startedFiles,v=f.completeFiles,m=f.inProgressNotPausedFiles,g=f.isUploadStarted,w=f.isAllComplete,_=f.isAllErrored,O=f.isAllPaused,T=f.isUploadInProgress,C=f.isSomeGhost,F=c?Object.values(o):p,$=RLe(m),G=!!a.resumableUploads,q=a.uploadProgress!==!1,j=0,Q=0;return d.forEach(function(X){j+=X.progress.bytesTotal||0,Q+=X.progress.bytesUploaded||0}),wLe({error:l,uploadState:qLe(l,w,c,i.files||{}),allowNewUpload:u,totalProgress:s,totalSize:j,totalUploadedSize:Q,isAllComplete:!1,isAllPaused:O,isAllErrored:_,isUploadStarted:g,isUploadInProgress:T,isSomeGhost:C,recoveredState:c,complete:v.length,newFiles:F.length,numUploads:d.length,totalETA:$,files:o,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:G,supportsUploadProgress:q,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var i=this.el,a=_Le(i);a||(i.dir="ltr")}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(mLe.UIPlugin);C7.VERSION=SLe.version;D7.exports=C7});var wR=h(function(Tpt,j7){"use strict";j7.exports=U7()});var L7=h(function(Apt,B7){"use strict";function Hy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hy=function(r){return typeof r}:Hy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hy(t)}function ELe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function TLe(t,e,r){return e&&M7(t.prototype,e),r&&M7(t,r),t}function ALe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SR(t,e)}function SR(t,e){return SR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},SR(t,e)}function ILe(t){var e=xLe();return function(){var n=Wy(t),i;if(e){var a=Wy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kLe(this,i)}}function kLe(t,e){if(e&&(Hy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FLe(t)}function FLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(t)}var OR=(te(),re(ne)),N7=300,CLe=function(t){ALe(r,t);var e=ILe(r);function r(){var n;return ELe(this,r),n=e.apply(this,arguments),n.ref=(0,OR.createRef)(),n}return TLe(r,[{key:"componentWillEnter",value:function(i){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(i,N7)}},{key:"componentWillLeave",value:function(i){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(i,N7)}},{key:"render",value:function(){var i=this.props.children;return(0,OR.h)("div",{className:"uppy-Informer-animated",ref:this.ref},i)}}]),r}(OR.Component);B7.exports=CLe});var W7=h(function(Ipt,H7){"use strict";function Vy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vy=function(r){return typeof r}:Vy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vy(t)}var DLe=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function ULe(t,e){if(t==null)return{};var r=jLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function jLe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function MLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NLe(t,e,r){return e&&z7(t.prototype,e),r&&z7(t,r),t}function BLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PR(t,e)}function PR(t,e){return PR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},PR(t,e)}function LLe(t){var e=$Le();return function(){var n=Ky(t),i;if(e){var a=Ky(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zLe(this,i)}}function zLe(t,e){if(e&&(Vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gy(t)}function Gy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Le(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(t)}var $i=(te(),re(ne));function HLe(t,e){return Object.assign(t,e)}function WLe(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}function VLe(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}function Kf(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=WLe(t[r],r.toString(36));e[n]=t[r]}return e}function GLe(t,e){t=t||{},e=e||{};var r=function(p){return e.hasOwnProperty(p)?e[p]:t[p]},n={},i=[];for(var a in t)e.hasOwnProperty(a)?i.length&&(n[a]=i,i=[]):i.push(a);var o={};for(var u in e){if(n.hasOwnProperty(u))for(var s=0;s<n[u].length;s++){var l=n[u][s];o[n[u][s]]=r(l)}o[u]=r(u)}for(var c=0;c<i.length;c++)o[i[c]]=r(i[c]);return o}var KLe=function(e){return e},$7=function(t){BLe(r,t);var e=LLe(r);function r(n,i){var a;return MLe(this,r),a=e.call(this,n,i),a.refs={},a.state={children:Kf((0,$i.toChildArray)((0,$i.toChildArray)(a.props.children))||[])},a.performAppear=a.performAppear.bind(Gy(a)),a.performEnter=a.performEnter.bind(Gy(a)),a.performLeave=a.performLeave.bind(Gy(a)),a}return NLe(r,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var i=this.state.children;for(var a in i)i[a]&&this.performAppear(a)}},{key:"componentWillReceiveProps",value:function(i){var a=Kf((0,$i.toChildArray)(i.children)||[]),o=this.state.children;this.setState(function(c){return{children:GLe(c.children,a)}});var u;for(u in a)if(a.hasOwnProperty(u)){var s=o&&o.hasOwnProperty(u);a[u]&&s&&this.currentlyTransitioningKeys[u]?(this.keysToEnter.push(u),this.keysToAbortLeave.push(u)):a[u]&&!s&&!this.currentlyTransitioningKeys[u]&&this.keysToEnter.push(u)}for(u in o)if(o.hasOwnProperty(u)){var l=a&&a.hasOwnProperty(u);o[u]&&!l&&!this.currentlyTransitioningKeys[u]&&this.keysToLeave.push(u)}}},{key:"componentDidUpdate",value:function(){var i=this.keysToEnter;this.keysToEnter=[],i.forEach(this.performEnter);var a=this.keysToLeave;this.keysToLeave=[],a.forEach(this.performLeave)}},{key:"_finishAbort",value:function(i){var a=this.keysToAbortLeave.indexOf(i);a!==-1&&this.keysToAbortLeave.splice(a,1)}},{key:"performAppear",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillAppear?a.componentWillAppear(this._handleDoneAppearing.bind(this,i)):this._handleDoneAppearing(i)}},{key:"_handleDoneAppearing",value:function(i){var a=this.refs[i];a.componentDidAppear&&a.componentDidAppear(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=Kf((0,$i.toChildArray)(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performEnter",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillEnter?a.componentWillEnter(this._handleDoneEntering.bind(this,i)):this._handleDoneEntering(i)}},{key:"_handleDoneEntering",value:function(i){var a=this.refs[i];a.componentDidEnter&&a.componentDidEnter(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=Kf((0,$i.toChildArray)(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performLeave",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){this.currentlyTransitioningKeys[i]=!0;var o=this.refs[i];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,i)):this._handleDoneLeaving(i)}}},{key:"_handleDoneLeaving",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){var o=this.refs[i];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[i];var u=Kf((0,$i.toChildArray)(this.props.children)||[]);if(u&&u.hasOwnProperty(i))this.performEnter(i);else{var s=HLe({},this.state.children);delete s[i],this.setState({children:s})}}}},{key:"render",value:function(i,a){var o=i.childFactory,u=i.transitionLeave,s=i.transitionName,l=i.transitionAppear,c=i.transitionEnter,f=i.transitionLeaveTimeout,p=i.transitionEnterTimeout,d=i.transitionAppearTimeout,v=i.component,m=ULe(i,DLe),g=a.children,w=[];for(var _ in g)if(g.hasOwnProperty(_)){var O=g[_];if(O){var T=VLe(this,_),C=(0,$i.cloneElement)(o(O),{ref:T,key:_});w.push(C)}}return(0,$i.h)(v,m,w)}}]),r}($i.Component);$7.defaultProps={component:"span",childFactory:KLe};H7.exports=$7});var J7=h(function(kpt,X7){"use strict";function Yy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yy=function(r){return typeof r}:Yy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yy(t)}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(n){YLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YLe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function JLe(t,e,r){return e&&K7(t.prototype,e),r&&K7(t,r),t}function QLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RR(t,e)}function RR(t,e){return RR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},RR(t,e)}function ZLe(t){var e=r9e();return function(){var n=Xy(t),i;if(e){var a=Xy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e9e(this,i)}}function e9e(t,e){if(e&&(Yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t9e(t)}function t9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xy(t){return Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(t)}var Yf=(te(),re(ne)),n9e=rt(),i9e=L7(),a9e=W7(),o9e={version:"2.0.5"},Y7=function(t){QLe(r,t);var e=ZLe(r);function r(n,i){var a;XLe(this,r),a=e.call(this,n,i),a.render=function(u){return(0,Yf.h)("div",{className:"uppy uppy-Informer"},(0,Yf.h)(a9e,null,u.info.map(function(s){return(0,Yf.h)(i9e,{key:s.message},(0,Yf.h)("p",{role:"alert"},s.message," ",s.details&&(0,Yf.h)("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(s.message," \n\n ").concat(s.details))}},"?")))})))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer";var o={};return a.opts=G7(G7({},o),i),a}return JLe(r,[{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}}]),r}(n9e.UIPlugin);Y7.VERSION=o9e.version;X7.exports=Y7});var qR=h(function(Fpt,Q7){"use strict";Q7.exports=J7()});var Az=h(function(HR){"use strict";function u9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pn(t,e){return c9e(t)||l9e(t,e)||ER(t,e)||s9e()}function s9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function c9e(t){if(Array.isArray(t))return t}function Ie(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ER(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Ba(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(r){return typeof r}:Ba=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ba(t)}function Jy(t){return d9e(t)||p9e(t)||ER(t)||f9e()}function f9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ER(t,e){if(!!t){if(typeof t=="string")return TR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(t,e)}}function p9e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d9e(t){if(Array.isArray(t))return TR(t)}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z7(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function ot(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){Z7(a,n,i,o,u,"next",s)}function u(s){Z7(a,n,i,o,u,"throw",s)}o(void 0)})}}function Qy(){return typeof Reflect!="undefined"&&Reflect.get?Qy=Reflect.get:Qy=function(e,r,n){var i=h9e(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Qy.apply(this,arguments)}function h9e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yo(t),t!==null););return t}function Bs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xf(t,e)}function Ls(t){var e=tz();return function(){var n=Yo(t),i;if(e){var a=Yo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ez(this,i)}}function ez(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AR(t){var e=typeof Map=="function"?new Map:void 0;return AR=function(n){if(n===null||!v9e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Zy(n,arguments,Yo(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Xf(i,n)},AR(t)}function Zy(t,e,r){return tz()?Zy=Reflect.construct:Zy=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Xf(l,o.prototype),l},Zy.apply(null,arguments)}function tz(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v9e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Xf(t,e){return Xf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xf(t,e)}function Yo(t){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yo(t)}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function En(t,e,r){return e&&rz(t.prototype,e),r&&rz(t,r),t}function He(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(HR,"__esModule",{value:!0});var nz=typeof self!="undefined"?self:global,La=typeof navigator!="undefined",em=La&&typeof HTMLImageElement=="undefined",iz=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),y9e=!!nz.Buffer,m9e=function(e){return e!==void 0};function az(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(m9e).length===0)}function It(t){var e=new Error(t);throw delete e.stack,e}function oz(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}var IR=function(e){return String.fromCharCode.apply(null,e)},uz=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,tm=function(){function t(e){qn(this,t);var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),r+=e.byteOffset,r+n>e.byteOffset+e.byteLength&&It("Creating view outside of available memory in ArrayBuffer");var o=new DataView(e.buffer,r,n);this._swapDataView(o)}else if(typeof e=="number"){var u=new DataView(new ArrayBuffer(e));this._swapDataView(u)}else It("Invalid input argument for BufferView: "+e)}return En(t,[{key:"_swapArrayBuffer",value:function(r){this._swapDataView(new DataView(r))}},{key:"_swapBuffer",value:function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}},{key:"_swapDataView",value:function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}},{key:"_lengthToEnd",value:function(r){return this.byteLength-r}},{key:"set",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||It("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new i(this,n,r.byteLength)}},{key:"subarray",value:function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}},{key:"getString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return a=i,uz?uz.decode(a):y9e?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(IR(a)));var a}},{key:"getLatin1String",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return IR(i)}},{key:"getUnicodeString",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=[],a=0;a<n&&r+a<this.byteLength;a+=2)i.push(this.getUint16(r+a));return IR(i)}},{key:"getInt8",value:function(r){return this.dataView.getInt8(r)}},{key:"getUint8",value:function(r){return this.dataView.getUint8(r)}},{key:"getInt16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)}},{key:"getInt32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)}},{key:"getUint16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)}},{key:"getUint32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)}},{key:"getFloat32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getFloat64",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getFloat",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getDouble",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getUintBytes",value:function(r,n,i){switch(n){case 1:return this.getUint8(r,i);case 2:return this.getUint16(r,i);case 4:return this.getUint32(r,i);case 8:return this.getUint64&&this.getUint64(r,i)}}},{key:"getUint",value:function(r,n,i){switch(n){case 8:return this.getUint8(r,i);case 16:return this.getUint16(r,i);case 32:return this.getUint32(r,i);case 64:return this.getUint64&&this.getUint64(r,i)}}},{key:"toString",value:function(r){return this.dataView.toString(r,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)}}]),t}();function kR(t,e){It("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}var FR=function(t){Bs(r,t);var e=Ls(r);function r(n){var i;return qn(this,r),i=e.call(this),i.kind=n,i}return En(r,[{key:"get",value:function(i,a){return this.has(i)||kR(this.kind,i),a&&(i in a||function(o,u){It("Unknown ".concat(o," '").concat(u,"'."))}(this.kind,i),a[i].enabled||kR(this.kind,i)),Qy(Yo(r.prototype),"get",this).call(this,i)}},{key:"keyList",value:function(){return Array.from(this.keys())}}]),r}(AR(Map)),sz=new FR("file parser"),Tn=new FR("segment parser"),lz=new FR("file reader"),g9e=nz.fetch;function cz(t,e){return(r=t).startsWith("data:")||r.length>1e4?DR(t,e,"base64"):iz&&t.includes("://")?xR(t,e,"url",fz):iz?DR(t,e,"fs"):La?xR(t,e,"url",fz):void It("Invalid input argument");var r}function xR(t,e,r,n){return CR.apply(this,arguments)}function CR(){return CR=ot(regeneratorRuntime.mark(function t(e,r,n,i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",lz.has(n)?DR(e,r,n):i?function(){var u=ot(regeneratorRuntime.mark(function s(l,c){var f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c(l);case 2:return f=d.sent,d.abrupt("return",new tm(f));case 4:case"end":return d.stop()}},s)}));return function(s,l){return u.apply(this,arguments)}}()(e,i):void It("Parser ".concat(n," is not loaded")));case 1:case"end":return o.stop()}},t)})),CR.apply(this,arguments)}function DR(t,e,r){return UR.apply(this,arguments)}function UR(){return UR=ot(regeneratorRuntime.mark(function t(e,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=new(lz.get(n))(e,r),o.next=3,i.read();case 3:return o.abrupt("return",i);case 4:case"end":return o.stop()}},t)})),UR.apply(this,arguments)}var fz=function(e){return g9e(e).then(function(r){return r.arrayBuffer()})},b9e=function(e){return new Promise(function(r,n){var i=new FileReader;i.onloadend=function(){return r(i.result||new ArrayBuffer)},i.onerror=n,i.readAsArrayBuffer(e)})},jR=new Map,_9e=new Map,w9e=new Map,rm=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],pz=["jfif","xmp","icc","iptc","ihdr"],MR=["tiff"].concat(pz),kt=["ifd0","ifd1","exif","gps","interop"],nm=[].concat(Jy(MR),kt),im=["makerNote","userComment"],dz=["translateKeys","translateValues","reviveValues","multiSegment"],am=[].concat(dz,["sanitize","mergeOutput","silentErrors"]),hz=function(){function t(){qn(this,t)}return En(t,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),t}(),Jf=function(t){Bs(r,t);var e=Ls(r);function r(n,i,a,o){var u;if(qn(this,r),u=e.call(this),He(Rn(u),"enabled",!1),He(Rn(u),"skip",new Set),He(Rn(u),"pick",new Set),He(Rn(u),"deps",new Set),He(Rn(u),"translateKeys",!1),He(Rn(u),"translateValues",!1),He(Rn(u),"reviveValues",!1),u.key=n,u.enabled=i,u.parse=u.enabled,u.applyInheritables(o),u.canBeFiltered=kt.includes(n),u.canBeFiltered&&(u.dict=jR.get(n)),a!==void 0)if(Array.isArray(a))u.parse=u.enabled=!0,u.canBeFiltered&&a.length>0&&u.translateTagSet(a,u.pick);else if(Ba(a)=="object"){if(u.enabled=!0,u.parse=a.parse!==!1,u.canBeFiltered){var s=a.pick,l=a.skip;s&&s.length>0&&u.translateTagSet(s,u.pick),l&&l.length>0&&u.translateTagSet(l,u.skip)}u.applyInheritables(a)}else a===!0||a===!1?u.parse=u.enabled=a:It("Invalid options argument: ".concat(a));return ez(u)}return En(r,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(i){var a,o,u=Ie(dz),s;try{for(u.s();!(s=u.n()).done;)a=s.value,o=i[a],o!==void 0&&(this[a]=o)}catch(l){u.e(l)}finally{u.f()}}},{key:"translateTagSet",value:function(i,a){if(this.dict){var o,u,s=this.dict,l=s.tagKeys,c=s.tagValues,f=Ie(i),p;try{for(f.s();!(p=f.n()).done;)o=p.value,typeof o=="string"?(u=c.indexOf(o),u===-1&&(u=l.indexOf(Number(o))),u!==-1&&a.add(Number(l[u]))):a.add(o)}catch(g){f.e(g)}finally{f.f()}}else{var d=Ie(i),v;try{for(d.s();!(v=d.n()).done;){var m=v.value;a.add(m)}}catch(g){d.e(g)}finally{d.f()}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,om(this.pick,this.deps)):this.enabled&&this.pick.size>0&&om(this.pick,this.deps)}}]),r}(hz),ir={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},vz=new Map,NR=function(t){Bs(r,t);var e=Ls(r);function r(n){var i;return qn(this,r),i=e.call(this),n===!0?i.setupFromTrue():n===void 0?i.setupFromUndefined():Array.isArray(n)?i.setupFromArray(n):Ba(n)=="object"?i.setupFromObject(n):It("Invalid options argument ".concat(n)),i.firstChunkSize===void 0&&(i.firstChunkSize=La?i.firstChunkSizeBrowser:i.firstChunkSizeNode),i.mergeOutput&&(i.ifd1.enabled=!1),i.filterNestedSegmentTags(),i.traverseTiffDependencyTree(),i.checkLoadedPlugins(),i}return En(r,[{key:"setupFromUndefined",value:function(){var i,a=Ie(rm),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=ir[i]}catch(d){a.e(d)}finally{a.f()}var u=Ie(am),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=ir[i]}catch(d){u.e(d)}finally{u.f()}var l=Ie(im),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=ir[i]}catch(d){l.e(d)}finally{l.f()}var f=Ie(nm),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Jf(i,ir[i],void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromTrue",value:function(){var i,a=Ie(rm),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=ir[i]}catch(d){a.e(d)}finally{a.f()}var u=Ie(am),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=ir[i]}catch(d){u.e(d)}finally{u.f()}var l=Ie(im),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=!0}catch(d){l.e(d)}finally{l.f()}var f=Ie(nm),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Jf(i,!0,void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromArray",value:function(i){var a,o=Ie(rm),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=ir[a]}catch(v){o.e(v)}finally{o.f()}var s=Ie(am),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=ir[a]}catch(v){s.e(v)}finally{s.f()}var c=Ie(im),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=ir[a]}catch(v){c.e(v)}finally{c.f()}var p=Ie(nm),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Jf(a,!1,void 0,this)}catch(v){p.e(v)}finally{p.f()}this.setupGlobalFilters(i,void 0,kt)}},{key:"setupFromObject",value:function(i){var a,o=Ie((kt.ifd0=kt.ifd0||kt.image,kt.ifd1=kt.ifd1||kt.thumbnail,Object.assign(this,i),rm)),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=BR(i[a],ir[a])}catch(g){o.e(g)}finally{o.f()}var s=Ie(am),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=BR(i[a],ir[a])}catch(g){s.e(g)}finally{s.f()}var c=Ie(im),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=BR(i[a],ir[a])}catch(g){c.e(g)}finally{c.f()}var p=Ie(MR),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Jf(a,ir[a],i[a],this)}catch(g){p.e(g)}finally{p.f()}var v=Ie(kt),m;try{for(v.s();!(m=v.n()).done;)a=m.value,this[a]=new Jf(a,ir[a],i[a],this.tiff)}catch(g){v.e(g)}finally{v.f()}this.setupGlobalFilters(i.pick,i.skip,kt,nm),i.tiff===!0?this.batchEnableWithBool(kt,!0):i.tiff===!1?this.batchEnableWithUserValue(kt,i):Array.isArray(i.tiff)?this.setupGlobalFilters(i.tiff,void 0,kt):Ba(i.tiff)=="object"&&this.setupGlobalFilters(i.tiff.pick,i.tiff.skip,kt)}},{key:"batchEnableWithBool",value:function(i,a){var o=Ie(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;this[s].enabled=a}}catch(l){o.e(l)}finally{o.f()}}},{key:"batchEnableWithUserValue",value:function(i,a){var o=Ie(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=a[s];this[s].enabled=l!==!1&&l!==void 0}}catch(c){o.e(c)}finally{o.f()}}},{key:"setupGlobalFilters",value:function(i,a,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(i&&i.length){var s=Ie(u),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this[c].enabled=!1}}catch($){s.e($)}finally{s.f()}var f=yz(i,o),p=Ie(f),d;try{for(p.s();!(d=p.n()).done;){var v=Pn(d.value,2),m=v[0],g=v[1];om(this[m].pick,g),this[m].enabled=!0}}catch($){p.e($)}finally{p.f()}}else if(a&&a.length){var w=yz(a,o),_=Ie(w),O;try{for(_.s();!(O=_.n()).done;){var T=Pn(O.value,2),C=T[0],F=T[1];om(this[C].skip,F)}}catch($){_.e($)}finally{_.f()}}}},{key:"filterNestedSegmentTags",value:function(){var i=this.ifd0,a=this.exif,o=this.xmp,u=this.iptc,s=this.icc;this.makerNote?a.deps.add(37500):a.skip.add(37500),this.userComment?a.deps.add(37510):a.skip.add(37510),o.enabled||i.skip.add(700),u.enabled||i.skip.add(33723),s.enabled||i.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var i=this,a=this.ifd0,o=this.exif,u=this.gps,s=this.interop;s.needed&&(o.deps.add(40965),a.deps.add(40965)),o.needed&&a.deps.add(34665),u.needed&&a.deps.add(34853),this.tiff.enabled=kt.some(function(p){return i[p].enabled===!0})||this.makerNote||this.userComment;var l=Ie(kt),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;this[f].finalizeFilters()}}catch(p){l.e(p)}finally{l.f()}}},{key:"onlyTiff",get:function(){var i=this;return!pz.map(function(a){return i[a].enabled}).some(function(a){return a===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var i=Ie(MR),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;this[o].enabled&&!Tn.has(o)&&kR("segment parser",o)}}catch(u){i.e(u)}finally{i.f()}}}],[{key:"useCached",value:function(i){var a=vz.get(i);return a!==void 0||(a=new this(i),vz.set(i,a)),a}}]),r}(hz);function yz(t,e){var r,n,i,a,o=[],u=Ie(e),s;try{for(u.s();!(s=u.n()).done;){i=s.value;var l=Ie((r=jR.get(i),n=[],r)),c;try{for(l.s();!(c=l.n()).done;)a=c.value,(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0])}catch(f){l.e(f)}finally{l.f()}n.length&&o.push([i,n])}}catch(f){u.e(f)}finally{u.f()}return o}function BR(t,e){return t!==void 0?t:e!==void 0?e:void 0}function om(t,e){var r=Ie(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;t.add(i)}}catch(a){r.e(a)}finally{r.f()}}He(NR,"default",ir);var S9e=function(){function t(e){var r=this;qn(this,t),He(this,"parsers",{}),He(this,"output",{}),He(this,"errors",[]),He(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=NR.useCached(e)}return En(t,[{key:"read",value:function(){var e=ot(regeneratorRuntime.mark(function n(i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,function(u,s){return typeof u=="string"?cz(u,s):La&&!em&&u instanceof HTMLImageElement?cz(u.src,s):u instanceof Uint8Array||u instanceof ArrayBuffer||u instanceof DataView?new tm(u):La&&u instanceof Blob?xR(u,s,"blob",b9e):void It("Invalid input argument")}(i,this.options);case 2:this.file=o.sent;case 3:case"end":return o.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()},{key:"setup",value:function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),i=Ie(sz),a;try{for(i.s();!(a=i.n()).done;){var o=Pn(a.value,2),u=o[0],s=o[1];if(s.canHandle(r,n))return this.fileParser=new s(this.options,this.file,this.parsers),r[u]=!0}}catch(l){i.e(l)}finally{i.f()}this.file.close&&this.file.close(),It("Unknown file format")}}},{key:"parse",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.output,a=this.errors,this.setup(),!this.options.silentErrors){s.next=8;break}return s.next=5,this.executeParsers().catch(this.pushToErrors);case 5:a.push.apply(a,Jy(this.fileParser.errors)),s.next=10;break;case 8:return s.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&a.length>0&&(i.errors=a),s.abrupt("return",az(o=i)?void 0:o);case 13:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"executeParsers",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=this.output,s.next=3,this.fileParser.parse();case 3:return o=Object.values(this.parsers).map(function(){var l=ot(regeneratorRuntime.mark(function c(f){var p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,f.parse();case 2:p=v.sent,f.assignToOutput(a,p);case 4:case"end":return v.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()),this.options.silentErrors&&(o=o.map(function(l){return l.catch(i.pushToErrors)})),s.next=7,Promise.all(o);case 7:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"extractThumbnail",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i,a,o,u,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.setup(),i=this.options,a=this.file,o=Tn.get("tiff",i),!a.tiff){p.next=6;break}u={start:0,type:"tiff"},p.next=11;break;case 6:if(p.t0=a.jpeg,!p.t0){p.next=11;break}return p.next=10,this.fileParser.getOrFindSegment("tiff");case 10:u=p.sent;case 11:if(u!==void 0){p.next=13;break}return p.abrupt("return");case 13:return p.next=15,this.fileParser.ensureSegmentChunk(u);case 15:return s=p.sent,l=this.parsers.tiff=new o(s,i,a),p.next=19,l.extractThumbnail();case 19:return c=p.sent,p.abrupt("return",(a.close&&a.close(),c));case 21:case"end":return p.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}(),zs=function(){function t(e){var r=this;qn(this,t);var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;He(this,"errors",[]),He(this,"raw",new Map),He(this,"handleError",function(a){if(!r.options.silentErrors)throw a;r.errors.push(a.message)}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return En(t,[{key:"normalizeInput",value:function(r){return r instanceof tm?r:new tm(r)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}},{key:"translateBlock",value:function(r,n){var i=w9e.get(n),a=_9e.get(n),o=jR.get(n),u=this.options[n],s=u.reviveValues&&!!i,l=u.translateValues&&!!a,c=u.translateKeys&&!!o,f={},p=Ie(r),d;try{for(p.s();!(d=p.n()).done;){var v=Pn(d.value,2),m=v[0],g=v[1];s&&i.has(m)?g=i.get(m)(g):l&&a.has(m)&&(g=this.translateValue(g,a.get(m))),c&&o.has(m)&&(m=o.get(m)||m),f[m]=g}}catch(w){p.e(w)}finally{p.f()}return f}},{key:"translateValue",value:function(r,n){return n[r]||n.DEFAULT||r}},{key:"assignToOutput",value:function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}},{key:"assignObjectToOutput",value:function(r,n,i){if(this.globalOptions.mergeOutput)return Object.assign(r,i);r[n]?Object.assign(r[n],i):r[n]=i}}],[{key:"findPosition",value:function(r,n){var i=r.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(r,n,i):this.headerLength,o=n+a,u=i-a;return{offset:n,length:i,headerLength:a,start:o,size:u,end:o+u}}},{key:"parse",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new NR(u9e({},this.type,n)),r).parse()}}]),t}();He(zs,"headerLength",4),He(zs,"type",void 0),He(zs,"multiSegment",!1),He(zs,"canHandle",function(){return!1});function O9e(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function P9e(t){return t>=224&&t<=239}function R9e(t,e,r){var n=Ie(Tn),i;try{for(n.s();!(i=n.n()).done;){var a=Pn(i.value,2),o=a[0],u=a[1];if(u.canHandle(t,e,r))return o}}catch(s){n.e(s)}finally{n.f()}}var mz=function(t){Bs(r,t);var e=Ls(r);function r(){var n;return qn(this,r),n=e.apply(this,arguments),He(Rn(n),"appSegments",[]),He(Rn(n),"jpegSegments",[]),He(Rn(n),"unknownSegments",[]),n}return En(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.findAppSegments();case 2:return u.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"setupSegmentFinderArgs",value:function(i){var a=this;i===!0?(this.findAll=!0,this.wanted=new Set(Tn.keyList())):(i=i===void 0?Tn.keyList().filter(function(o){return a.options[o].enabled}):i.filter(function(o){return a.options[o].enabled&&Tn.has(o)}),this.findAll=!1,this.remaining=new Set(i),this.wanted=new Set(i)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o=this,u,s,l,c,f,p,d,v,m,g=arguments;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(u=g.length>0&&g[0]!==void 0?g[0]:0,s=g.length>1?g[1]:void 0,this.setupSegmentFinderArgs(s),l=this.file,c=this.findAll,f=this.wanted,p=this.remaining,_.t0=!c&&this.file.chunked,!_.t0){_.next=10;break}if(c=Array.from(f).some(function(O){var T=Tn.get(O),C=o.options[O];return T.multiSegment&&C.multiSegment}),_.t1=c,!_.t1){_.next=10;break}return _.next=10,this.file.readWhole();case 10:if(u=this.findAppSegmentsInRange(u,l.byteLength),!(!this.options.onlyTiff&&l.chunked)){_.next=30;break}d=!1;case 13:if(!(p.size>0&&!d&&(l.canReadNextChunk||this.unfinishedMultiSegment))){_.next=30;break}if(v=l.nextChunkOffset,m=this.appSegments.some(function(O){return!o.file.available(O.offset||O.start,O.length||O.size)}),!(u>v&&!m)){_.next=21;break}return _.next=18,l.readNextChunk(u);case 18:_.t2=!_.sent,_.next=24;break;case 21:return _.next=23,l.readNextChunk(v);case 23:_.t2=!_.sent;case 24:if(d=_.t2,u=this.findAppSegmentsInRange(u,l.byteLength),u!==void 0){_.next=28;break}return _.abrupt("return");case 28:_.next=13;break;case 30:case"end":return _.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"findAppSegmentsInRange",value:function(i,a){a-=2;for(var o,u,s,l,c,f,p=this.file,d=this.findAll,v=this.wanted,m=this.remaining,g=this.options;i<a;i++)if(p.getUint8(i)===255){if(o=p.getUint8(i+1),P9e(o)){if(u=p.getUint16(i+2),s=R9e(p,i,u),s&&v.has(s)&&(l=Tn.get(s),c=l.findPosition(p,i),f=g[s],c.type=s,this.appSegments.push(c),!d&&(l.multiSegment&&f.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||m.delete(s)):m.delete(s),m.size===0)))break;g.recordUnknownSegments&&(c=zs.findPosition(p,i),c.marker=o,this.unknownSegments.push(c)),i+=u+1}else if(O9e(o)){if(u=p.getUint16(i+2),o===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:i,length:u,marker:o}),i+=u+1}}return i}},{key:"mergeMultiSegments",value:function(){var i=this;if(!!this.appSegments.some(function(o){return o.multiSegment})){var a=function(o,u){for(var s,l,c,f=new Map,p=0;p<o.length;p++)s=o[p],l=s[u],f.has(l)?c=f.get(l):f.set(l,c=[]),c.push(s);return Array.from(f)}(this.appSegments,"type");this.mergedAppSegments=a.map(function(o){var u=Pn(o,2),s=u[0],l=u[1],c=Tn.get(s,i.options);return c.handleMultiSegments?{type:s,chunk:c.handleMultiSegments(l)}:l[0]})}}},{key:"getSegment",value:function(i){return this.appSegments.find(function(a){return a.type===i})}},{key:"getOrFindSegment",value:function(){var n=ot(regeneratorRuntime.mark(function a(o){var u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=this.getSegment(o),l.t0=u===void 0,!l.t0){l.next=6;break}return l.next=5,this.findAppSegments(0,[o]);case 5:u=this.getSegment(o);case 6:return l.abrupt("return",u);case 7:case"end":return l.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()}],[{key:"canHandle",value:function(i,a){return a===65496}}]),r}(function(){function t(e,r,n){var i=this;qn(this,t),He(this,"errors",[]),He(this,"ensureSegmentChunk",function(){var a=ot(regeneratorRuntime.mark(function o(u){var s,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=u.start,l=u.size||65536,!i.file.chunked){f.next=17;break}if(!i.file.available(s,l)){f.next=6;break}u.chunk=i.file.subarray(s,l),f.next=15;break;case 6:return f.prev=6,f.next=9,i.file.readChunk(s,l);case 9:u.chunk=f.sent,f.next=15;break;case 12:f.prev=12,f.t0=f.catch(6),It("Couldn't read segment: ".concat(JSON.stringify(u),". ").concat(f.t0.message));case 15:f.next=18;break;case 17:i.file.byteLength>s+l?u.chunk=i.file.subarray(s,l):u.size===void 0?u.chunk=i.file.subarray(s):It("Segment unreachable: "+JSON.stringify(u));case 18:return f.abrupt("return",u.chunk);case 19:case"end":return f.stop()}},o,null,[[6,12]])}));return function(o){return a.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return En(t,[{key:"injectSegment",value:function(r,n){this.options[r].enabled&&this.createParser(r,n)}},{key:"createParser",value:function(r,n){var i=new(Tn.get(r))(n,this.options,this.file);return this.parsers[r]=i}},{key:"createParsers",value:function(r){var n=Ie(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value,o=a.type,u=a.chunk,s=this.options[o];if(s&&s.enabled){var l=this.parsers[o];l&&l.append||l||this.createParser(o,u)}}}catch(c){n.e(c)}finally{n.f()}}},{key:"readSegments",value:function(){var e=ot(regeneratorRuntime.mark(function n(i){var a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=i.map(this.ensureSegmentChunk),u.next=3,Promise.all(a);case 3:case"end":return u.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()}]),t}());He(mz,"type","jpeg"),sz.set("jpeg",mz);var q9e=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],E9e=function(t){Bs(r,t);var e=Ls(r);function r(){return qn(this,r),e.apply(this,arguments)}return En(r,[{key:"parseHeader",value:function(){var i=this.chunk.getUint16();i===18761?this.le=!0:i===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,u=this.options[a],s=u.pick,l=u.skip;s=new Set(s);var c=s.size>0,f=l.size===0,p=this.chunk.getUint16(i);i+=2;for(var d=0;d<p;d++){var v=this.chunk.getUint16(i);if(c){if(s.has(v)&&(o.set(v,this.parseTag(i,v,a)),s.delete(v),s.size===0))break}else!f&&l.has(v)||o.set(v,this.parseTag(i,v,a));i+=12}return o}},{key:"parseTag",value:function(i,a,o){var u=this.chunk,s=u.getUint16(i+2),l=u.getUint32(i+4),c=q9e[s];if(c*l<=4?i+=8:i=u.getUint32(i+8),(s<1||s>13)&&It("Invalid TIFF value type. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i)),i>u.byteLength&&It("Invalid TIFF value offset. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i," is outside of chunk size ").concat(u.byteLength)),s===1)return u.getUint8Array(i,l);if(s===2)return(f=function(g){for(;g.endsWith("\0");)g=g.slice(0,-1);return g}(f=u.getString(i,l)).trim())===""?void 0:f;var f;if(s===7)return u.getUint8Array(i,l);if(l===1)return this.parseTagValue(s,i);{for(var p=function(g){switch(g){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s),d=new p(l),v=c,m=0;m<l;m++)d[m]=this.parseTagValue(s,i),i+=v;return d}}},{key:"parseTagValue",value:function(i,a){var o=this.chunk;switch(i){case 1:return o.getUint8(a);case 3:return o.getUint16(a);case 4:case 13:return o.getUint32(a);case 5:return o.getUint32(a)/o.getUint32(a+4);case 6:return o.getInt8(a);case 8:return o.getInt16(a);case 9:return o.getInt32(a);case 10:return o.getInt32(a)/o.getInt32(a+4);case 11:return o.getFloat(a);case 12:return o.getDouble(a);default:It("Invalid tiff type ".concat(i))}}}]),r}(zs),LR=function(t){Bs(r,t);var e=Ls(r);function r(){return qn(this,r),e.apply(this,arguments)}return En(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.parseHeader(),o=this.options,s.t0=o.ifd0.enabled,!s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t1=o.exif.enabled,!s.t1){s.next=10;break}return s.next=10,this.safeParse("parseExifBlock");case 10:if(s.t2=o.gps.enabled,!s.t2){s.next=14;break}return s.next=14,this.safeParse("parseGpsBlock");case 14:if(s.t3=o.interop.enabled,!s.t3){s.next=18;break}return s.next=18,this.safeParse("parseInteropBlock");case 18:if(s.t4=o.ifd1.enabled,!s.t4){s.next=22;break}return s.next=22,this.safeParse("parseThumbnailBlock");case 22:return s.abrupt("return",this.createOutput());case 23:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"safeParse",value:function(i){var a=this[i]();return a.catch!==void 0&&(a=a.catch(this.handleError)),a}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var i=this.chunk.getUint16(this.ifd0Offset),a=this.ifd0Offset+2+12*i;this.ifd1Offset=this.chunk.getUint32(a)}}},{key:"parseBlock",value:function(i,a){var o=new Map;return this[a]=o,this.parseTags(i,a,o),o}},{key:"parseIfd0Block",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.ifd0){l.next=2;break}return l.abrupt("return");case 2:if(o=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&It("Malformed EXIF data"),!o.chunked&&this.ifd0Offset>o.byteLength&&It("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(o.byteLength)),l.t0=o.tiff,!l.t0){l.next=10;break}return l.next=10,o.ensureChunk(this.ifd0Offset,oz(this.options));case 10:return u=this.parseBlock(this.ifd0Offset,"ifd0"),l.abrupt("return",u.size!==0?(this.exifOffset=u.get(34665),this.interopOffset=u.get(40965),this.gpsOffset=u.get(34853),this.xmp=u.get(700),this.iptc=u.get(33723),this.icc=u.get(34675),this.options.sanitize&&(u.delete(34665),u.delete(40965),u.delete(34853),u.delete(700),u.delete(33723),u.delete(34675)),u):void 0);case 12:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseExifBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.exif){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:if(s.t1=this.file.tiff,!s.t1){s.next=12;break}return s.next=12,this.file.ensureChunk(this.exifOffset,oz(this.options));case 12:return o=this.parseBlock(this.exifOffset,"exif"),s.abrupt("return",(this.interopOffset||(this.interopOffset=o.get(40965)),this.makerNote=o.get(37500),this.userComment=o.get(37510),this.options.sanitize&&(o.delete(40965),o.delete(37500),o.delete(37510)),this.unpack(o,41728),this.unpack(o,41729),o));case 14:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"unpack",value:function(i,a){var o=i.get(a);o&&o.length===1&&i.set(a,o[0])}},{key:"parseGpsBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.gps){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:return o=this.parseBlock(this.gpsOffset,"gps"),s.abrupt("return",(o&&o.has(2)&&o.has(4)&&(o.set("latitude",gz.apply(void 0,Jy(o.get(2)).concat([o.get(1)]))),o.set("longitude",gz.apply(void 0,Jy(o.get(4)).concat([o.get(3)])))),o));case 10:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseInteropBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!this.interop,!u.t0){u.next=11;break}if(u.t1=this.ifd0,u.t1){u.next=6;break}return u.next=6,this.parseIfd0Block();case 6:if(u.t2=this.interopOffset!==void 0||this.exif,u.t2){u.next=10;break}return u.next=10,this.parseExifBlock();case 10:u.t0=this.interopOffset!==void 0;case 11:if(!u.t0){u.next=13;break}return u.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseThumbnailBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=u.length>0&&u[0]!==void 0&&u[0],!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||o))){l.next=3;break}return l.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"extractThumbnail",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.headerParsed||this.parseHeader(),l.t0=this.ifd1Parsed,l.t0){l.next=5;break}return l.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){l.next=7;break}return l.abrupt("return");case 7:return o=this.ifd1.get(513),u=this.ifd1.get(514),l.abrupt("return",this.chunk.getUint8Array(o,u));case 9:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var i,a,o,u={},s=Ie(kt),l;try{for(s.s();!(l=s.n()).done;)if(a=l.value,i=this[a],!az(i))if(o=this.canTranslate?this.translateBlock(i,a):Object.fromEntries(i),this.options.mergeOutput){if(a==="ifd1")continue;Object.assign(u,o)}else u[a]=o}catch(c){s.e(c)}finally{s.f()}return this.makerNote&&(u.makerNote=this.makerNote),this.userComment&&(u.userComment=this.userComment),u}},{key:"assignToOutput",value:function(i,a){if(this.globalOptions.mergeOutput)Object.assign(i,a);else for(var o=0,u=Object.entries(a);o<u.length;o++){var s=Pn(u[o],2),l=s[0],c=s[1];this.assignObjectToOutput(i,l,c)}}}],[{key:"canHandle",value:function(i,a){return i.getUint8(a+1)===225&&i.getUint32(a+4)===1165519206&&i.getUint16(a+8)===0}}]),r}(E9e);function gz(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}He(LR,"type","tiff"),He(LR,"headerLength",10),Tn.set("tiff",LR);var T9e=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),A9e=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Qf=!0,Zf=!0;(typeof navigator=="undefined"?"undefined":Ba(navigator))=="object"&&(Xn=navigator.userAgent,Xn.includes("iPad")||Xn.includes("iPhone")?(zR=Xn.match(/OS (\d+)_(\d+)/),zR&&($R=Pn(zR,3),bz=$R[1],La=$R[2],em=Number(bz)+.1*Number(La),Qf=em<13.4,Zf=!1)):Xn.includes("OS X 10")&&(_z=Xn.match(/OS X 10[_.](\d+)/),wz=Pn(_z,2),Sz=wz[1],Qf=Zf=Number(Sz)<15),Xn.includes("Chrome/")?(Oz=Xn.match(/Chrome\/(\d+)/),Pz=Pn(Oz,2),Rz=Pz[1],Qf=Zf=Number(Rz)<81):Xn.includes("Firefox/")&&(qz=Xn.match(/Firefox\/(\d+)/),Ez=Pn(qz,2),Tz=Ez[1],Qf=Zf=Number(Tz)<77));var Xn,zR,$R,bz,La,em,_z,wz,Sz,Oz,Pz,Rz,qz,Ez,Tz;HR.rotation=function(){var t=ot(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,function(){var o=ot(regeneratorRuntime.mark(function u(s){var l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=new S9e(T9e),p.next=3,l.read(s);case 3:return p.next=5,l.parse();case 5:if(c=p.sent,!(c&&c.ifd0)){p.next=8;break}return p.abrupt("return",c.ifd0[274]);case 8:case"end":return p.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()(r);case 2:return n=a.sent,a.abrupt("return",Object.assign({canvas:Qf,css:Zf},A9e[n]));case 4:case"end":return a.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()});var kz=h(function(Cpt,Iz){var I9e=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;Iz.exports=function(e,r,n){var i,a,o=I9e.exec(e),u=(i=(a=r.mimeType)!=null?a:o==null?void 0:o[1])!=null?i:"plain/text",s;if(o[2]!=null){for(var l=atob(decodeURIComponent(o[3])),c=new Uint8Array(l.length),f=0;f<l.length;f++)c[f]=l.charCodeAt(f);s=[c]}else s=[decodeURIComponent(o[3])];return n?new File(s,r.name||"",{type:u}):new Blob(s,{type:u})}});var xz=h(function(Dpt,Fz){Fz.exports=function(e){return e.startsWith("blob:")}});var Dz=h(function(Upt,Cz){"use strict";Cz.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}});var VR=h(function(jpt,zz){"use strict";function um(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?um=function(r){return typeof r}:um=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}function k9e(t,e){return D9e(t)||C9e(t,e)||x9e(t,e)||F9e()}function F9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x9e(t,e){if(!!t){if(typeof t=="string")return Uz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uz(t,e)}}function Uz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function D9e(t){if(Array.isArray(t))return t}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){U9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M9e(t,e,r){return e&&Nz(t.prototype,e),r&&Nz(t,r),t}function N9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WR(t,e)}function WR(t,e){return WR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},WR(t,e)}function B9e(t){var e=$9e();return function(){var n=sm(t),i;if(e){var a=sm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return L9e(this,i)}}function L9e(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z9e(t)}function z9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}var H9e=rt(),W9e=Az(),V9e=kz(),Bz=xz(),Lz=iR(),G9e=Dz(),K9e={version:"2.1.1"};function Y9e(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}).then(function(n){if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(function(){return V9e(t.toDataURL(e,r),{})}).then(function(n){if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function X9e(t,e){var r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);var i=document.createElement("canvas");i.width=r,i.height=n;var a=i.getContext("2d");return a.translate(r/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function J9e(t){var e=t.width/t.height,r=5e6,n=4096,i=Math.floor(Math.sqrt(r*e)),a=Math.floor(r/Math.sqrt(r*e));if(i>n&&(i=n,a=Math.round(i/e)),a>n&&(a=n,i=Math.round(e*a)),t.width>i){var o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}var ep=function(t){N9e(r,t);var e=B9e(r);function r(n,i){var a;j9e(this,r),a=e.call(this,n,i),a.onFileAdded=function(u){!u.preview&&u.data&&Lz(u.type)&&!u.isRemote&&a.addToQueue(u.id)},a.onCancelRequest=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1)},a.onFileRemoved=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1),u.preview&&Bz(u.preview)&&URL.revokeObjectURL(u.preview)},a.onRestored=function(){var u=a.uppy.getFiles().filter(function(s){return s.isRestored});u.forEach(function(s){(!s.preview||Bz(s.preview))&&a.addToQueue(s.id)})},a.onAllFilesRemoved=function(){a.queue=[]},a.waitUntilAllProcessed=function(u){u.forEach(function(l){var c=a.uppy.getFile(l);a.uppy.emit("preprocess-progress",c,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})});var s=function(){u.forEach(function(c){var f=a.uppy.getFile(c);a.uppy.emit("preprocess-complete",f)})};return new Promise(function(l){a.queueProcessing?a.uppy.once("thumbnail:all-generated",function(){s(),l()}):(s(),l())})},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType||"image/jpeg",a.defaultLocale=G9e;var o={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(a.opts=Mz(Mz({},o),i),a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return M9e(r,[{key:"createThumbnail",value:function(i,a,o){var u=this,s=URL.createObjectURL(i.data),l=new Promise(function(f,p){var d=new Image;d.src=s,d.addEventListener("load",function(){URL.revokeObjectURL(s),f(d)}),d.addEventListener("error",function(v){URL.revokeObjectURL(s),p(v.error||new Error("Could not create thumbnail"))})}),c=(0,W9e.rotation)(i.data).catch(function(){return 1});return Promise.all([l,c]).then(function(f){var p=k9e(f,2),d=p[0],v=p[1],m=u.getProportionalDimensions(d,a,o,v.deg),g=u.rotateImage(d,v),w=u.resizeImage(g,m.width,m.height);return u.canvasToBlob(w,u.thumbnailType,80)}).then(function(f){return URL.createObjectURL(f)})}},{key:"getProportionalDimensions",value:function(i,a,o,u){var s=i.width/i.height;return(u===90||u===270)&&(s=i.height/i.width),a!=null?{width:a,height:Math.round(a/s)}:o!=null?{width:Math.round(o*s),height:o}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}},{key:"resizeImage",value:function(i,a,o){var u=this.protect(i),s=Math.ceil(Math.log2(u.width/a));s<1&&(s=1);for(var l=a*Math.pow(2,s-1),c=o*Math.pow(2,s-1),f=2;s--;){var p=document.createElement("canvas");p.width=l,p.height=c,p.getContext("2d").drawImage(u,0,0,l,c),u=p,l=Math.round(l/f),c=Math.round(c/f)}return u}},{key:"setPreviewURL",value:function(i,a){this.uppy.setFileState(i,{preview:a})}},{key:"addToQueue",value:function(i){this.queue.push(i),this.queueProcessing===!1&&this.processQueue()}},{key:"processQueue",value:function(){var i=this;if(this.queueProcessing=!0,this.queue.length>0){var a=this.uppy.getFile(this.queue.shift());return a?this.requestThumbnail(a).catch(function(){}).then(function(){return i.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function(i){var a=this;return Lz(i.type)&&!i.isRemote?this.createThumbnail(i,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(o){a.setPreviewURL(i.id,o),a.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(i.id)),a.uppy.emit("thumbnail:generated",a.uppy.getFile(i.id),o)}).catch(function(o){a.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(i.id,":"),"warning"),a.uppy.log(o,"warning"),a.uppy.emit("thumbnail:error",a.uppy.getFile(i.id),o)}):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),r}(H9e.UIPlugin);ep.VERSION=K9e.version;zz.exports=ep;ep.prototype.canvasToBlob=Y9e;ep.prototype.protect=J9e;ep.prototype.rotateImage=X9e});var Hz=h(function(Mpt,$z){function lm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lm=function(r){return typeof r}:lm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(t)}var Q9e=CP();$z.exports=function(e){if(typeof e=="string"){var r=document.querySelectorAll(e);return r.length===0?null:Array.from(r)}return lm(e)==="object"&&Q9e(e)?[e]:null}});var Vz=h(function(Npt,Wz){Wz.exports=function(e){return!e.fullPath||e.fullPath==="/".concat(e.name)?null:e.fullPath}});var Yz=h(function(Bpt,Kz){function Gz(t){return r7e(t)||t7e(t)||e7e(t)||Z9e()}function Z9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e7e(t,e){if(!!t){if(typeof t=="string")return GR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(t,e)}}function t7e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r7e(t){if(Array.isArray(t))return GR(t)}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Kz.exports=function t(e,r,n,i){var a=i.onSuccess;e.readEntries(function(o){var u=[].concat(Gz(r),Gz(o));o.length?setTimeout(function(){t(e,u,n,{onSuccess:a})},0):a(u)},function(o){n(o),a(r)})}});var Jz=h(function(Lpt,Xz){var n7e=On(),i7e=Vz(),a7e=Yz();Xz.exports=function(e,r){var n=[],i=[],a=function o(u){return new Promise(function(s){if(u.isFile)u.file(function(c){c.relativePath=i7e(u),n.push(c),s()},function(c){r(c),s()});else if(u.isDirectory){var l=u.createReader();a7e(l,[],r,{onSuccess:function(f){return s(Promise.all(f.map(o)))}})}})};return n7e(e.items).forEach(function(o){var u=o.webkitGetAsEntry();u&&i.push(a(u))}),Promise.all(i).then(function(){return n})}});var Zz=h(function(zpt,Qz){var o7e=On();Qz.exports=function(e){var r=o7e(e.files);return Promise.resolve(r)}});var cm=h(function($pt,e$){var u7e=Jz(),s7e=Zz();e$.exports=function(e,r){var n,i=r===void 0?{}:r,a=i.logDropError,o=a===void 0?function(){}:a;return(n=e.items)!=null&&n[0]&&"webkitGetAsEntry"in e.items[0]?u7e(e,o):s7e(e)}});var n$=h(function(Hpt,r$){"use strict";var t$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function l7e(t,e){return!!(t===e||t$(t)&&t$(e))}function c7e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!l7e(t[r],e[r]))return!1;return!0}function f7e(t,e){e===void 0&&(e=c7e);var r,n=[],i,a=!1;function o(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return a&&r===this&&e(u,n)||(i=t.apply(this,u),a=!0,r=this,n=u),i}return o}r$.exports=f7e});var u$=h(function(Wpt,o$){function za(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(r){return typeof r}:za=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},za(t)}var p7e="Expected a function",i$=0/0,d7e="[object Symbol]",h7e=/^\s+|\s+$/g,v7e=/^[-+]0x[0-9a-f]+$/i,y7e=/^0b[01]+$/i,m7e=/^0o[0-7]+$/i,g7e=parseInt,b7e=(typeof global=="undefined"?"undefined":za(global))=="object"&&global&&global.Object===Object&&global,_7e=(typeof self=="undefined"?"undefined":za(self))=="object"&&self&&self.Object===Object&&self,w7e=b7e||_7e||Function("return this")(),S7e=Object.prototype,O7e=S7e.toString,P7e=Math.max,R7e=Math.min,KR=function(){return w7e.Date.now()};function q7e(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(p7e);e=a$(e)||0,YR(r)&&(c=!!r.leading,f="maxWait"in r,a=f?P7e(a$(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(F){var $=n,G=i;return n=i=void 0,l=F,o=t.apply(G,$),o}function v(F){return l=F,u=setTimeout(w,e),c?d(F):o}function m(F){var $=F-s,G=F-l,q=e-$;return f?R7e(q,a-G):q}function g(F){var $=F-s,G=F-l;return s===void 0||$>=e||$<0||f&&G>=a}function w(){var F=KR();if(g(F))return _(F);u=setTimeout(w,m(F))}function _(F){return u=void 0,p&&n?d(F):(n=i=void 0,o)}function O(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function T(){return u===void 0?o:_(KR())}function C(){var F=KR(),$=g(F);if(n=arguments,i=this,s=F,$){if(u===void 0)return v(s);if(f)return u=setTimeout(w,e),d(s)}return u===void 0&&(u=setTimeout(w,e)),o}return C.cancel=O,C.flush=T,C}function YR(t){var e=za(t);return!!t&&(e=="object"||e=="function")}function E7e(t){return!!t&&za(t)=="object"}function T7e(t){return za(t)=="symbol"||E7e(t)&&O7e.call(t)==d7e}function a$(t){if(typeof t=="number")return t;if(T7e(t))return i$;if(YR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=YR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(h7e,"");var r=y7e.test(t);return r||m7e.test(t)?g7e(t.slice(2),r?2:8):v7e.test(t)?i$:+t}o$.exports=q7e});var l$=h(function(Vpt,s$){"use strict";var A7e=u$(),I7e=jy(),k7e=hR();function F7e(){var t=!1,e=function(n,i){var a=k7e(n,i),o=a.contains(document.activeElement);if(!(o&&t)){var u=a.querySelector("[data-uppy-super-focusable]");if(!(o&&!u))if(u)u.focus({preventScroll:!0}),t=!0;else{var s=a.querySelector(I7e);s==null||s.focus({preventScroll:!0}),t=!1}}};return A7e(e,260)}s$.exports=F7e});var XR=h(function(Gpt,c$){c$.exports=function(){var e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}});var p$=h(function(Kpt,f$){f$.exports=function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0}});var fm=h(function(Ypt,d$){"use strict";var St=(te(),re(ne));function x7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,St.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,St.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,St.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function C7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function D7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function U7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function j7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function M7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,St.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,St.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function N7e(){return(0,St.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,St.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function B7e(t){var e={color:"#838999",icon:M7e()};if(!t)return e;var r=t.split("/")[0],n=t.split("/")[1];if(r==="text")return{color:"#5a5e69",icon:N7e()};if(r==="image")return{color:"#686de0",icon:x7e()};if(r==="audio")return{color:"#068dbb",icon:C7e()};if(r==="video")return{color:"#19af67",icon:D7e()};if(r==="application"&&n==="pdf")return{color:"#e25149",icon:U7e()};var i=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return r==="application"&&i.indexOf(n)!==-1?{color:"#00C469",icon:j7e()}:e}d$.exports=B7e});var JR=h(function(Xpt,h$){"use strict";var tp=(te(),re(ne)),L7e=fm();function z7e(t){var e=t.file;if(e.preview)return(0,tp.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});var r=L7e(e.type),n=r.color,i=r.icon;return(0,tp.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,tp.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},i),(0,tp.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,tp.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}h$.exports=z7e});var QR=h(function(Jpt,y$){"use strict";var v$=(te(),re(ne)),$7e=function(e,r){var n=r.filter(function(i){return i.id===e});return n[0].name};function H7e(t){var e=t.file,r=t.toggleFileCard,n=t.i18n,i=t.metaFields,a=e.missingRequiredMetaFields;if(!(a!=null&&a.length))return null;var o=a.map(function(u){return $7e(u,i)}).join(", ");return(0,v$.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",(0,v$.h)("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return r(!0,e.id)}},n("editFile")))}y$.exports=H7e});var g$=h(function(Qpt,m$){"use strict";var rp=(te(),re(ne)),W7e=JR(),V7e=QR(),G7e=fm();function K7e(t){return(0,rp.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:G7e(t.file.type).color}},t.showLinkToFileUploadResult&&t.file.uploadURL&&(0,rp.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:t.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.file.meta.name},(0,rp.h)("span",{hidden:!0},t.file.meta.name)),(0,rp.h)(W7e,{file:t.file}),(0,rp.h)(V7e,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}m$.exports=K7e});var w$=h(function(Zpt,_$){"use strict";var Ce=(te(),re(ne));function Y7e(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function b$(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function ZR(t){return(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":b$(t),title:b$(t),onClick:function(){return Y7e(t)}},t.children))}function pm(t){var e=t.children;return(0,Ce.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function eq(t){var e=t.progress,r=2*Math.PI*15;return(0,Ce.h)("g",null,(0,Ce.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,Ce.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}function X7e(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Ce.h)(pm,null,(0,Ce.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,Ce.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?(0,Ce.h)(ZR,t,(0,Ce.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,Ce.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,Ce.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,Ce.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,Ce.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?(0,Ce.h)(ZR,t,(0,Ce.h)(pm,null,(0,Ce.h)(eq,{progress:t.file.progress.percentage}),t.file.isPaused?(0,Ce.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,Ce.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,Ce.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,Ce.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?(0,Ce.h)(ZR,t,(0,Ce.h)(pm,null,(0,Ce.h)(eq,{progress:t.file.progress.percentage}),(0,Ce.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Ce.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Ce.h)(pm,null,(0,Ce.h)(eq,{progress:t.file.progress.percentage}))))}_$.exports=X7e});var O$=h(function(edt,S$){var tq="...";S$.exports=function(e,r){if(r===0)return"";if(e.length<=r)return e;if(r<=tq.length+1)return"".concat(e.slice(0,r-1),"\u2026");var n=r-tq.length,i=Math.ceil(n/2),a=Math.floor(n/2);return e.slice(0,i)+tq+e.slice(-a)}});var q$=h(function(tdt,R$){"use strict";var mr=(te(),re(ne)),J7e=Xv(),P$=O$(),Q7e=QR(),Z7e=function(e){var r=e.file.meta,n=r.author,i=r.name;function a(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return(0,mr.h)("div",{className:"uppy-Dashboard-Item-name",title:i},P$(i,a()))},eze=function(e){var r=e.file.meta.author,n=e.file.remote.providerName,i="\xB7";return r?(0,mr.h)("div",{className:"uppy-Dashboard-Item-author"},(0,mr.h)("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},P$(r.name,13)),n?(0,mr.h)(mr.Fragment,null," ".concat(i," "),n," ".concat(i," ")):null):null},tze=function(e){return e.file.size&&(0,mr.h)("div",{className:"uppy-Dashboard-Item-statusSize"},J7e(e.file.size))},rze=function(e){return e.file.isGhost&&(0,mr.h)("span",null," \u2022 ",(0,mr.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},nze=function(e){var r=e.file,n=e.onClick;return r.error?(0,mr.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function ize(t){var e=t.file;return(0,mr.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},(0,mr.h)("div",{className:"uppy-Dashboard-Item-fileName"},Z7e(t),(0,mr.h)(nze,{file:t.file,onClick:function(){return alert(t.file.error)}})),(0,mr.h)("div",{className:"uppy-Dashboard-Item-status"},eze(t),tze(t),rze(t)),(0,mr.h)(Q7e,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}R$.exports=ize});var T$=h(function(rdt,E$){"use strict";function aze(t,e){return e||(e="Copy the URL below"),new Promise(function(r){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();var i=function(){document.body.removeChild(n),window.prompt(e,t),r()};try{var a=document.execCommand("copy");return a?(document.body.removeChild(n),r()):i("copy command unavailable")}catch(o){return document.body.removeChild(n),i(o)}})}E$.exports=aze});var I$=h(function(ndt,A$){"use strict";var Mt=(te(),re(ne)),oze=T$();function uze(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,i=t.canEditFile,a=t.i18n,o=t.onClick;return!r&&n&&n.length>0||!r&&i(e)?(0,Mt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:e.meta.name}),title:a("editFileWithFilename",{file:e.meta.name}),onClick:function(){return o()}},(0,Mt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,Mt.h)("g",{fillRule:"evenodd"},(0,Mt.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,Mt.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,Mt.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function sze(t){var e=t.i18n,r=t.onClick,n=t.file;return(0,Mt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:function(){return r()}},(0,Mt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,Mt.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,Mt.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var lze=function(e,r){oze(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})};function cze(t){var e=t.i18n;return(0,Mt.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:function(n){return lze(n,t)}},(0,Mt.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,Mt.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function fze(t){var e=t.uppy,r=t.file,n=t.uploadInProgressOrComplete,i=t.canEditFile,a=t.metaFields,o=t.showLinkToFileUploadResult,u=t.showRemoveButton,s=t.i18n,l=t.toggleFileCard,c=t.openFileEditor,f=function(){a&&a.length>0?l(!0,r.id):c(r)};return(0,Mt.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,Mt.h)(uze,{i18n:s,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,onClick:f}),o&&r.uploadURL?(0,Mt.h)(cze,{file:r,uppy:e,i18n:s}):null,u?(0,Mt.h)(sze,{i18n:s,file:r,uppy:e,onClick:function(){return t.uppy.removeFile(r.id,"removed-by-user")}}):null)}A$.exports=fze});var x$=h(function(idt,F$){"use strict";function dm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(r){return typeof r}:dm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function pze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dze(t,e,r){return e&&k$(t.prototype,e),r&&k$(t,r),t}function hze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rq(t,e)}function rq(t,e){return rq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},rq(t,e)}function vze(t){var e=gze();return function(){var n=hm(t),i;if(e){var a=hm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yze(this,i)}}function yze(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mze(t)}function mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}var $a=(te(),re(ne)),bze=Tr(),_ze=p$(),wze=g$(),Sze=w$(),Oze=q$(),Pze=I$(),Rze=function(t){hze(r,t);var e=vze(r);function r(){return pze(this,r),e.apply(this,arguments)}return dze(r,[{key:"componentDidMount",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"shouldComponentUpdate",value:function(i){return!_ze(this.props,i)}},{key:"componentDidUpdate",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"componentWillUnmount",value:function(){var i=this.props.file;i.preview||this.props.handleCancelThumbnail(i)}},{key:"render",value:function(){var i=this.props.file,a=i.progress.preprocess||i.progress.postprocess,o=i.progress.uploadComplete&&!a&&!i.error,u=i.progress.uploadStarted||a,s=i.progress.uploadStarted&&!i.progress.uploadComplete||a,l=i.error||!1,c=i.isGhost,f=(this.props.individualCancellation||!s)&&!o;o&&this.props.showRemoveButtonAfterComplete&&(f=!0);var p=bze({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":a,"is-complete":o,"is-error":!!l,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":c});return(0,$a.h)("div",{className:p,id:"uppy_".concat(i.id),role:this.props.role},(0,$a.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,$a.h)(wze,{file:i,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,$a.h)(Sze,{uppy:this.props.uppy,file:i,error:l,isUploaded:o,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,$a.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,$a.h)(Oze,{file:i,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,$a.h)(Pze,{file:i,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:f,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:u,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),r}($a.Component);F$.exports=Rze});var j$=h(function(adt,U$){"use strict";function vm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vm=function(r){return typeof r}:vm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vm(t)}var qze=["data","rowHeight","renderRow","overscanCount"];function C$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(r),!0).forEach(function(n){Eze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tze(t,e){if(t==null)return{};var r=Aze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function Aze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kze(t,e,r){return e&&D$(t.prototype,e),r&&D$(t,r),t}function Fze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nq(t,e)}function nq(t,e){return nq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},nq(t,e)}function xze(t){var e=Uze();return function(){var n=mm(t),i;if(e){var a=mm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Cze(this,i)}}function Cze(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dze(t)}function Dze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}var gm=(te(),re(ne));function iq(){return iq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iq.apply(this,arguments)}var jze={position:"relative",width:"100%",minHeight:"100%"},Mze={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},Nze=function(t){Fze(r,t);var e=xze(r);function r(n){var i;return Ize(this,r),i=e.call(this,n),i.handleScroll=function(){i.setState({offset:i.base.scrollTop})},i.handleResize=function(){i.resize()},i.focusElement=null,i.state={offset:0,height:0},i}return kze(r,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){var i=this.state.height;i!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(i){var a=i.data,o=i.rowHeight,u=i.renderRow,s=i.overscanCount,l=s===void 0?10:s,c=Tze(i,qze),f=this.state,p=f.offset,d=f.height,v=Math.floor(p/o),m=Math.floor(d/o);l&&(v=Math.max(0,v-v%l),m+=l);var g=v+m+4,w=a.slice(v,g),_=ym(ym({},jze),{},{height:a.length*o}),O=ym(ym({},Mze),{},{top:v*o});return(0,gm.h)("div",iq({onScroll:this.handleScroll},c),(0,gm.h)("div",{role:"presentation",style:_},(0,gm.h)("div",{role:"presentation",style:O},w.map(u))))}}]),r}(gm.Component);U$.exports=Nze});var N$=h(function(odt,M$){"use strict";var aq=(te(),re(ne));function oq(){return oq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oq.apply(this,arguments)}var Bze=Tr(),Lze=x$(),zze=j$();function $ze(t,e){var r=[],n=[];return t.forEach(function(i){n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}M$.exports=function(t){var e=t.totalFileCount===0,r=Bze("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,i={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},a=function(c,f){return t.files[f].isGhost-t.files[c].isGhost},o=Object.keys(t.files);t.recoveredState&&o.sort(a);var u=$ze(o,t.itemsPerRow),s=function(c){return(0,aq.h)("div",{role:"presentation",key:c[0]},c.map(function(f){return(0,aq.h)(Lze,oq({key:f,uppy:t.uppy},i,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[f]}))}))};return(0,aq.h)(zze,{class:r,role:"list",data:u,renderRow:s,rowHeight:n})}});var lq=h(function(udt,z$){"use strict";function bm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bm=function(r){return typeof r}:bm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bm(t)}function Hze(t){return Kze(t)||Gze(t)||Vze(t)||Wze()}function Wze(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vze(t,e){if(!!t){if(typeof t=="string")return uq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uq(t,e)}}function Gze(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kze(t){if(Array.isArray(t))return uq(t)}function uq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xze(t,e,r){return e&&B$(t.prototype,e),r&&B$(t,r),t}function Jze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sq(t,e)}function sq(t,e){return sq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sq(t,e)}function Qze(t){var e=t$e();return function(){var n=_m(t),i;if(e){var a=_m(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Zze(this,i)}}function Zze(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e$e(t)}function e$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}var et=(te(),re(ne)),L$;L$=Symbol.for("uppy test: disable unused locale key warning");var r$e=function(t,e){Jze(n,t);var r=Qze(n);function n(){var i;return Yze(this,n),i=r.apply(this,arguments),i.triggerFileInputClick=function(){i.fileInput.click()},i.triggerFolderInputClick=function(){i.folderInput.click()},i.onFileInputChange=function(a){i.props.handleInputChange(a),a.target.value=null},i.renderHiddenInput=function(a,o){return(0,et.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:a,type:"file",name:"files[]",multiple:i.props.maxNumberOfFiles!==1,onChange:i.onFileInputChange,accept:i.props.allowedFileTypes,ref:o})},i.renderMyDeviceAcquirer=function(){return(0,et.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,et.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:i.triggerFileInputClick},(0,et.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,et.h)("g",{fill:"none",fillRule:"evenodd"},(0,et.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),(0,et.h)("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),(0,et.h)("div",{className:"uppy-DashboardTab-name"},i.props.i18n("myDevice"))))},i.renderBrowseButton=function(a,o){var u=i.props.acquirers.length;return(0,et.h)("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":u===0},a)},i.renderDropPasteBrowseTagline=function(){var a=i.props.acquirers.length,o=i.renderBrowseButton(i.props.i18n("browseFiles"),i.triggerFileInputClick),u=i.renderBrowseButton(i.props.i18n("browseFolders"),i.triggerFolderInputClick),s=i.props.fileManagerSelectionType,l=s.charAt(0).toUpperCase()+s.slice(1);return(0,et.h)("div",{class:"uppy-Dashboard-AddFiles-title"},i.props.disableLocalFiles?i.props.i18n("importFiles"):a>0?i.props.i18nArray("dropPasteImport".concat(l),{browseFiles:o,browseFolders:u,browse:o}):i.props.i18nArray("dropPaste".concat(l),{browseFiles:o,browseFolders:u,browse:o}))},i.renderAcquirer=function(a){return(0,et.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":a.id},(0,et.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":a.id,"aria-controls":"uppy-DashboardContent-panel--".concat(a.id),"aria-selected":i.props.activePickerPanel.id===a.id,"data-uppy-super-focusable":!0,onClick:function(){return i.props.showPanel(a.id)}},a.icon(),(0,et.h)("div",{className:"uppy-DashboardTab-name"},a.name)))},i.renderAcquirers=function(a,o){var u=Hze(a),s=u.splice(a.length-2,a.length);return(0,et.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&i.renderMyDeviceAcquirer(),u.map(function(l){return i.renderAcquirer(l)}),(0,et.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(l){return i.renderAcquirer(l)})))},i}return Xze(n,[{key:e,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var a=this.props.i18nArray,o=(0,et.h)("span",null,(0,et.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,et.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,et.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),u=a("poweredBy",{uppy:o});return(0,et.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},u)}},{key:"render",value:function(){var a=this;return(0,et.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(o){a.fileInput=o}),this.renderHiddenInput(!0,function(o){a.folderInput=o}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),(0,et.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,et.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),n}(et.Component,L$);z$.exports=r$e});var H$=h(function(sdt,$$){"use strict";var np=(te(),re(ne)),n$e=Tr(),i$e=lq(),a$e=function(e){return(0,np.h)("div",{className:n$e("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},(0,np.h)("div",{className:"uppy-DashboardContent-bar"},(0,np.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),(0,np.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),(0,np.h)(i$e,e))};$$.exports=a$e});var cq=h(function(ldt,W$){"use strict";function o$e(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}W$.exports=o$e});var G$=h(function(cdt,V$){"use strict";var ip=(te(),re(ne)),u$e=Tr(),wm=cq();function s$e(t){var e=t.activePickerPanel,r=t.className,n=t.hideAllPanels,i=t.i18n,a=t.state,o=t.uppy;return(0,ip.h)("div",{className:u$e("uppy-DashboardContent-panel",r),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(e.id),onDragOver:wm,onDragLeave:wm,onDrop:wm,onPaste:wm},(0,ip.h)("div",{className:"uppy-DashboardContent-bar"},(0,ip.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:e.name})),(0,ip.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},i("cancel"))),(0,ip.h)("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(e.id).render(a)))}V$.exports=s$e});var Y$=h(function(fdt,K$){"use strict";var Xo=(te(),re(ne)),l$e=Tr();function c$e(t){var e=t.files[t.fileCardFor];return(0,Xo.h)("div",{className:l$e("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,Xo.h)("div",{className:"uppy-DashboardContent-bar"},(0,Xo.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:(0,Xo.h)("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),(0,Xo.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),(0,Xo.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),(0,Xo.h)("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}K$.exports=c$e});var J$=h(function(pdt,X$){"use strict";var Jn=(te(),re(ne)),Qn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function f$e(t,e,r,n){if(n===void 0&&(n={}),t)return Qn.STATE_ERROR;if(e)return Qn.STATE_COMPLETE;if(r)return Qn.STATE_PAUSED;for(var i=Qn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Qn.STATE_UPLOADING;u.preprocess&&i!==Qn.STATE_UPLOADING&&(i=Qn.STATE_PREPROCESSING),u.postprocess&&i!==Qn.STATE_UPLOADING&&i!==Qn.STATE_PREPROCESSING&&(i=Qn.STATE_POSTPROCESSING)}return i}function p$e(t){var e=t.files,r=t.i18n,n=t.isAllComplete,i=t.isAllErrored,a=t.isAllPaused,o=t.inProgressNotPausedFiles,u=t.newFiles,s=t.processingFiles,l=f$e(i,n,a,e);switch(l){case"uploading":return r("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return r("processingXFiles",{smart_count:s.length});case"paused":return r("uploadPaused");case"waiting":return r("xFilesSelected",{smart_count:u.length});case"complete":return r("uploadComplete");default:}}function d$e(t){var e=t.i18n,r=t.isAllComplete,n=t.hideCancelButton,i=t.maxNumberOfFiles,a=t.toggleAddFilesPanel,o=t.uppy,u=t.allowNewUpload;return u&&i&&(u=t.totalFileCount<t.maxNumberOfFiles),(0,Jn.h)("div",{className:"uppy-DashboardContent-bar"},!r&&!n?(0,Jn.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return o.cancelAll()}},e("cancel")):(0,Jn.h)("div",null),(0,Jn.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,Jn.h)(p$e,t)),u?(0,Jn.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:function(){return a(!0)}},(0,Jn.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,Jn.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,Jn.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):(0,Jn.h)("div",null))}X$.exports=d$e});var nH=h(function(ddt,rH){"use strict";function Sm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sm=function(r){return typeof r}:Sm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sm(t)}function Q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q$(Object(r),!0).forEach(function(n){eH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v$e(t,e,r){return e&&tH(t.prototype,e),r&&tH(t,r),t}function y$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fq(t,e)}function fq(t,e){return fq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fq(t,e)}function m$e(t){var e=_$e();return function(){var n=Om(t),i;if(e){var a=Om(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return g$e(this,i)}}function g$e(t,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b$e(t)}function b$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}var Ft=(te(),re(ne)),w$e=No(),S$e=Tr(),O$e=fm(),Pm=cq(),P$e=JR(),R$e=function(t){y$e(r,t);var e=m$e(r);function r(n){var i;h$e(this,r),i=e.call(this,n),i.form=document.createElement("form"),i.updateMeta=function(s,l){i.setState(function(c){var f=c.formState;return{formState:Z$(Z$({},f),{},eH({},l,s))}})},i.handleSave=function(s){s.preventDefault();var l=i.props.fileCardFor;i.props.saveFileCard(i.state.formState,l)},i.handleCancel=function(){i.props.toggleFileCard(!1)},i.saveOnEnter=function(s){if(s.keyCode===13){s.stopPropagation(),s.preventDefault();var l=i.props.files[i.props.fileCardFor];i.props.saveFileCard(i.state.formState,l.id)}},i.renderMetaFields=function(){var s=i.getMetaFields()||[],l={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(function(c){var f="uppy-Dashboard-FileCard-input-".concat(c.id),p=i.props.requiredMetaFields.includes(c.id);return(0,Ft.h)("fieldset",{key:c.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,Ft.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:f},c.name),c.render!==void 0?c.render({value:i.state.formState[c.id],onChange:function(v){return i.updateMeta(v,c.id)},fieldCSSClasses:l,required:p,form:i.form.id},Ft.h):(0,Ft.h)("input",{className:l.text,id:f,form:i.form.id,type:c.type||"text",required:p,value:i.state.formState[c.id],placeholder:c.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onInput:function(v){return i.updateMeta(v.target.value,c.id)},"data-uppy-super-focusable":!0}))})};var a=i.props.files[i.props.fileCardFor],o=i.getMetaFields()||[],u={};return o.forEach(function(s){u[s.id]=a.meta[s.id]||""}),i.state={formState:u},i.form.id=(0,w$e.nanoid)(),i}return v$e(r,[{key:"componentWillMount",value:function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}},{key:"componentWillUnmount",value:function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}},{key:"getMetaFields",value:function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}},{key:"render",value:function(){var i=this,a=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(a);return(0,Ft.h)("div",{className:S$e("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:Pm,onDragLeave:Pm,onDrop:Pm,onPaste:Pm},(0,Ft.h)("div",{className:"uppy-DashboardContent-bar"},(0,Ft.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:(0,Ft.h)("span",{className:"uppy-DashboardContent-titleFile"},a.meta?a.meta.name:a.name)})),(0,Ft.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),(0,Ft.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,Ft.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:O$e(a.type).color}},(0,Ft.h)(P$e,{file:a}),o&&(0,Ft.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(s){i.handleSave(s),i.props.openFileEditor(a)},form:this.form.id},this.props.i18n("editFile"))),(0,Ft.h)("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),(0,Ft.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,Ft.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),(0,Ft.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}]),r}(Ft.Component);rH.exports=R$e});var uH=h(function(hdt,oH){"use strict";function Rm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rm=function(r){return typeof r}:Rm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rm(t)}function q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E$e(t,e,r){return e&&iH(t.prototype,e),r&&iH(t,r),t}function T$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pq(t,e)}function pq(t,e){return pq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},pq(t,e)}function A$e(t){var e=F$e();return function(){var n=qm(t),i;if(e){var a=qm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return I$e(this,i)}}function I$e(t,e){if(e&&(Rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(t)}function k$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}var dq=(te(),re(ne)),x$e=Tr(),$s="uppy-transition-slideDownUp",aH=250,C$e=function(t){T$e(r,t);var e=A$e(r);function r(n){var i;return q$e(this,r),i=e.call(this,n),i.state={cachedChildren:null,className:""},i}return E$e(r,[{key:"componentWillUpdate",value:function(i){var a=this,o=this.state.cachedChildren,u=(0,dq.toChildArray)(i.children)[0];if(o===u)return null;var s={cachedChildren:u};u&&!o&&(s.className="".concat($s,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat($s,"-enter ").concat($s,"-enter-active")}),a.enterTimeout=setTimeout(function(){a.setState({className:""})},aH)})),o&&!u&&this.leaveTimeout===void 0&&(s.cachedChildren=o,s.className="".concat($s,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat($s,"-leave ").concat($s,"-leave-active")}),a.leaveTimeout=setTimeout(function(){a.setState({cachedChildren:null,className:""})},aH)})),this.setState(s)}},{key:"render",value:function(){var i=this.state,a=i.cachedChildren,o=i.className;return a?(0,dq.cloneElement)(a,{className:x$e(o,a.props.className)}):null}}]),r}(dq.Component);oH.exports=C$e});var fH=h(function(vdt,cH){"use strict";var We=(te(),re(ne));function Ha(){return Ha=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ha.apply(this,arguments)}var D$e=Tr(),U$e=XR(),j$e=N$(),M$e=lq(),N$e=H$(),B$e=G$(),L$e=Y$(),z$e=J$(),$$e=nH(),Em=uH(),sH=900,lH=700,hq=576,H$e=400;function W$e(t){var e=t.totalFileCount===0,r=t.containerWidth>hq,n=D$e({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>hq,"uppy-size--lg":t.containerWidth>lH,"uppy-size--xl":t.containerWidth>sH,"uppy-size--height-md":t.containerHeight>H$e,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible}),i=1;t.containerWidth>sH?i=5:t.containerWidth>lH?i=4:t.containerWidth>hq&&(i=3);var a=t.showSelectedFiles&&!e,o=t.recoveredState?Object.keys(t.recoveredState.files).length:null,u=t.files?Object.keys(t.files).filter(function(c){return t.files[c].isGhost}).length:null,s=function(){return u>0?t.i18n("recoveredXFiles",{smart_count:u}):t.i18n("recoveredAllFiles")},l=(0,We.h)("div",{className:n,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&U$e(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},(0,We.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),(0,We.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:(0,We.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},(0,We.h)("span",{"aria-hidden":"true"},"\xD7")),(0,We.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,We.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),a&&(0,We.h)(z$e,t),o&&(0,We.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,We.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,We.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,We.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,We.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,We.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,We.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),(0,We.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},s())),a?(0,We.h)(j$e,Ha({},t,{itemsPerRow:i})):(0,We.h)(M$e,Ha({},t,{isSizeMD:r})),(0,We.h)(Em,null,t.showAddFilesPanel?(0,We.h)(N$e,Ha({key:"AddFiles"},t,{isSizeMD:r})):null),(0,We.h)(Em,null,t.fileCardFor?(0,We.h)($$e,Ha({key:"FileCard"},t)):null),(0,We.h)(Em,null,t.activePickerPanel?(0,We.h)(B$e,Ha({key:"Picker"},t)):null),(0,We.h)(Em,null,t.showFileEditor?(0,We.h)(L$e,Ha({key:"Editor"},t)):null),(0,We.h)("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(c){return t.uppy.getPlugin(c.id).render(t.state)})))));return l}cH.exports=W$e});var dH=h(function(ydt,pH){"use strict";pH.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}});var RH=h(function(mdt,PH){"use strict";function Tm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tm=function(r){return typeof r}:Tm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tm(t)}function hH(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function V$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){hH(a,n,i,o,u,"next",s)}function u(s){hH(a,n,i,o,u,"throw",s)}o(void 0)})}}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vq(t,e)}function vq(t,e){return vq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vq(t,e)}function Y$e(t){var e=J$e();return function(){var n=Am(t),i;if(e){var a=Am(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return X$e(this,i)}}function X$e(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}function tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}var mH=(te(),re(ne)),Q$e=rt(),Z$e=No(),gH=o7();function Xr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var eHe=0;function Hs(t){return"__private_"+eHe+++"_"+t}var tHe=wR(),rHe=qR(),nHe=VR(),bH=Hz(),yq=On(),iHe=cm(),_H=n$(),aHe=jy(),oHe=l$(),uHe=fH(),sHe={version:"2.2.0"},lHe=dH(),mq=_H.default||_H,wH=9,cHe=27;function SH(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}function fHe(){return(0,mH.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,mH.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var ap=Hs("openFileEditorWhenFilesAdded"),Jo=Hs("attachRenderFunctionToTarget"),gq=Hs("isTargetSupported"),bq=Hs("getAcquirers"),_q=Hs("getProgressIndicators"),Hi=Hs("getEditors"),OH=function(t){K$e(r,t);var e=Y$e(r);function r(n,i){var a;G$e(this,r);var o;a=e.call(this,n,i),o=tt(a),a.removeTarget=function(s){var l=a.getPluginState(),c=l.targets.filter(function(f){return f.id!==s.id});a.setPluginState({targets:c})},a.addTarget=function(s){var l=s.id||s.constructor.name,c=s.title||l,f=s.type;if(f!=="acquirer"&&f!=="progressindicator"&&f!=="editor"){var p="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";a.uppy.log(p,"error");return}var d={id:l,name:c,type:f},v=a.getPluginState(),m=v.targets.slice();return m.push(d),a.setPluginState({targets:m}),a.el},a.hideAllPanels=function(){var s=a.getPluginState(),l={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===l.activePickerPanel&&s.showAddFilesPanel===l.showAddFilesPanel&&s.showFileEditor===l.showFileEditor&&s.activeOverlayType===l.activeOverlayType||a.setPluginState(l)},a.showPanel=function(s){var l=a.getPluginState(),c=l.targets,f=c.filter(function(p){return p.type==="acquirer"&&p.id===s})[0];a.setPluginState({activePickerPanel:f,activeOverlayType:"PickerPanel"})},a.canEditFile=function(s){var l=a.getPluginState(),c=l.targets,f=Xr(tt(a),Hi)[Hi](c);return f.some(function(p){return a.uppy.getPlugin(p.id).canEditFile(s)})},a.openFileEditor=function(s){var l=a.getPluginState(),c=l.targets,f=Xr(tt(a),Hi)[Hi](c);a.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),f.forEach(function(p){a.uppy.getPlugin(p.id).selectFile(s)})},a.saveFileEditor=function(){var s=a.getPluginState(),l=s.targets,c=Xr(tt(a),Hi)[Hi](l);c.forEach(function(f){a.uppy.getPlugin(f.id).save()}),a.hideAllPanels()},a.openModal=function(){var s=SH(),l=s.promise,c=s.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var f=function p(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",p,!1),c()};a.el.addEventListener("animationend",f,!1)}else a.setPluginState({isHidden:!1}),c();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),l},a.closeModal=function(s){s===void 0&&(s={});var l=s,c=l.manualClose,f=c===void 0?!0:c,p=o.getPluginState(),d=p.isHidden,v=p.isClosing;if(!(d||v)){var m=SH(),g=m.promise,w=m.resolve;if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});var _=function T(){o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",T,!1),w()};o.el.addEventListener("animationend",_,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),w();if(document.removeEventListener("keydown",o.handleKeyDownInModal),f&&o.opts.browserBackButtonClose){var O;(O=history.state)!=null&&O[o.modalName]&&history.back()}return o.uppy.emit("dashboard:modal-closed"),g}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(s){var l=a.uppy.getState(),c=l.capabilities;a.uppy.setState({capabilities:Wa(Wa({},c),{},{darkMode:s})})},a.handleSystemDarkModeChange=function(s){var l=s.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),a.setDarkModeCapability(l)},a.toggleFileCard=function(s,l){var c=a.uppy.getFile(l);s?a.uppy.emit("dashboard:file-edit-start",c):a.uppy.emit("dashboard:file-edit-complete",c),a.setPluginState({fileCardFor:s?l:null,activeOverlayType:s?"FileCard":null})},a.toggleAddFilesPanel=function(s){a.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},a.addFiles=function(s){var l=s.map(function(c){return{source:a.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}});try{a.uppy.addFiles(l)}catch(c){a.uppy.log(c)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver(function(s){var l=s[0],c=l.contentRect,f=c.width,p=c.height;a.uppy.log("[Dashboard] resized: ".concat(f," / ").concat(p),"debug"),a.setPluginState({containerWidth:f,containerHeight:p,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var s=a.getPluginState(),l=!a.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!l&&(a.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(s){a.el.contains(s.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableAllFocusableElements=function(s){var l=yq(a.el.querySelectorAll(aHe));s?l.forEach(function(c){var f=c.getAttribute("tabindex");f&&(c.dataset.inertTabindex=f),c.setAttribute("tabindex","-1")}):l.forEach(function(c){"inertTabindex"in c.dataset?c.setAttribute("tabindex",c.dataset.inertTabindex):c.removeAttribute("tabindex")}),a.dashboardIsDisabled=s},a.updateBrowserHistory=function(){var s;(s=history.state)!=null&&s[a.modalName]||history.pushState(Wa(Wa({},history.state),{},yH({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(s){var l;a.isModalOpen()&&(!s.state||!s.state[a.modalName])&&a.closeModal({manualClose:!1}),!a.isModalOpen()&&(l=s.state)!=null&&l[a.modalName]&&history.back()},a.handleKeyDownInModal=function(s){s.keyCode===cHe&&a.requestCloseModal(s),s.keyCode===wH&&gH.forModal(s,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(s){a.uppy.iteratePlugins(function(c){c.type==="acquirer"&&(c.handleRootPaste==null||c.handleRootPaste(s))});var l=yq(s.clipboardData.files);l.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(l))},a.handleInputChange=function(s){s.preventDefault();var l=yq(s.target.files);l.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(l))},a.handleDragOver=function(s){var l,c;s.preventDefault(),s.stopPropagation();var f=function(){var g=!0;return a.uppy.iteratePlugins(function(w){w.canHandleRootDrop!=null&&w.canHandleRootDrop(s)&&(g=!0)}),g},p=function(){var g=s.dataTransfer.types;return g.some(function(w){return w==="Files"})},d=f(s),v=p(s);if(!d&&!v||a.opts.disabled||a.opts.disableLocalFiles&&(v||!d)||!a.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(a.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),(l=(c=a.opts).onDragOver)==null||l.call(c,s)},a.handleDragLeave=function(s){var l,c;s.preventDefault(),s.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(l=(c=a.opts).onDragLeave)==null||l.call(c,s)},a.handleDrop=function(){var s=V$e(regeneratorRuntime.mark(function l(c){var f,p,d,v,m;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return c.preventDefault(),c.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(_){_.type==="acquirer"&&(_.handleRootDrop==null||_.handleRootDrop(c))}),d=!1,v=function(O){a.uppy.log(O,"error"),d||(a.uppy.info(O.message,"error"),d=!0)},w.next=9,iHe(c.dataTransfer,{logDropError:v});case 9:m=w.sent,m.length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(m)),(f=(p=a.opts).onDrop)==null||f.call(p,c);case 12:case"end":return w.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),a.handleRequestThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",s)},a.handleCancelThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",s)},a.handleKeyDownInInline=function(s){s.keyCode===wH&&gH.forInline(s,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(s){var l=a.el.contains(document.activeElement);l&&a.handlePaste(s)},a.handleComplete=function(s){var l=s.failed;a.opts.closeAfterFinish&&l.length===0&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(tt(a),ap,{writable:!0,value:function(l){var c=l[0];a.canEditFile(c)&&a.openFileEditor(c)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var s=bH(a.opts.trigger);s?s.forEach(function(l){return l.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("file-editor:complete",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",Xr(tt(a),ap)[ap])},a.removeEvents=function(){var s=bH(a.opts.trigger);!a.opts.inline&&s&&s.forEach(function(l){return l.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("file-editor:complete",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",Xr(tt(a),ap)[ap])},a.superFocusOnEachUpdate=function(){var s=a.el.contains(document.activeElement),l=document.activeElement===document.body||document.activeElement===null,c=a.uppy.getState().info.length===0,f=!a.opts.inline;c&&(f||s||l&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){if(a.opts.disabled&&!a.dashboardIsDisabled){a.disableAllFocusableElements(!0);return}!a.opts.disabled&&a.dashboardIsDisabled&&a.disableAllFocusableElements(!1),a.superFocusOnEachUpdate()},a.saveFileCard=function(s,l){a.uppy.setFileMeta(l,s),a.toggleFileCard(!1,l)},Object.defineProperty(tt(a),Jo,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return Wa(Wa({},l),{},{icon:c.icon||a.opts.defaultPickerIcon,render:c.render})}}),Object.defineProperty(tt(a),gq,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return typeof c.isSupported!="function"?!0:c.isSupported()}}),Object.defineProperty(tt(a),bq,{writable:!0,value:mq(function(s){return s.filter(function(l){return l.type==="acquirer"&&Xr(tt(a),gq)[gq](l)}).map(Xr(tt(a),Jo)[Jo])})}),Object.defineProperty(tt(a),_q,{writable:!0,value:mq(function(s){return s.filter(function(l){return l.type==="progressindicator"}).map(Xr(tt(a),Jo)[Jo])})}),Object.defineProperty(tt(a),Hi,{writable:!0,value:mq(function(s){return s.filter(function(l){return l.type==="editor"}).map(Xr(tt(a),Jo)[Jo])})}),a.render=function(s){var l=a.getPluginState(),c=s.files,f=s.capabilities,p=s.allowNewUpload,d=a.uppy.getObjectOfFilesPerState(),v=d.newFiles,m=d.uploadStartedFiles,g=d.completeFiles,w=d.erroredFiles,_=d.inProgressFiles,O=d.inProgressNotPausedFiles,T=d.processingFiles,C=d.isUploadStarted,F=d.isAllComplete,$=d.isAllErrored,G=d.isAllPaused,q=Xr(tt(a),bq)[bq](l.targets),j=Xr(tt(a),_q)[_q](l.targets),Q=Xr(tt(a),Hi)[Hi](l.targets),X;return a.opts.theme==="auto"?X=f.darkMode?"dark":"light":X=a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),uHe({state:s,isHidden:l.isHidden,files:c,newFiles:v,uploadStartedFiles:m,completeFiles:g,erroredFiles:w,inProgressFiles:_,inProgressNotPausedFiles:O,processingFiles:T,isUploadStarted:C,isAllComplete:F,isAllErrored:$,isAllPaused:G,totalFileCount:Object.keys(c).length,totalProgress:s.totalProgress,allowNewUpload:p,acquirers:q,theme:X,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:l.activePickerPanel,showFileEditor:l.showFileEditor,saveFileEditor:a.saveFileEditor,disableAllFocusableElements:a.disableAllFocusableElements,animateOpenClose:a.opts.animateOpenClose,isClosing:l.isClosing,progressindicators:j,editors:Q,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:s.recoveredState,metaFields:l.metaFields,resumableUploads:f.resumableUploads||!1,individualCancellation:f.individualCancellation,isMobileDevice:f.isMobileDevice,fileCardFor:l.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:l.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:l.containerWidth,containerHeight:l.containerHeight,areInsidesReadyToBeVisible:l.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:l.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},a.discoverProviderPlugins=function(){a.uppy.iteratePlugins(function(s){s&&!s.target&&s.opts&&s.opts.target===a.constructor&&a.addTarget(s)})},a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var s=a.opts,l=s.inline,c=s.closeAfterFinish;if(l&&c)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var f=a.uppy.opts,p=f.allowMultipleUploads,d=f.allowMultipleUploadBatches;(p||d)&&c&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var v=a.opts.target;v&&a.mount(v,tt(a));var m=a.opts.plugins||[];m.forEach(function(w){var _=a.uppy.getPlugin(w);_&&_.mount(tt(a),_)}),a.opts.disableStatusBar||a.uppy.use(tHe,{id:"".concat(a.id,":StatusBar"),target:tt(a),hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(rHe,{id:"".concat(a.id,":Informer"),target:tt(a)}),a.opts.disableThumbnailGenerator||a.uppy.use(nHe,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var g=a.darkModeMediaQuery?a.darkModeMediaQuery.matches:!1;a.uppy.log("[Dashboard] Dark mode is ".concat(g?"on":"off")),a.setDarkModeCapability(g),a.opts.theme==="auto"&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),a.discoverProviderPlugins(),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var s=a.uppy.getPlugin("".concat(a.id,":Informer"));s&&a.uppy.removePlugin(s)}if(!a.opts.disableStatusBar){var l=a.uppy.getPlugin("".concat(a.id,":StatusBar"));l&&a.uppy.removePlugin(l)}if(!a.opts.disableThumbnailGenerator){var c=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));c&&a.uppy.removePlugin(c)}var f=a.opts.plugins||[];f.forEach(function(p){var d=a.uppy.getPlugin(p);d&&d.unmount()}),a.opts.theme==="auto"&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat((0,Z$e.nanoid)()),a.defaultLocale=lHe;var u={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:fHe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.reset(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=Wa(Wa({},u),i),a.i18nInit(),a.superFocus=oHe(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return r}(Q$e.UIPlugin);OH.VERSION=sHe.version;PH.exports=OH});var EH=h(function(gdt,qH){"use strict";qH.exports=RH()});var AH=h(function(bdt,TH){"use strict";TH.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}});var UH=h(function(_dt,DH){"use strict";function Im(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Im=function(r){return typeof r}:Im=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Im(t)}function IH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IH(Object(r),!0).forEach(function(n){pHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FH(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function dHe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){FH(a,n,i,o,u,"next",s)}function u(s){FH(a,n,i,o,u,"throw",s)}o(void 0)})}}function hHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vHe(t,e,r){return e&&xH(t.prototype,e),r&&xH(t,r),t}function yHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wq(t,e)}function wq(t,e){return wq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wq(t,e)}function mHe(t){var e=bHe();return function(){var n=km(t),i;if(e){var a=km(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gHe(this,i)}}function gHe(t,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}var _He=rt(),Va=(te(),re(ne)),wHe=On(),SHe=XR(),OHe=cm(),PHe={version:"2.1.0"},RHe=AH(),CH=function(t){yHe(r,t);var e=mHe(r);function r(n,i){var a;hHe(this,r),a=e.call(this,n,i),a.handleDrop=function(){var u=dHe(regeneratorRuntime.mark(function s(l){var c,f,p,d;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),p=function(w){a.uppy.log(w,"error")},m.next=7,OHe(l.dataTransfer,{logDropError:p});case 7:d=m.sent,d.length>0&&(a.uppy.log("[DragDrop] Files dropped"),a.addFiles(d)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 10:case"end":return m.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.type="acquirer",a.id=a.opts.id||"DragDrop",a.title="Drag & Drop",a.defaultLocale=RHe;var o={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return a.opts=kH(kH({},o),i),a.i18nInit(),a.isDragDropSupported=SHe(),a.removeDragOverClassTimeout=null,a.onInputChange=a.onInputChange.bind(Qo(a)),a.handleDragOver=a.handleDragOver.bind(Qo(a)),a.handleDragLeave=a.handleDragLeave.bind(Qo(a)),a.handleDrop=a.handleDrop.bind(Qo(a)),a.addFiles=a.addFiles.bind(Qo(a)),a.render=a.render.bind(Qo(a)),a}return vHe(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u,meta:{relativePath:u.relativePath||null}}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"onInputChange",value:function(i){var a=wHe(i.target.files);a.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(a)),i.target.value=null}},{key:"handleDragOver",value:function(i){var a,o;i.preventDefault(),i.stopPropagation();var u=i.dataTransfer.types,s=u.some(function(f){return f==="Files"}),l=this.uppy.getState(),c=l.allowNewUpload;if(!s||!c){i.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}i.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(a=(o=this.opts).onDragOver)==null||a.call(o,i)}},{key:"handleDragLeave",value:function(i){var a=this,o,u;i.preventDefault(),i.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(o=(u=this.opts).onDragLeave)==null||o.call(u,i)}},{key:"renderHiddenFileInput",value:function(){var i=this,a=this.uppy.opts.restrictions;return(0,Va.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(u){i.fileInputRef=u},name:this.opts.inputName,multiple:a.maxNumberOfFiles!==1,accept:a.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,Va.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,Va.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,Va.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var i=this,a="uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),o={width:this.opts.width,height:this.opts.height};return(0,Va.h)("button",{type:"button",className:a,style:o,onClick:function(){return i.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,Va.h)("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var i=this.opts.target;this.setPluginState({isDraggingOver:!1}),i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,Va.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Va.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),r}(_He.UIPlugin);CH.VERSION=PHe.version;DH.exports=CH});var MH=h(function(wdt,jH){"use strict";jH.exports=UH()});var WH=h(function(Sdt,HH){"use strict";function Fm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fm=function(r){return typeof r}:Fm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fm(t)}function NH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(r),!0).forEach(function(n){qHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LH(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function EHe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){LH(a,n,i,o,u,"next",s)}function u(s){LH(a,n,i,o,u,"throw",s)}o(void 0)})}}function THe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function AHe(t,e,r){return e&&zH(t.prototype,e),r&&zH(t,r),t}function IHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sq(t,e)}function Sq(t,e){return Sq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Sq(t,e)}function kHe(t){var e=CHe();return function(){var n=xm(t),i;if(e){var a=xm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FHe(this,i)}}function FHe(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xHe(t)}function xHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}var DHe=Kr(),UHe=cm(),jHe=On(),MHe={version:"1.1.3"};function NHe(t){var e,r;return(e=(r=t.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?e:!1}var $H=function(t){IHe(r,t);var e=kHe(r);function r(n,i){var a;THe(this,r),a=e.call(this,n,i),a.addFiles=function(u){var s=u.map(function(l){return{source:a.id,name:l.name,type:l.type,data:l,meta:{relativePath:l.relativePath||null}}});try{a.uppy.addFiles(s)}catch(l){a.uppy.log(l)}},a.isFileTransfer=NHe,a.handleDrop=function(){var u=EHe(regeneratorRuntime.mark(function s(l){var c,f,p,d,v;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(a.isFileTransfer(l)){g.next=2;break}return g.abrupt("return");case 2:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),l.currentTarget.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(w){w.type==="acquirer"&&(w.handleRootDrop==null||w.handleRootDrop(l))}),p=!1,d=function(_){a.uppy.log(_,"error"),p||(a.uppy.info(_.message,"error"),p=!0)},g.next=12,UHe(l.dataTransfer,{logDropError:d});case 12:v=g.sent,v.length>0&&(a.uppy.log("[DropTarget] Files were dropped"),a.addFiles(v)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 15:case"end":return g.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.handleDragOver=function(u){var s,l;!a.isFileTransfer(u)||(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),u.currentTarget.classList.add("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!0}),(s=(l=a.opts).onDragOver)==null||s.call(l,u))},a.handleDragLeave=function(u){var s,l;if(!!a.isFileTransfer(u)){u.preventDefault(),u.stopPropagation();var c=u.currentTarget;clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){c.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1})},50),(s=(l=a.opts).onDragLeave)==null||s.call(l,u)}},a.addListeners=function(){var u=a.opts.target;if(u instanceof Element?a.nodes=[u]:typeof u=="string"&&(a.nodes=jHe(document.querySelectorAll(u))),!a.nodes&&!a.nodes.length>0)throw new Error('"'.concat(u,'" does not match any HTML elements'));a.nodes.forEach(function(s){s.addEventListener("dragover",a.handleDragOver,!1),s.addEventListener("dragleave",a.handleDragLeave,!1),s.addEventListener("drop",a.handleDrop,!1)})},a.removeListeners=function(){a.nodes&&a.nodes.forEach(function(u){u.removeEventListener("dragover",a.handleDragOver,!1),u.removeEventListener("dragleave",a.handleDragLeave,!1),u.removeEventListener("drop",a.handleDrop,!1)})},a.type="acquirer",a.id=a.opts.id||"DropTarget",a.title="Drop Target";var o={target:null};return a.opts=BH(BH({},o),i),a.removeDragOverClassTimeout=null,a}return AHe(r,[{key:"install",value:function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}},{key:"uninstall",value:function(){this.removeListeners()}}]),r}(DHe);$H.VERSION=MHe.version;HH.exports=$H});var GH=h(function(Odt,VH){"use strict";VH.exports={strings:{chooseFiles:"Choose files"}}});var ZH=h(function(Pdt,QH){"use strict";function Cm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cm=function(r){return typeof r}:Cm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cm(t)}function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){BHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zHe(t,e,r){return e&&XH(t.prototype,e),r&&XH(t,r),t}function $He(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oq(t,e)}function Oq(t,e){return Oq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Oq(t,e)}function HHe(t){var e=VHe();return function(){var n=Um(t),i;if(e){var a=Um(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WHe(this,i)}}function WHe(t,e){if(e&&(Cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dm(t)}function Dm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}var GHe=rt(),Pq=(te(),re(ne)),KHe=On(),YHe={version:"2.1.0"},XHe=GH(),JH=function(t){$He(r,t);var e=HHe(r);function r(n,i){var a;LHe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"FileInput",a.title="File Input",a.type="acquirer",a.defaultLocale=XHe;var o={target:null,pretty:!0,inputName:"files[]"};return a.opts=YH(YH({},o),i),a.i18nInit(),a.render=a.render.bind(Dm(a)),a.handleInputChange=a.handleInputChange.bind(Dm(a)),a.handleClick=a.handleClick.bind(Dm(a)),a}return zHe(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"handleInputChange",value:function(i){this.uppy.log("[FileInput] Something selected through input...");var a=KHe(i.target.files);this.addFiles(a),i.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var i=this,a={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=this.uppy.opts.restrictions,u=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return(0,Pq.h)("div",{className:"uppy-FileInput-container"},(0,Pq.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&a,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:u,ref:function(l){i.input=l}}),this.opts.pretty&&(0,Pq.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(GHe.UIPlugin);JH.VERSION=YHe.version;QH.exports=JH});var tW=h(function(Rdt,eW){"use strict";eW.exports=ZH()});var sW=h(function(qdt,uW){"use strict";function jm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jm=function(r){return typeof r}:jm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jm(t)}function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){JHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JHe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ZHe(t,e,r){return e&&iW(t.prototype,e),r&&iW(t,r),t}function eWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rq(t,e)}function Rq(t,e){return Rq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Rq(t,e)}function tWe(t){var e=nWe();return function(){var n=Mm(t),i;if(e){var a=Mm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rWe(this,i)}}function rWe(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}var qq=(te(),re(ne)),iWe=rt(),aWe={version:"2.1.0"},oW=function(t){eWe(r,t);var e=tWe(r);function r(n,i){var a;QHe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"ProgressBar",a.title="Progress Bar",a.type="progressindicator";var o={target:"body",fixed:!1,hideAfterFinish:!0};return a.opts=nW(nW({},o),i),a.render=a.render.bind(aW(a)),a}return ZHe(r,[{key:"render",value:function(i){var a=i.totalProgress||0,o=(a===0||a===100)&&this.opts.hideAfterFinish;return(0,qq.h)("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":o},(0,qq.h)("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(a,"%")}}),(0,qq.h)("div",{className:"uppy-ProgressBar-percentage"},a))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(iWe.UIPlugin);oW.VERSION=aWe.version;uW.exports=oW});var cW=h(function(Edt,lW){"use strict";lW.exports=sW()});var fW=h(function(Bm,Eq){function Nm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nm=function(r){return typeof r}:Nm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nm(t)}(function(t,e){(typeof Bm=="undefined"?"undefined":Nm(Bm))==="object"&&typeof Eq!="undefined"?Eq.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(Bm,function(){"use strict";function t(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(S){return typeof S}:t=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},t(R)}function e(R,y){if(!(R instanceof y))throw new TypeError("Cannot call a class as a function")}function r(R,y){for(var S=0;S<y.length;S++){var b=y[S];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(R,b.key,b)}}function n(R,y,S){return y&&r(R.prototype,y),S&&r(R,S),R}function i(R,y,S){return y in R?Object.defineProperty(R,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):R[y]=S,R}function a(R,y){var S=Object.keys(R);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(R);y&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(R,k).enumerable})),S.push.apply(S,b)}return S}function o(R){for(var y=1;y<arguments.length;y++){var S=arguments[y]!=null?arguments[y]:{};y%2?a(Object(S),!0).forEach(function(b){i(R,b,S[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(S)):a(Object(S)).forEach(function(b){Object.defineProperty(R,b,Object.getOwnPropertyDescriptor(S,b))})}return R}function u(R){return s(R)||l(R)||c(R)||p()}function s(R){if(Array.isArray(R))return f(R)}function l(R){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(R))return Array.from(R)}function c(R,y){if(!!R){if(typeof R=="string")return f(R,y);var S=Object.prototype.toString.call(R).slice(8,-1);if(S==="Object"&&R.constructor&&(S=R.constructor.name),S==="Map"||S==="Set")return Array.from(R);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return f(R,y)}}function f(R,y){(y==null||y>R.length)&&(y=R.length);for(var S=0,b=new Array(y);S<y;S++)b[S]=R[S];return b}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=typeof window!="undefined"&&typeof window.document!="undefined",v=d?window:{},m=d&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,g=d?"PointerEvent"in v:!1,w="cropper",_="all",O="crop",T="move",C="zoom",F="e",$="w",G="s",q="n",j="ne",Q="nw",X="se",A="sw",I="".concat(w,"-crop"),L="".concat(w,"-disabled"),D="".concat(w,"-hidden"),U="".concat(w,"-hide"),B="".concat(w,"-invisible"),ee="".concat(w,"-modal"),ce="".concat(w,"-move"),ue="".concat(w,"Action"),Ue="".concat(w,"Preview"),$e="crop",st="move",lt="none",Wt="crop",Pt="cropend",Vt="cropmove",Tu="cropstart",Il="dblclick",fd=m?"touchstart":"mousedown",LA=m?"touchmove":"mousemove",m0=m?"touchend touchcancel":"mouseup",zA=g?"pointerdown":fd,$A=g?"pointermove":LA,HA=g?"pointerup pointercancel":m0,WA="ready",VA="resize",GA="wheel",g0="zoom",KA="image/jpeg",See=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Oee=/^data:/,Pee=/^data:image\/jpeg;base64,/,Ree=/^img|canvas$/i,YA={viewMode:0,dragMode:$e,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},qee='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Eee=Number.isNaN||v.isNaN;function Pe(R){return typeof R=="number"&&!Eee(R)}var XA=function(y){return y>0&&y<1/0};function b0(R){return typeof R=="undefined"}function no(R){return t(R)==="object"&&R!==null}var Tee=Object.prototype.hasOwnProperty;function Au(R){if(!no(R))return!1;try{var y=R.constructor,S=y.prototype;return y&&S&&Tee.call(S,"isPrototypeOf")}catch(b){return!1}}function cr(R){return typeof R=="function"}var Aee=Array.prototype.slice;function JA(R){return Array.from?Array.from(R):Aee.call(R)}function pt(R,y){return R&&cr(y)&&(Array.isArray(R)||Pe(R.length)?JA(R).forEach(function(S,b){y.call(R,S,b,R)}):no(R)&&Object.keys(R).forEach(function(S){y.call(R,R[S],S,R)})),R}var Qe=Object.assign||function(y){for(var S=arguments.length,b=new Array(S>1?S-1:0),k=1;k<S;k++)b[k-1]=arguments[k];return no(y)&&b.length>0&&b.forEach(function(E){no(E)&&Object.keys(E).forEach(function(x){y[x]=E[x]})}),y},Iee=/\.\d*(?:0|9){12}\d*$/;function Iu(R){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Iee.test(R)?Math.round(R*y)/y:R}var kee=/^width|height|left|top|marginLeft|marginTop$/;function ua(R,y){var S=R.style;pt(y,function(b,k){kee.test(k)&&Pe(b)&&(b="".concat(b,"px")),S[k]=b})}function Fee(R,y){return R.classList?R.classList.contains(y):R.className.indexOf(y)>-1}function Rt(R,y){if(!!y){if(Pe(R.length)){pt(R,function(b){Rt(b,y)});return}if(R.classList){R.classList.add(y);return}var S=R.className.trim();S?S.indexOf(y)<0&&(R.className="".concat(S," ").concat(y)):R.className=y}}function Un(R,y){if(!!y){if(Pe(R.length)){pt(R,function(S){Un(S,y)});return}if(R.classList){R.classList.remove(y);return}R.className.indexOf(y)>=0&&(R.className=R.className.replace(y,""))}}function ku(R,y,S){if(!!y){if(Pe(R.length)){pt(R,function(b){ku(b,y,S)});return}S?Rt(R,y):Un(R,y)}}var xee=/([a-z\d])([A-Z])/g;function _0(R){return R.replace(xee,"$1-$2").toLowerCase()}function w0(R,y){return no(R[y])?R[y]:R.dataset?R.dataset[y]:R.getAttribute("data-".concat(_0(y)))}function kl(R,y,S){no(S)?R[y]=S:R.dataset?R.dataset[y]=S:R.setAttribute("data-".concat(_0(y)),S)}function Cee(R,y){if(no(R[y]))try{delete R[y]}catch(S){R[y]=void 0}else if(R.dataset)try{delete R.dataset[y]}catch(S){R.dataset[y]=void 0}else R.removeAttribute("data-".concat(_0(y)))}var QA=/\s\s*/,ZA=function(){var R=!1;if(d){var y=!1,S=function(){},b=Object.defineProperty({},"once",{get:function(){return R=!0,y},set:function(E){y=E}});v.addEventListener("test",S,b),v.removeEventListener("test",S,b)}return R}();function un(R,y,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=S;y.trim().split(QA).forEach(function(E){if(!ZA){var x=R.listeners;x&&x[E]&&x[E][S]&&(k=x[E][S],delete x[E][S],Object.keys(x[E]).length===0&&delete x[E],Object.keys(x).length===0&&delete R.listeners)}R.removeEventListener(E,k,b)})}function jr(R,y,S){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=S;y.trim().split(QA).forEach(function(E){if(b.once&&!ZA){var x=R.listeners,M=x===void 0?{}:x;k=function(){delete M[E][S],R.removeEventListener(E,k,b);for(var W=arguments.length,H=new Array(W),N=0;N<W;N++)H[N]=arguments[N];S.apply(R,H)},M[E]||(M[E]={}),M[E][S]&&R.removeEventListener(E,M[E][S],b),M[E][S]=k,R.listeners=M}R.addEventListener(E,k,b)})}function Fu(R,y,S){var b;return cr(Event)&&cr(CustomEvent)?b=new CustomEvent(y,{detail:S,bubbles:!0,cancelable:!0}):(b=document.createEvent("CustomEvent"),b.initCustomEvent(y,!0,!0,S)),R.dispatchEvent(b)}function eI(R){var y=R.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var S0=v.location,Dee=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function tI(R){var y=R.match(Dee);return y!==null&&(y[1]!==S0.protocol||y[2]!==S0.hostname||y[3]!==S0.port)}function rI(R){var y="timestamp=".concat(new Date().getTime());return R+(R.indexOf("?")===-1?"?":"&")+y}function Fl(R){var y=R.rotate,S=R.scaleX,b=R.scaleY,k=R.translateX,E=R.translateY,x=[];Pe(k)&&k!==0&&x.push("translateX(".concat(k,"px)")),Pe(E)&&E!==0&&x.push("translateY(".concat(E,"px)")),Pe(y)&&y!==0&&x.push("rotate(".concat(y,"deg)")),Pe(S)&&S!==1&&x.push("scaleX(".concat(S,")")),Pe(b)&&b!==1&&x.push("scaleY(".concat(b,")"));var M=x.length?x.join(" "):"none";return{WebkitTransform:M,msTransform:M,transform:M}}function Uee(R){var y=o({},R),S=[];return pt(R,function(b,k){delete y[k],pt(y,function(E){var x=Math.abs(b.startX-E.startX),M=Math.abs(b.startY-E.startY),Y=Math.abs(b.endX-E.endX),W=Math.abs(b.endY-E.endY),H=Math.sqrt(x*x+M*M),N=Math.sqrt(Y*Y+W*W),K=(N-H)/H;S.push(K)})}),S.sort(function(b,k){return Math.abs(b)<Math.abs(k)}),S[0]}function pd(R,y){var S=R.pageX,b=R.pageY,k={endX:S,endY:b};return y?k:o({startX:S,startY:b},k)}function jee(R){var y=0,S=0,b=0;return pt(R,function(k){var E=k.startX,x=k.startY;y+=E,S+=x,b+=1}),y/=b,S/=b,{pageX:y,pageY:S}}function sa(R){var y=R.aspectRatio,S=R.height,b=R.width,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",E=XA(b),x=XA(S);if(E&&x){var M=S*y;k==="contain"&&M>b||k==="cover"&&M<b?S=b/y:b=S*y}else E?S=b/y:x&&(b=S*y);return{width:b,height:S}}function Mee(R){var y=R.width,S=R.height,b=R.degree;if(b=Math.abs(b)%180,b===90)return{width:S,height:y};var k=b%90*Math.PI/180,E=Math.sin(k),x=Math.cos(k),M=y*x+S*E,Y=y*E+S*x;return b>90?{width:Y,height:M}:{width:M,height:Y}}function Nee(R,y,S,b){var k=y.aspectRatio,E=y.naturalWidth,x=y.naturalHeight,M=y.rotate,Y=M===void 0?0:M,W=y.scaleX,H=W===void 0?1:W,N=y.scaleY,K=N===void 0?1:N,ke=S.aspectRatio,qe=S.naturalWidth,Ze=S.naturalHeight,je=b.fillColor,bt=je===void 0?"transparent":je,qt=b.imageSmoothingEnabled,dt=qt===void 0?!0:qt,ui=b.imageSmoothingQuality,Sr=ui===void 0?"low":ui,Z=b.maxWidth,Me=Z===void 0?1/0:Z,_t=b.maxHeight,Mr=_t===void 0?1/0:_t,si=b.minWidth,io=si===void 0?0:si,ao=b.minHeight,la=ao===void 0?0:ao,jn=document.createElement("canvas"),fr=jn.getContext("2d"),oo=sa({aspectRatio:ke,width:Me,height:Mr}),dd=sa({aspectRatio:ke,width:io,height:la},"cover"),O0=Math.min(oo.width,Math.max(dd.width,qe)),P0=Math.min(oo.height,Math.max(dd.height,Ze)),aI=sa({aspectRatio:k,width:Me,height:Mr}),oI=sa({aspectRatio:k,width:io,height:la},"cover"),uI=Math.min(aI.width,Math.max(oI.width,E)),sI=Math.min(aI.height,Math.max(oI.height,x)),Zee=[-uI/2,-sI/2,uI,sI];return jn.width=Iu(O0),jn.height=Iu(P0),fr.fillStyle=bt,fr.fillRect(0,0,O0,P0),fr.save(),fr.translate(O0/2,P0/2),fr.rotate(Y*Math.PI/180),fr.scale(H,K),fr.imageSmoothingEnabled=dt,fr.imageSmoothingQuality=Sr,fr.drawImage.apply(fr,[R].concat(u(Zee.map(function(ete){return Math.floor(Iu(ete))})))),fr.restore(),jn}var nI=String.fromCharCode;function Bee(R,y,S){var b="";S+=y;for(var k=y;k<S;k+=1)b+=nI(R.getUint8(k));return b}var Lee=/^data:.*,/;function zee(R){var y=R.replace(Lee,""),S=atob(y),b=new ArrayBuffer(S.length),k=new Uint8Array(b);return pt(k,function(E,x){k[x]=S.charCodeAt(x)}),b}function $ee(R,y){for(var S=[],b=8192,k=new Uint8Array(R);k.length>0;)S.push(nI.apply(null,JA(k.subarray(0,b)))),k=k.subarray(b);return"data:".concat(y,";base64,").concat(btoa(S.join("")))}function Hee(R){var y=new DataView(R),S;try{var b,k,E;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var x=y.byteLength,M=2;M+1<x;){if(y.getUint8(M)===255&&y.getUint8(M+1)===225){k=M;break}M+=1}if(k){var Y=k+4,W=k+10;if(Bee(y,Y,4)==="Exif"){var H=y.getUint16(W);if(b=H===18761,(b||H===19789)&&y.getUint16(W+2,b)===42){var N=y.getUint32(W+4,b);N>=8&&(E=W+N)}}}if(E){var K=y.getUint16(E,b),ke,qe;for(qe=0;qe<K;qe+=1)if(ke=E+qe*12+2,y.getUint16(ke,b)===274){ke+=8,S=y.getUint16(ke,b),y.setUint16(ke,1,b);break}}}catch(Ze){S=1}return S}function Wee(R){var y=0,S=1,b=1;switch(R){case 2:S=-1;break;case 3:y=-180;break;case 4:b=-1;break;case 5:y=90,b=-1;break;case 6:y=90;break;case 7:y=90,S=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:S,scaleY:b}}var Vee={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,S=this.options,b=this.container,k=this.cropper;Rt(k,D),Un(y,D);var E={width:Math.max(b.offsetWidth,Number(S.minContainerWidth)||200),height:Math.max(b.offsetHeight,Number(S.minContainerHeight)||100)};this.containerData=E,ua(k,{width:E.width,height:E.height}),Rt(y,D),Un(k,D)},initCanvas:function(){var y=this.containerData,S=this.imageData,b=this.options.viewMode,k=Math.abs(S.rotate)%180==90,E=k?S.naturalHeight:S.naturalWidth,x=k?S.naturalWidth:S.naturalHeight,M=E/x,Y=y.width,W=y.height;y.height*M>y.width?b===3?Y=y.height*M:W=y.width/M:b===3?W=y.width/M:Y=y.height*M;var H={aspectRatio:M,naturalWidth:E,naturalHeight:x,width:Y,height:W};H.left=(y.width-Y)/2,H.top=(y.height-W)/2,H.oldLeft=H.left,H.oldTop=H.top,this.canvasData=H,this.limited=b===1||b===2,this.limitCanvas(!0,!0),this.initialImageData=Qe({},S),this.initialCanvasData=Qe({},H)},limitCanvas:function(y,S){var b=this.options,k=this.containerData,E=this.canvasData,x=this.cropBoxData,M=b.viewMode,Y=E.aspectRatio,W=this.cropped&&x;if(y){var H=Number(b.minCanvasWidth)||0,N=Number(b.minCanvasHeight)||0;M>1?(H=Math.max(H,k.width),N=Math.max(N,k.height),M===3&&(N*Y>H?H=N*Y:N=H/Y)):M>0&&(H?H=Math.max(H,W?x.width:0):N?N=Math.max(N,W?x.height:0):W&&(H=x.width,N=x.height,N*Y>H?H=N*Y:N=H/Y));var K=sa({aspectRatio:Y,width:H,height:N});H=K.width,N=K.height,E.minWidth=H,E.minHeight=N,E.maxWidth=1/0,E.maxHeight=1/0}if(S)if(M>(W?0:1)){var ke=k.width-E.width,qe=k.height-E.height;E.minLeft=Math.min(0,ke),E.minTop=Math.min(0,qe),E.maxLeft=Math.max(0,ke),E.maxTop=Math.max(0,qe),W&&this.limited&&(E.minLeft=Math.min(x.left,x.left+(x.width-E.width)),E.minTop=Math.min(x.top,x.top+(x.height-E.height)),E.maxLeft=x.left,E.maxTop=x.top,M===2&&(E.width>=k.width&&(E.minLeft=Math.min(0,ke),E.maxLeft=Math.max(0,ke)),E.height>=k.height&&(E.minTop=Math.min(0,qe),E.maxTop=Math.max(0,qe))))}else E.minLeft=-E.width,E.minTop=-E.height,E.maxLeft=k.width,E.maxTop=k.height},renderCanvas:function(y,S){var b=this.canvasData,k=this.imageData;if(S){var E=Mee({width:k.naturalWidth*Math.abs(k.scaleX||1),height:k.naturalHeight*Math.abs(k.scaleY||1),degree:k.rotate||0}),x=E.width,M=E.height,Y=b.width*(x/b.naturalWidth),W=b.height*(M/b.naturalHeight);b.left-=(Y-b.width)/2,b.top-=(W-b.height)/2,b.width=Y,b.height=W,b.aspectRatio=x/M,b.naturalWidth=x,b.naturalHeight=M,this.limitCanvas(!0,!1)}(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCanvas(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,ua(this.canvas,Qe({width:b.width,height:b.height},Fl({translateX:b.left,translateY:b.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var S=this.canvasData,b=this.imageData,k=b.naturalWidth*(S.width/S.naturalWidth),E=b.naturalHeight*(S.height/S.naturalHeight);Qe(b,{width:k,height:E,left:(S.width-k)/2,top:(S.height-E)/2}),ua(this.image,Qe({width:b.width,height:b.height},Fl(Qe({translateX:b.left,translateY:b.top},b)))),y&&this.output()},initCropBox:function(){var y=this.options,S=this.canvasData,b=y.aspectRatio||y.initialAspectRatio,k=Number(y.autoCropArea)||.8,E={width:S.width,height:S.height};b&&(S.height*b>S.width?E.height=E.width/b:E.width=E.height*b),this.cropBoxData=E,this.limitCropBox(!0,!0),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),E.width=Math.max(E.minWidth,E.width*k),E.height=Math.max(E.minHeight,E.height*k),E.left=S.left+(S.width-E.width)/2,E.top=S.top+(S.height-E.height)/2,E.oldLeft=E.left,E.oldTop=E.top,this.initialCropBoxData=Qe({},E)},limitCropBox:function(y,S){var b=this.options,k=this.containerData,E=this.canvasData,x=this.cropBoxData,M=this.limited,Y=b.aspectRatio;if(y){var W=Number(b.minCropBoxWidth)||0,H=Number(b.minCropBoxHeight)||0,N=M?Math.min(k.width,E.width,E.width+E.left,k.width-E.left):k.width,K=M?Math.min(k.height,E.height,E.height+E.top,k.height-E.top):k.height;W=Math.min(W,k.width),H=Math.min(H,k.height),Y&&(W&&H?H*Y>W?H=W/Y:W=H*Y:W?H=W/Y:H&&(W=H*Y),K*Y>N?K=N/Y:N=K*Y),x.minWidth=Math.min(W,N),x.minHeight=Math.min(H,K),x.maxWidth=N,x.maxHeight=K}S&&(M?(x.minLeft=Math.max(0,E.left),x.minTop=Math.max(0,E.top),x.maxLeft=Math.min(k.width,E.left+E.width)-x.width,x.maxTop=Math.min(k.height,E.top+E.height)-x.height):(x.minLeft=0,x.minTop=0,x.maxLeft=k.width-x.width,x.maxTop=k.height-x.height))},renderCropBox:function(){var y=this.options,S=this.containerData,b=this.cropBoxData;(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCropBox(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,y.movable&&y.cropBoxMovable&&kl(this.face,ue,b.width>=S.width&&b.height>=S.height?T:_),ua(this.cropBox,Qe({width:b.width,height:b.height},Fl({translateX:b.left,translateY:b.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Fu(this.element,Wt,this.getData())}},Gee={initPreview:function(){var y=this.element,S=this.crossOrigin,b=this.options.preview,k=S?this.crossOriginUrl:this.url,E=y.alt||"The image to preview",x=document.createElement("img");if(S&&(x.crossOrigin=S),x.src=k,x.alt=E,this.viewBox.appendChild(x),this.viewBoxImage=x,!!b){var M=b;typeof b=="string"?M=y.ownerDocument.querySelectorAll(b):b.querySelector&&(M=[b]),this.previews=M,pt(M,function(Y){var W=document.createElement("img");kl(Y,Ue,{width:Y.offsetWidth,height:Y.offsetHeight,html:Y.innerHTML}),S&&(W.crossOrigin=S),W.src=k,W.alt=E,W.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Y.innerHTML="",Y.appendChild(W)})}},resetPreview:function(){pt(this.previews,function(y){var S=w0(y,Ue);ua(y,{width:S.width,height:S.height}),y.innerHTML=S.html,Cee(y,Ue)})},preview:function(){var y=this.imageData,S=this.canvasData,b=this.cropBoxData,k=b.width,E=b.height,x=y.width,M=y.height,Y=b.left-S.left-y.left,W=b.top-S.top-y.top;!this.cropped||this.disabled||(ua(this.viewBoxImage,Qe({width:x,height:M},Fl(Qe({translateX:-Y,translateY:-W},y)))),pt(this.previews,function(H){var N=w0(H,Ue),K=N.width,ke=N.height,qe=K,Ze=ke,je=1;k&&(je=K/k,Ze=E*je),E&&Ze>ke&&(je=ke/E,qe=k*je,Ze=ke),ua(H,{width:qe,height:Ze}),ua(H.getElementsByTagName("img")[0],Qe({width:x*je,height:M*je},Fl(Qe({translateX:-Y*je,translateY:-W*je},y))))}))}},Kee={bind:function(){var y=this.element,S=this.options,b=this.cropper;cr(S.cropstart)&&jr(y,Tu,S.cropstart),cr(S.cropmove)&&jr(y,Vt,S.cropmove),cr(S.cropend)&&jr(y,Pt,S.cropend),cr(S.crop)&&jr(y,Wt,S.crop),cr(S.zoom)&&jr(y,g0,S.zoom),jr(b,zA,this.onCropStart=this.cropStart.bind(this)),S.zoomable&&S.zoomOnWheel&&jr(b,GA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&jr(b,Il,this.onDblclick=this.dblclick.bind(this)),jr(y.ownerDocument,$A,this.onCropMove=this.cropMove.bind(this)),jr(y.ownerDocument,HA,this.onCropEnd=this.cropEnd.bind(this)),S.responsive&&jr(window,VA,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,S=this.options,b=this.cropper;cr(S.cropstart)&&un(y,Tu,S.cropstart),cr(S.cropmove)&&un(y,Vt,S.cropmove),cr(S.cropend)&&un(y,Pt,S.cropend),cr(S.crop)&&un(y,Wt,S.crop),cr(S.zoom)&&un(y,g0,S.zoom),un(b,zA,this.onCropStart),S.zoomable&&S.zoomOnWheel&&un(b,GA,this.onWheel,{passive:!1,capture:!0}),S.toggleDragModeOnDblclick&&un(b,Il,this.onDblclick),un(y.ownerDocument,$A,this.onCropMove),un(y.ownerDocument,HA,this.onCropEnd),S.responsive&&un(window,VA,this.onResize)}},Yee={resize:function(){if(!this.disabled){var y=this.options,S=this.container,b=this.containerData,k=S.offsetWidth/b.width;if(k!==1||S.offsetHeight!==b.height){var E,x;y.restore&&(E=this.getCanvasData(),x=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(pt(E,function(M,Y){E[Y]=M*k})),this.setCropBoxData(pt(x,function(M,Y){x[Y]=M*k})))}}},dblclick:function(){this.disabled||this.options.dragMode===lt||this.setDragMode(Fee(this.dragBox,I)?st:$e)},wheel:function(y){var S=this,b=Number(this.options.wheelZoomRatio)||.1,k=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){S.wheeling=!1},50),y.deltaY?k=y.deltaY>0?1:-1:y.wheelDelta?k=-y.wheelDelta/120:y.detail&&(k=y.detail>0?1:-1),this.zoom(-k*b,y)))},cropStart:function(y){var S=y.buttons,b=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Pe(S)&&S!==1||Pe(b)&&b!==0||y.ctrlKey))){var k=this.options,E=this.pointers,x;y.changedTouches?pt(y.changedTouches,function(M){E[M.identifier]=pd(M)}):E[y.pointerId||0]=pd(y),Object.keys(E).length>1&&k.zoomable&&k.zoomOnTouch?x=C:x=w0(y.target,ue),!!See.test(x)&&Fu(this.element,Tu,{originalEvent:y,action:x})!==!1&&(y.preventDefault(),this.action=x,this.cropping=!1,x===O&&(this.cropping=!0,Rt(this.dragBox,ee)))}},cropMove:function(y){var S=this.action;if(!(this.disabled||!S)){var b=this.pointers;y.preventDefault(),Fu(this.element,Vt,{originalEvent:y,action:S})!==!1&&(y.changedTouches?pt(y.changedTouches,function(k){Qe(b[k.identifier]||{},pd(k,!0))}):Qe(b[y.pointerId||0]||{},pd(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var S=this.action,b=this.pointers;y.changedTouches?pt(y.changedTouches,function(k){delete b[k.identifier]}):delete b[y.pointerId||0],!!S&&(y.preventDefault(),Object.keys(b).length||(this.action=""),this.cropping&&(this.cropping=!1,ku(this.dragBox,ee,this.cropped&&this.options.modal)),Fu(this.element,Pt,{originalEvent:y,action:S}))}}},Xee={change:function(y){var S=this.options,b=this.canvasData,k=this.containerData,E=this.cropBoxData,x=this.pointers,M=this.action,Y=S.aspectRatio,W=E.left,H=E.top,N=E.width,K=E.height,ke=W+N,qe=H+K,Ze=0,je=0,bt=k.width,qt=k.height,dt=!0,ui;!Y&&y.shiftKey&&(Y=N&&K?N/K:1),this.limited&&(Ze=E.minLeft,je=E.minTop,bt=Ze+Math.min(k.width,b.width,b.left+b.width),qt=je+Math.min(k.height,b.height,b.top+b.height));var Sr=x[Object.keys(x)[0]],Z={x:Sr.endX-Sr.startX,y:Sr.endY-Sr.startY},Me=function(Mr){switch(Mr){case F:ke+Z.x>bt&&(Z.x=bt-ke);break;case $:W+Z.x<Ze&&(Z.x=Ze-W);break;case q:H+Z.y<je&&(Z.y=je-H);break;case G:qe+Z.y>qt&&(Z.y=qt-qe);break}};switch(M){case _:W+=Z.x,H+=Z.y;break;case F:if(Z.x>=0&&(ke>=bt||Y&&(H<=je||qe>=qt))){dt=!1;break}Me(F),N+=Z.x,N<0&&(M=$,N=-N,W-=N),Y&&(K=N/Y,H+=(E.height-K)/2);break;case q:if(Z.y<=0&&(H<=je||Y&&(W<=Ze||ke>=bt))){dt=!1;break}Me(q),K-=Z.y,H+=Z.y,K<0&&(M=G,K=-K,H-=K),Y&&(N=K*Y,W+=(E.width-N)/2);break;case $:if(Z.x<=0&&(W<=Ze||Y&&(H<=je||qe>=qt))){dt=!1;break}Me($),N-=Z.x,W+=Z.x,N<0&&(M=F,N=-N,W-=N),Y&&(K=N/Y,H+=(E.height-K)/2);break;case G:if(Z.y>=0&&(qe>=qt||Y&&(W<=Ze||ke>=bt))){dt=!1;break}Me(G),K+=Z.y,K<0&&(M=q,K=-K,H-=K),Y&&(N=K*Y,W+=(E.width-N)/2);break;case j:if(Y){if(Z.y<=0&&(H<=je||ke>=bt)){dt=!1;break}Me(q),K-=Z.y,H+=Z.y,N=K*Y}else Me(q),Me(F),Z.x>=0?ke<bt?N+=Z.x:Z.y<=0&&H<=je&&(dt=!1):N+=Z.x,Z.y<=0?H>je&&(K-=Z.y,H+=Z.y):(K-=Z.y,H+=Z.y);N<0&&K<0?(M=A,K=-K,N=-N,H-=K,W-=N):N<0?(M=Q,N=-N,W-=N):K<0&&(M=X,K=-K,H-=K);break;case Q:if(Y){if(Z.y<=0&&(H<=je||W<=Ze)){dt=!1;break}Me(q),K-=Z.y,H+=Z.y,N=K*Y,W+=E.width-N}else Me(q),Me($),Z.x<=0?W>Ze?(N-=Z.x,W+=Z.x):Z.y<=0&&H<=je&&(dt=!1):(N-=Z.x,W+=Z.x),Z.y<=0?H>je&&(K-=Z.y,H+=Z.y):(K-=Z.y,H+=Z.y);N<0&&K<0?(M=X,K=-K,N=-N,H-=K,W-=N):N<0?(M=j,N=-N,W-=N):K<0&&(M=A,K=-K,H-=K);break;case A:if(Y){if(Z.x<=0&&(W<=Ze||qe>=qt)){dt=!1;break}Me($),N-=Z.x,W+=Z.x,K=N/Y}else Me(G),Me($),Z.x<=0?W>Ze?(N-=Z.x,W+=Z.x):Z.y>=0&&qe>=qt&&(dt=!1):(N-=Z.x,W+=Z.x),Z.y>=0?qe<qt&&(K+=Z.y):K+=Z.y;N<0&&K<0?(M=j,K=-K,N=-N,H-=K,W-=N):N<0?(M=X,N=-N,W-=N):K<0&&(M=Q,K=-K,H-=K);break;case X:if(Y){if(Z.x>=0&&(ke>=bt||qe>=qt)){dt=!1;break}Me(F),N+=Z.x,K=N/Y}else Me(G),Me(F),Z.x>=0?ke<bt?N+=Z.x:Z.y>=0&&qe>=qt&&(dt=!1):N+=Z.x,Z.y>=0?qe<qt&&(K+=Z.y):K+=Z.y;N<0&&K<0?(M=Q,K=-K,N=-N,H-=K,W-=N):N<0?(M=A,N=-N,W-=N):K<0&&(M=j,K=-K,H-=K);break;case T:this.move(Z.x,Z.y),dt=!1;break;case C:this.zoom(Uee(x),y),dt=!1;break;case O:if(!Z.x||!Z.y){dt=!1;break}ui=eI(this.cropper),W=Sr.startX-ui.left,H=Sr.startY-ui.top,N=E.minWidth,K=E.minHeight,Z.x>0?M=Z.y>0?X:j:Z.x<0&&(W-=N,M=Z.y>0?A:Q),Z.y<0&&(H-=K),this.cropped||(Un(this.cropBox,D),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}dt&&(E.width=N,E.height=K,E.left=W,E.top=H,this.action=M,this.renderCropBox()),pt(x,function(_t){_t.startX=_t.endX,_t.startY=_t.endY})}},Jee={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Rt(this.dragBox,ee),Un(this.cropBox,D),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Qe({},this.initialImageData),this.canvasData=Qe({},this.initialCanvasData),this.cropBoxData=Qe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Qe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Un(this.dragBox,ee),Rt(this.cropBox,D)),this},replace:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),S?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,pt(this.previews,function(b){b.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Un(this.cropper,L)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Rt(this.cropper,L)),this},destroy:function(){var y=this.element;return y[w]?(y[w]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,k=b.left,E=b.top;return this.moveTo(b0(y)?y:k+Number(y),b0(S)?S:E+Number(S))},moveTo:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,k=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.movable&&(Pe(y)&&(b.left=y,k=!0),Pe(S)&&(b.top=S,k=!0),k&&this.renderCanvas(!0)),this},zoom:function(y,S){var b=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(b.width*y/b.naturalWidth,null,S)},zoomTo:function(y,S,b){var k=this.options,E=this.canvasData,x=E.width,M=E.height,Y=E.naturalWidth,W=E.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&k.zoomable){var H=Y*y,N=W*y;if(Fu(this.element,g0,{ratio:y,oldRatio:x/Y,originalEvent:b})===!1)return this;if(b){var K=this.pointers,ke=eI(this.cropper),qe=K&&Object.keys(K).length?jee(K):{pageX:b.pageX,pageY:b.pageY};E.left-=(H-x)*((qe.pageX-ke.left-E.left)/x),E.top-=(N-M)*((qe.pageY-ke.top-E.top)/M)}else Au(S)&&Pe(S.x)&&Pe(S.y)?(E.left-=(H-x)*((S.x-E.left)/x),E.top-=(N-M)*((S.y-E.top)/M)):(E.left-=(H-x)/2,E.top-=(N-M)/2);E.width=H,E.height=N,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Pe(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var S=this.imageData.scaleY;return this.scale(y,Pe(S)?S:1)},scaleY:function(y){var S=this.imageData.scaleX;return this.scale(Pe(S)?S:1,y)},scale:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.imageData,k=!1;return y=Number(y),S=Number(S),this.ready&&!this.disabled&&this.options.scalable&&(Pe(y)&&(b.scaleX=y,k=!0),Pe(S)&&(b.scaleY=S,k=!0),k&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=this.options,b=this.imageData,k=this.canvasData,E=this.cropBoxData,x;if(this.ready&&this.cropped){x={x:E.left-k.left,y:E.top-k.top,width:E.width,height:E.height};var M=b.width/b.naturalWidth;if(pt(x,function(H,N){x[N]=H/M}),y){var Y=Math.round(x.y+x.height),W=Math.round(x.x+x.width);x.x=Math.round(x.x),x.y=Math.round(x.y),x.width=W-x.x,x.height=Y-x.y}}else x={x:0,y:0,width:0,height:0};return S.rotatable&&(x.rotate=b.rotate||0),S.scalable&&(x.scaleX=b.scaleX||1,x.scaleY=b.scaleY||1),x},setData:function(y){var S=this.options,b=this.imageData,k=this.canvasData,E={};if(this.ready&&!this.disabled&&Au(y)){var x=!1;S.rotatable&&Pe(y.rotate)&&y.rotate!==b.rotate&&(b.rotate=y.rotate,x=!0),S.scalable&&(Pe(y.scaleX)&&y.scaleX!==b.scaleX&&(b.scaleX=y.scaleX,x=!0),Pe(y.scaleY)&&y.scaleY!==b.scaleY&&(b.scaleY=y.scaleY,x=!0)),x&&this.renderCanvas(!0,!0);var M=b.width/b.naturalWidth;Pe(y.x)&&(E.left=y.x*M+k.left),Pe(y.y)&&(E.top=y.y*M+k.top),Pe(y.width)&&(E.width=y.width*M),Pe(y.height)&&(E.height=y.height*M),this.setCropBoxData(E)}return this},getContainerData:function(){return this.ready?Qe({},this.containerData):{}},getImageData:function(){return this.sized?Qe({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,S={};return this.ready&&pt(["left","top","width","height","naturalWidth","naturalHeight"],function(b){S[b]=y[b]}),S},setCanvasData:function(y){var S=this.canvasData,b=S.aspectRatio;return this.ready&&!this.disabled&&Au(y)&&(Pe(y.left)&&(S.left=y.left),Pe(y.top)&&(S.top=y.top),Pe(y.width)?(S.width=y.width,S.height=y.width/b):Pe(y.height)&&(S.height=y.height,S.width=y.height*b),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,S;return this.ready&&this.cropped&&(S={left:y.left,top:y.top,width:y.width,height:y.height}),S||{}},setCropBoxData:function(y){var S=this.cropBoxData,b=this.options.aspectRatio,k,E;return this.ready&&this.cropped&&!this.disabled&&Au(y)&&(Pe(y.left)&&(S.left=y.left),Pe(y.top)&&(S.top=y.top),Pe(y.width)&&y.width!==S.width&&(k=!0,S.width=y.width),Pe(y.height)&&y.height!==S.height&&(E=!0,S.height=y.height),b&&(k?S.height=S.width/b:E&&(S.width=S.height*b)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var S=this.canvasData,b=Nee(this.image,this.imageData,S,y);if(!this.cropped)return b;var k=this.getData(),E=k.x,x=k.y,M=k.width,Y=k.height,W=b.width/Math.floor(S.naturalWidth);W!==1&&(E*=W,x*=W,M*=W,Y*=W);var H=M/Y,N=sa({aspectRatio:H,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),K=sa({aspectRatio:H,width:y.minWidth||0,height:y.minHeight||0},"cover"),ke=sa({aspectRatio:H,width:y.width||(W!==1?b.width:M),height:y.height||(W!==1?b.height:Y)}),qe=ke.width,Ze=ke.height;qe=Math.min(N.width,Math.max(K.width,qe)),Ze=Math.min(N.height,Math.max(K.height,Ze));var je=document.createElement("canvas"),bt=je.getContext("2d");je.width=Iu(qe),je.height=Iu(Ze),bt.fillStyle=y.fillColor||"transparent",bt.fillRect(0,0,qe,Ze);var qt=y.imageSmoothingEnabled,dt=qt===void 0?!0:qt,ui=y.imageSmoothingQuality;bt.imageSmoothingEnabled=dt,ui&&(bt.imageSmoothingQuality=ui);var Sr=b.width,Z=b.height,Me=E,_t=x,Mr,si,io,ao,la,jn;Me<=-M||Me>Sr?(Me=0,Mr=0,io=0,la=0):Me<=0?(io=-Me,Me=0,Mr=Math.min(Sr,M+Me),la=Mr):Me<=Sr&&(io=0,Mr=Math.min(M,Sr-Me),la=Mr),Mr<=0||_t<=-Y||_t>Z?(_t=0,si=0,ao=0,jn=0):_t<=0?(ao=-_t,_t=0,si=Math.min(Z,Y+_t),jn=si):_t<=Z&&(ao=0,si=Math.min(Y,Z-_t),jn=si);var fr=[Me,_t,Mr,si];if(la>0&&jn>0){var oo=qe/M;fr.push(io*oo,ao*oo,la*oo,jn*oo)}return bt.drawImage.apply(bt,[b].concat(u(fr.map(function(dd){return Math.floor(Iu(dd))})))),je},setAspectRatio:function(y){var S=this.options;return!this.disabled&&!b0(y)&&(S.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var S=this.options,b=this.dragBox,k=this.face;if(this.ready&&!this.disabled){var E=y===$e,x=S.movable&&y===st;y=E||x?y:lt,S.dragMode=y,kl(b,ue,y),ku(b,I,E),ku(b,ce,x),S.cropBoxMovable||(kl(k,ue,y),ku(k,I,E),ku(k,ce,x))}return this}},Qee=v.Cropper,iI=function(){function R(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,R),!y||!Ree.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=Qe({},YA,Au(S)&&S),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(R,[{key:"init",value:function(){var S=this.element,b=S.tagName.toLowerCase(),k;if(!S[w]){if(S[w]=this,b==="img"){if(this.isImg=!0,k=S.getAttribute("src")||"",this.originalUrl=k,!k)return;k=S.src}else b==="canvas"&&window.HTMLCanvasElement&&(k=S.toDataURL());this.load(k)}}},{key:"load",value:function(S){var b=this;if(!!S){this.url=S,this.imageData={};var k=this.element,E=this.options;if(!E.rotatable&&!E.scalable&&(E.checkOrientation=!1),!E.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Oee.test(S)){Pee.test(S)?this.read(zee(S)):this.clone();return}var x=new XMLHttpRequest,M=this.clone.bind(this);this.reloading=!0,this.xhr=x,x.onabort=M,x.onerror=M,x.ontimeout=M,x.onprogress=function(){x.getResponseHeader("content-type")!==KA&&x.abort()},x.onload=function(){b.read(x.response)},x.onloadend=function(){b.reloading=!1,b.xhr=null},E.checkCrossOrigin&&tI(S)&&k.crossOrigin&&(S=rI(S)),x.open("GET",S),x.responseType="arraybuffer",x.withCredentials=k.crossOrigin==="use-credentials",x.send()}}},{key:"read",value:function(S){var b=this.options,k=this.imageData,E=Hee(S),x=0,M=1,Y=1;if(E>1){this.url=$ee(S,KA);var W=Wee(E);x=W.rotate,M=W.scaleX,Y=W.scaleY}b.rotatable&&(k.rotate=x),b.scalable&&(k.scaleX=M,k.scaleY=Y),this.clone()}},{key:"clone",value:function(){var S=this.element,b=this.url,k=S.crossOrigin,E=b;this.options.checkCrossOrigin&&tI(b)&&(k||(k="anonymous"),E=rI(b)),this.crossOrigin=k,this.crossOriginUrl=E;var x=document.createElement("img");k&&(x.crossOrigin=k),x.src=E||b,x.alt=S.alt||"The image to crop",this.image=x,x.onload=this.start.bind(this),x.onerror=this.stop.bind(this),Rt(x,U),S.parentNode.insertBefore(x,S.nextSibling)}},{key:"start",value:function(){var S=this,b=this.image;b.onload=null,b.onerror=null,this.sizing=!0;var k=v.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(v.navigator.userAgent),E=function(W,H){Qe(S.imageData,{naturalWidth:W,naturalHeight:H,aspectRatio:W/H}),S.sizing=!1,S.sized=!0,S.build()};if(b.naturalWidth&&!k){E(b.naturalWidth,b.naturalHeight);return}var x=document.createElement("img"),M=document.body||document.documentElement;this.sizingImage=x,x.onload=function(){E(x.width,x.height),k||M.removeChild(x)},x.src=b.src,k||(x.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",M.appendChild(x))}},{key:"stop",value:function(){var S=this.image;S.onload=null,S.onerror=null,S.parentNode.removeChild(S),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var S=this.element,b=this.options,k=this.image,E=S.parentNode,x=document.createElement("div");x.innerHTML=qee;var M=x.querySelector(".".concat(w,"-container")),Y=M.querySelector(".".concat(w,"-canvas")),W=M.querySelector(".".concat(w,"-drag-box")),H=M.querySelector(".".concat(w,"-crop-box")),N=H.querySelector(".".concat(w,"-face"));this.container=E,this.cropper=M,this.canvas=Y,this.dragBox=W,this.cropBox=H,this.viewBox=M.querySelector(".".concat(w,"-view-box")),this.face=N,Y.appendChild(k),Rt(S,D),E.insertBefore(M,S.nextSibling),this.isImg||Un(k,U),this.initPreview(),this.bind(),b.initialAspectRatio=Math.max(0,b.initialAspectRatio)||NaN,b.aspectRatio=Math.max(0,b.aspectRatio)||NaN,b.viewMode=Math.max(0,Math.min(3,Math.round(b.viewMode)))||0,Rt(H,D),b.guides||Rt(H.getElementsByClassName("".concat(w,"-dashed")),D),b.center||Rt(H.getElementsByClassName("".concat(w,"-center")),D),b.background&&Rt(M,"".concat(w,"-bg")),b.highlight||Rt(N,B),b.cropBoxMovable&&(Rt(N,ce),kl(N,ue,_)),b.cropBoxResizable||(Rt(H.getElementsByClassName("".concat(w,"-line")),D),Rt(H.getElementsByClassName("".concat(w,"-point")),D)),this.render(),this.ready=!0,this.setDragMode(b.dragMode),b.autoCrop&&this.crop(),this.setData(b.data),cr(b.ready)&&jr(S,WA,b.ready,{once:!0}),Fu(S,WA)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Un(this.element,D))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Qee,R}},{key:"setDefaults",value:function(S){Qe(YA,Au(S)&&S)}}]),R}();return Qe(iI.prototype,Vee,Gee,Kee,Yee,Xee,Jee),iI})});var hW=h(function(Tdt,dW){"use strict";function Lm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lm=function(r){return typeof r}:Lm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lm(t)}function oWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uWe(t,e,r){return e&&pW(t.prototype,e),r&&pW(t,r),t}function sWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tq(t,e)}function Tq(t,e){return Tq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Tq(t,e)}function lWe(t){var e=pWe();return function(){var n=zm(t),i;if(e){var a=zm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cWe(this,i)}}function cWe(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fWe(t)}function fWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}var be=(te(),re(ne)),Aq=fW(),dWe=Aq.__esModule?Aq.default:Aq,hWe=function(t){sWe(r,t);var e=lWe(r);function r(n){var i;return oWe(this,r),i=e.call(this,n),i.granularRotateOnChange=function(a){var o=i.state,u=o.rotationAngle,s=o.rotationDelta,l=Number(a.target.value)-s;if(cancelAnimationFrame(i.granularRotateOnInputNextFrame),l!==0){var c=u+l;i.granularRotateOnInputNextFrame=requestAnimationFrame(function(){i.cropper.rotateTo(c)})}},i.state={rotationAngle:0,rotationDelta:0},i}return uWe(r,[{key:"componentDidMount",value:function(){var i=this,a=this.props,o=a.opts,u=a.storeCropperInstance;this.cropper=new dWe(this.imgElement,o.cropperOptions),u(this.cropper),o.actions.granularRotate&&this.imgElement.addEventListener("crop",function(s){var l=s.detail.rotate;i.setState({rotationAngle:l,rotationDelta:(l+405)%90-45})})}},{key:"componentWillUnmount",value:function(){this.cropper.destroy()}},{key:"renderGranularRotate",value:function(){var i=this.props.i18n,a=this.state,o=a.rotationDelta,u=a.rotationAngle;return(0,be.h)("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(u,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},(0,be.h)("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":i("rotate")}))}},{key:"renderRevert",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("revert"),"data-microtip-position":"top",onClick:function(){i.cropper.reset(),i.cropper.setAspectRatio(0)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}},{key:"renderRotate",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return i.cropper.rotate(-90)},"aria-label":a("rotate"),"data-microtip-position":"top"},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}},{key:"renderFlip",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("flipHorizontal"),"data-microtip-position":"top",onClick:function(){return i.cropper.scaleX(-i.cropper.getData().scaleX||-1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}},{key:"renderZoomIn",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomIn"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(.1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},(0,be.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),(0,be.h)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}},{key:"renderZoomOut",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomOut"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(-.1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,be.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}},{key:"renderCropSquare",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioSquare"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(1)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,be.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}},{key:"renderCropWidescreen",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioLandscape"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(16/9)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),(0,be.h)("path",{fill:"none",d:"M0 0h24v24H0z"})))}},{key:"renderCropWidescreenVertical",value:function(){var i=this,a=this.props.i18n;return(0,be.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioPortrait"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(9/16)}},(0,be.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,be.h)("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),(0,be.h)("path",{d:"M0 0h24v24H0z",fill:"none"})))}},{key:"render",value:function(){var i=this,a=this.props,o=a.currentImage,u=a.opts,s=u.actions,l=URL.createObjectURL(o.data);return(0,be.h)("div",{className:"uppy-ImageCropper"},(0,be.h)("div",{className:"uppy-ImageCropper-container"},(0,be.h)("img",{className:"uppy-ImageCropper-image",alt:o.name,src:l,ref:function(f){i.imgElement=f}})),(0,be.h)("div",{className:"uppy-ImageCropper-controls"},s.revert&&this.renderRevert(),s.rotate&&this.renderRotate(),s.granularRotate&&this.renderGranularRotate(),s.flip&&this.renderFlip(),s.zoomIn&&this.renderZoomIn(),s.zoomOut&&this.renderZoomOut(),s.cropSquare&&this.renderCropSquare(),s.cropWidescreen&&this.renderCropWidescreen(),s.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}]),r}(be.Component);dW.exports=hWe});var yW=h(function(Adt,vW){"use strict";vW.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}}});var wW=h(function(Idt,_W){"use strict";function $m(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$m=function(r){return typeof r}:$m=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$m(t)}function mW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(r),!0).forEach(function(n){vWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mWe(t,e,r){return e&&gW(t.prototype,e),r&&gW(t,r),t}function gWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iq(t,e)}function Iq(t,e){return Iq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Iq(t,e)}function bWe(t){var e=SWe();return function(){var n=Hm(t),i;if(e){var a=Hm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return _We(this,i)}}function _We(t,e){if(e&&($m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wWe(t)}function wWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}var OWe=rt(),PWe=(te(),re(ne)),RWe=hW(),qWe={version:"1.2.0"},EWe=yW(),bW=function(t){gWe(r,t);var e=bWe(r);function r(n,i){var a;yWe(this,r),a=e.call(this,n,i),a.save=function(){var l=function(d){var v=a.getPluginState(),m=v.currentImage;a.uppy.setFileState(m.id,{data:d,size:d.size,preview:null});var g=a.uppy.getFile(m.id);a.uppy.emit("thumbnail:request",g),a.setPluginState({currentImage:g}),a.uppy.emit("file-editor:complete",g)},c=a.getPluginState(),f=c.currentImage;a.cropper.getCroppedCanvas(a.opts.cropperOptions.croppedCanvasOptions).toBlob(l,f.type,a.opts.quality)},a.storeCropperInstance=function(l){a.cropper=l},a.selectFile=function(l){a.uppy.emit("file-editor:start",l),a.setPluginState({currentImage:l})},a.id=a.opts.id||"ImageEditor",a.title="Image Editor",a.type="editor",a.defaultLocale=EWe;var o={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},u={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},s={quality:.8};return a.opts=Zo(Zo(Zo({},s),i),{},{actions:Zo(Zo({},u),i.actions),cropperOptions:Zo(Zo({},o),i.cropperOptions)}),a.i18nInit(),a}return mWe(r,[{key:"canEditFile",value:function(i){if(!i.type||i.isRemote)return!1;var a=i.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(a)}},{key:"install",value:function(){this.setPluginState({currentImage:null});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}},{key:"render",value:function(){var i=this.getPluginState(),a=i.currentImage;return a===null||a.isRemote?null:(0,PWe.h)(RWe,{currentImage:a,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}]),r}(OWe.UIPlugin);bW.VERSION=qWe.version;_W.exports=bW});var OW=h(function(kdt,SW){"use strict";SW.exports=wW()});var RW=h(function(Fdt,PW){"use strict";PW.exports={strings:{pluginNameDropbox:"Dropbox"}}});var IW=h(function(xdt,AW){"use strict";function Wm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wm=function(r){return typeof r}:Wm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wm(t)}function TWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function AWe(t,e,r){return e&&qW(t.prototype,e),r&&qW(t,r),t}function IWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kq(t,e)}function kq(t,e){return kq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kq(t,e)}function kWe(t){var e=xWe();return function(){var n=Gm(t),i;if(e){var a=Gm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return FWe(this,i)}}function FWe(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vm(t)}function Vm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}var CWe=rt(),EW=nr(),DWe=Ni(),Km=(te(),re(ne)),UWe={version:"2.0.6"},jWe=RW(),TW=function(t){IWe(r,t);var e=kWe(r);function r(n,i){var a;return TWe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Dropbox",EW.Provider.initPlugin(Vm(a),i),a.title=a.opts.title||"Dropbox",a.icon=function(){return(0,Km.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Km.h)("g",{fill:"none",fillRule:"evenodd"},(0,Km.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),(0,Km.h)("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new EW.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"dropbox",pluginId:a.id}),a.defaultLocale=jWe,a.i18nInit(),a.title=a.i18n("pluginNameDropbox"),a.onFirstRender=a.onFirstRender.bind(Vm(a)),a.render=a.render.bind(Vm(a)),a}return AWe(r,[{key:"install",value:function(){this.view=new DWe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(CWe.UIPlugin);TW.VERSION=UWe.version;AW.exports=TW});var FW=h(function(Cdt,kW){"use strict";kW.exports=IW()});var DW=h(function(Ddt,CW){"use strict";function Ym(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ym=function(r){return typeof r}:Ym=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ym(t)}function MWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NWe(t,e,r){return e&&xW(t.prototype,e),r&&xW(t,r),t}function Xm(){return typeof Reflect!="undefined"&&Reflect.get?Xm=Reflect.get:Xm=function(e,r,n){var i=BWe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Xm.apply(this,arguments)}function BWe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ws(t),t!==null););return t}function LWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fq(t,e)}function Fq(t,e){return Fq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Fq(t,e)}function zWe(t){var e=WWe();return function(){var n=Ws(t),i;if(e){var a=Ws(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return $We(this,i)}}function $We(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HWe(t)}function HWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ws(t){return Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ws(t)}var VWe=Ni(),GWe=function(t){LWe(r,t);var e=zWe(r);function r(){return MWe(this,r),e.apply(this,arguments)}return NWe(r,[{key:"toggleCheckbox",value:function(i,a){i.stopPropagation(),i.preventDefault(),a.custom.isSharedDrive||Xm(Ws(r.prototype),"toggleCheckbox",this).call(this,i,a)}}]),r}(VWe.ProviderViews);CW.exports=GWe});var jW=h(function(Udt,UW){"use strict";UW.exports={strings:{pluginNameGoogleDrive:"Google Drive"}}});var zW=h(function(jdt,LW){"use strict";function Jm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(r){return typeof r}:Jm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jm(t)}function KWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YWe(t,e,r){return e&&MW(t.prototype,e),r&&MW(t,r),t}function XWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xq(t,e)}function xq(t,e){return xq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xq(t,e)}function JWe(t){var e=ZWe();return function(){var n=Zm(t),i;if(e){var a=Zm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QWe(this,i)}}function QWe(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qm(t)}function Qm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}var eVe=rt(),NW=nr(),eg=(te(),re(ne)),tVe={version:"2.1.0"},rVe=DW(),nVe=jW(),BW=function(t){XWe(r,t);var e=JWe(r);function r(n,i){var a;return KWe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"GoogleDrive",a.title=a.opts.title||"Google Drive",NW.Provider.initPlugin(Qm(a),i),a.title=a.opts.title||"Google Drive",a.icon=function(){return(0,eg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,eg.h)("g",{fill:"none",fillRule:"evenodd"},(0,eg.h)("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),(0,eg.h)("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},a.provider=new NW.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"drive",pluginId:a.id}),a.defaultLocale=nVe,a.i18nInit(),a.title=a.i18n("pluginNameGoogleDrive"),a.onFirstRender=a.onFirstRender.bind(Qm(a)),a.render=a.render.bind(Qm(a)),a}return YWe(r,[{key:"install",value:function(){this.view=new rVe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(eVe.UIPlugin);BW.VERSION=tVe.version;LW.exports=BW});var HW=h(function(Mdt,$W){"use strict";$W.exports=zW()});var VW=h(function(Ndt,WW){"use strict";WW.exports={strings:{pluginNameInstagram:"Instagram"}}});var JW=h(function(Bdt,XW){"use strict";function tg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tg=function(r){return typeof r}:tg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tg(t)}function iVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aVe(t,e,r){return e&&GW(t.prototype,e),r&&GW(t,r),t}function oVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cq(t,e)}function Cq(t,e){return Cq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cq(t,e)}function uVe(t){var e=lVe();return function(){var n=ng(t),i;if(e){var a=ng(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sVe(this,i)}}function sVe(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rg(t)}function rg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(t)}var ig=(te(),re(ne)),cVe=rt(),KW=nr(),fVe=Ni(),pVe={version:"2.1.0"},dVe=VW(),YW=function(t){oVe(r,t);var e=uVe(r);function r(n,i){var a;return iVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Instagram",KW.Provider.initPlugin(rg(a),i),a.icon=function(){return(0,ig.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,ig.h)("g",{fill:"none",fillRule:"evenodd"},(0,ig.h)("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),(0,ig.h)("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},a.defaultLocale=dVe,a.i18nInit(),a.title=a.i18n("pluginNameInstagram"),a.provider=new KW.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"instagram",pluginId:a.id}),a.onFirstRender=a.onFirstRender.bind(rg(a)),a.render=a.render.bind(rg(a)),a}return aVe(r,[{key:"install",value:function(){this.view=new fVe.ProviderViews(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(cVe.UIPlugin);YW.VERSION=pVe.version;XW.exports=YW});var ZW=h(function(Ldt,QW){"use strict";QW.exports=JW()});var tV=h(function(zdt,eV){"use strict";eV.exports={strings:{pluginNameOneDrive:"OneDrive"}}});var oV=h(function($dt,aV){"use strict";function ag(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ag=function(r){return typeof r}:ag=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ag(t)}function hVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vVe(t,e,r){return e&&rV(t.prototype,e),r&&rV(t,r),t}function yVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dq(t,e)}function Dq(t,e){return Dq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Dq(t,e)}function mVe(t){var e=bVe();return function(){var n=ug(t),i;if(e){var a=ug(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gVe(this,i)}}function gVe(t,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return og(t)}function og(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}var Vs=(te(),re(ne)),_Ve=rt(),nV=nr(),wVe=Ni(),SVe={version:"2.1.0"},OVe=tV(),iV=function(t){yVe(r,t);var e=mVe(r);function r(n,i){var a;return hVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"OneDrive",nV.Provider.initPlugin(og(a),i),a.title=a.opts.title||"OneDrive",a.icon=function(){return(0,Vs.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Vs.h)("g",{fill:"none",fillRule:"evenodd"},(0,Vs.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),(0,Vs.h)("g",{fill:"#FFF",fillRule:"nonzero"},(0,Vs.h)("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),(0,Vs.h)("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},a.provider=new nV.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"onedrive",pluginId:a.id}),a.defaultLocale=OVe,a.i18nInit(),a.title=a.i18n("pluginNameOneDrive"),a.onFirstRender=a.onFirstRender.bind(og(a)),a.render=a.render.bind(og(a)),a}return vVe(r,[{key:"install",value:function(){this.view=new wVe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(_Ve.UIPlugin);iV.VERSION=SVe.version;aV.exports=iV});var sV=h(function(Hdt,uV){"use strict";uV.exports=oV()});var cV=h(function(Wdt,lV){"use strict";lV.exports={strings:{pluginNameBox:"Box"}}});var vV=h(function(Vdt,hV){"use strict";function sg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sg=function(r){return typeof r}:sg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sg(t)}function PVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function RVe(t,e,r){return e&&fV(t.prototype,e),r&&fV(t,r),t}function qVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uq(t,e)}function Uq(t,e){return Uq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Uq(t,e)}function EVe(t){var e=AVe();return function(){var n=cg(t),i;if(e){var a=cg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return TVe(this,i)}}function TVe(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lg(t)}function lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}var IVe=rt(),pV=nr(),kVe=Ni(),Gs=(te(),re(ne)),FVe=cV(),xVe={version:"1.0.6"},dV=function(t){qVe(r,t);var e=EVe(r);function r(n,i){var a;return PVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Box",pV.Provider.initPlugin(lg(a),i),a.title=a.opts.title||"Box",a.icon=function(){return(0,Gs.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Gs.h)("g",{fill:"none",fillRule:"evenodd"},(0,Gs.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),(0,Gs.h)("g",{fill:"#fff",fillRule:"nonzero"},(0,Gs.h)("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),(0,Gs.h)("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},a.provider=new pV.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"box",pluginId:a.id}),a.defaultLocale=FVe,a.i18nInit(),a.title=a.i18n("pluginNameBox"),a.onFirstRender=a.onFirstRender.bind(lg(a)),a.render=a.render.bind(lg(a)),a}return RVe(r,[{key:"install",value:function(){this.view=new kVe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return this.view.getFolder()}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(IVe.UIPlugin);dV.VERSION=xVe.version;hV.exports=dV});var mV=h(function(Gdt,yV){"use strict";yV.exports=vV()});var bV=h(function(Kdt,gV){"use strict";gV.exports={strings:{pluginNameFacebook:"Facebook"}}});var PV=h(function(Ydt,OV){"use strict";function fg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fg=function(r){return typeof r}:fg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fg(t)}function CVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DVe(t,e,r){return e&&_V(t.prototype,e),r&&_V(t,r),t}function UVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jq(t,e)}function jq(t,e){return jq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jq(t,e)}function jVe(t){var e=NVe();return function(){var n=dg(t),i;if(e){var a=dg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return MVe(this,i)}}function MVe(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pg(t)}function pg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}var BVe=rt(),wV=nr(),LVe=Ni(),hg=(te(),re(ne)),zVe={version:"2.0.6"},$Ve=bV(),SV=function(t){UVe(r,t);var e=jVe(r);function r(n,i){var a;return CVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Facebook",wV.Provider.initPlugin(pg(a),i),a.title=a.opts.title||"Facebook",a.icon=function(){return(0,hg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,hg.h)("g",{fill:"none",fillRule:"evenodd"},(0,hg.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),(0,hg.h)("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new wV.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"facebook",pluginId:a.id}),a.defaultLocale=$Ve,a.i18nInit(),a.title=a.i18n("pluginNameFacebook"),a.onFirstRender=a.onFirstRender.bind(pg(a)),a.render=a.render.bind(pg(a)),a}return DVe(r,[{key:"install",value:function(){this.view=new LVe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){var a={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(a.viewType="grid",a.showFilter=!1,a.showTitles=!1),this.view.render(i,a)}}]),r}(BVe.UIPlugin);SV.VERSION=zVe.version;OV.exports=SV});var qV=h(function(Xdt,RV){"use strict";RV.exports=PV()});var FV=h(function(Jdt,kV){"use strict";function vg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vg=function(r){return typeof r}:vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vg(t)}function HVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function WVe(t,e,r){return e&&EV(t.prototype,e),r&&EV(t,r),t}function VVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mq(t,e)}function Mq(t,e){return Mq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Mq(t,e)}function GVe(t){var e=YVe();return function(){var n=yg(t),i;if(e){var a=yg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return KVe(this,i)}}function KVe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TV(t)}function TV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(t)}var mg=(te(),re(ne)),XVe=rt(),AV=nr(),JVe=Ni(),QVe={version:"2.0.3"},IV=function(t){VVe(r,t);var e=GVe(r);function r(n,i){var a;if(HVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Unsplash",a.title=a.opts.title||"Unsplash",AV.Provider.initPlugin(TV(a),i,{}),a.icon=function(){return(0,mg.h)("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},(0,mg.h)("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),(0,mg.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),(0,mg.h)("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!a.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.hostname=a.opts.companionUrl,a.provider=new AV.SearchProvider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"unsplash",pluginId:a.id}),a}return WVe(r,[{key:"install",value:function(){this.view=new JVe.SearchProviderViews(this,{provider:this.provider,viewType:"unsplash"});var i=this.opts.target;i&&this.mount(i,this)}},{key:"onFirstRender",value:function(){}},{key:"render",value:function(i){return this.view.render(i)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(XVe.UIPlugin);IV.VERSION=QVe.version;kV.exports=IV});var CV=h(function(Qdt,xV){"use strict";xV.exports=FV()});var jV=h(function(Zdt,UV){"use strict";function gg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(r){return typeof r}:gg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gg(t)}function ZVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eGe(t,e,r){return e&&DV(t.prototype,e),r&&DV(t,r),t}function tGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nq(t,e)}function Nq(t,e){return Nq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Nq(t,e)}function rGe(t){var e=iGe();return function(){var n=bg(t),i;if(e){var a=bg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nGe(this,i)}}function nGe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bq(t)}function Bq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}var _g=(te(),re(ne)),aGe=function(t){tGe(r,t);var e=rGe(r);function r(n){var i;return ZVe(this,r),i=e.call(this,n),i.handleKeyPress=i.handleKeyPress.bind(Bq(i)),i.handleClick=i.handleClick.bind(Bq(i)),i}return eGe(r,[{key:"componentDidMount",value:function(){this.input.value=""}},{key:"handleKeyPress",value:function(i){var a=this.props.addFile;i.keyCode===13&&a(this.input.value)}},{key:"handleClick",value:function(){var i=this.props.addFile;i(this.input.value)}},{key:"render",value:function(){var i=this,a=this.props.i18n;return(0,_g.h)("div",{className:"uppy-Url"},(0,_g.h)("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":a("enterUrlToImport"),placeholder:a("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:function(u){i.input=u},"data-uppy-super-focusable":!0}),(0,_g.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},a("import")))}}]),r}(_g.Component);UV.exports=aGe});var NV=h(function(eht,MV){"use strict";var oGe=On();function uGe(t,e,r){var n=oGe(t.items),i;switch(e){case"paste":{var a=n.some(function(o){return o.kind==="file"});if(a)return;i=n.filter(function(o){return o.kind==="string"&&o.type==="text/plain"});break}case"drop":{i=n.filter(function(o){return o.kind==="string"&&o.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(e))}i.forEach(function(o){o.getAsString(function(u){return r(u)})})}MV.exports=uGe});var LV=h(function(tht,BV){"use strict";BV.exports={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}}});var KV=h(function(rht,GV){"use strict";function wg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wg=function(r){return typeof r}:wg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wg(t)}function zV(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function sGe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){zV(a,n,i,o,u,"next",s)}function u(s){zV(a,n,i,o,u,"throw",s)}o(void 0)})}}function $V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(r),!0).forEach(function(n){lGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$V(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fGe(t,e,r){return e&&WV(t.prototype,e),r&&WV(t,r),t}function pGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lq(t,e)}function Lq(t,e){return Lq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Lq(t,e)}function dGe(t){var e=vGe();return function(){var n=Sg(t),i;if(e){var a=Sg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hGe(this,i)}}function hGe(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return op(t)}function op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(t)}var Ks=(te(),re(ne)),yGe=rt(),mGe=nr(),gGe=On(),bGe=jV(),VV=NV(),_Ge={version:"2.1.0"},wGe=LV();function SGe(){return(0,Ks.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Ks.h)("g",{fill:"none",fillRule:"evenodd"},(0,Ks.h)("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),(0,Ks.h)("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}function OGe(t){var e=/^[a-z0-9]+:\/\//,r="http://";return e.test(t)?t:r+t}function PGe(t){var e=gGe(t.dataTransfer.items),r=e.filter(function(n){return n.kind==="string"&&n.type==="text/uri-list"});return r.length>0}function RGe(t){if(!t)return!1;var e=t.match(/^([a-z0-9]+):\/\//)[1];return!(e!=="http"&&e!=="https")}function qGe(t){return t.substring(t.lastIndexOf("/")+1)}var Ys=function(t){pGe(r,t);var e=dGe(r);function r(n,i){var a;cGe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Url",a.title=a.opts.title||"Link",a.type="acquirer",a.icon=function(){return(0,Ks.h)(SGe,null)},a.defaultLocale=wGe;var o={};if(a.opts=HV(HV({},o),i),a.i18nInit(),a.hostname=a.opts.companionUrl,!a.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.getMeta=a.getMeta.bind(op(a)),a.addFile=a.addFile.bind(op(a)),a.handleRootDrop=a.handleRootDrop.bind(op(a)),a.handleRootPaste=a.handleRootPaste.bind(op(a)),a.client=new mGe.RequestClient(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule}),a}return fGe(r,[{key:"getMeta",value:function(i){var a=this;return this.client.post("url/meta",{url:i}).then(function(o){if(o.error)throw a.uppy.log("[URL] Error:"),a.uppy.log(o.error),new Error("Failed to fetch the file");return o})}},{key:"addFile",value:function(){var n=sGe(regeneratorRuntime.mark(function a(o){var u,s,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(u=this.addProtocolToURL(o),this.checkIfCorrectURL(u)){f.next=5;break}return this.uppy.log("[URL] Incorrect URL entered: ".concat(u)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3),f.abrupt("return",void 0);case 5:return f.prev=5,f.next=8,this.getMeta(u);case 8:return s=f.sent,l={source:this.id,name:this.getFileNameFromUrl(u),type:s.type,data:{size:s.size},isRemote:!0,body:{url:u},remote:{companionUrl:this.opts.companionUrl,url:"".concat(this.hostname,"/url/get"),body:{fileId:u,url:u},providerOptions:this.client.opts}},this.uppy.log("[Url] Adding remote file"),f.prev=11,f.abrupt("return",this.uppy.addFile(l));case 15:return f.prev=15,f.t0=f.catch(11),f.t0.isRestriction||this.uppy.log(f.t0),f.abrupt("return",f.t0);case 19:f.next=26;break;case 21:return f.prev=21,f.t1=f.catch(5),this.uppy.log(f.t1),this.uppy.info({message:this.i18n("failedToFetch"),details:f.t1},"error",4e3),f.abrupt("return",f.t1);case 26:case"end":return f.stop()}},a,this,[[5,21],[11,15]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"handleRootDrop",value:function(i){var a=this;VV(i.dataTransfer,"drop",function(o){a.uppy.log("[URL] Adding file from dropped url: ".concat(o)),a.addFile(o)})}},{key:"handleRootPaste",value:function(i){var a=this;VV(i.clipboardData,"paste",function(o){a.uppy.log("[URL] Adding file from pasted url: ".concat(o)),a.addFile(o)})}},{key:"render",value:function(){return(0,Ks.h)(bGe,{i18n:this.i18n,addFile:this.addFile})}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(yGe.UIPlugin);Ys.VERSION=_Ge.version;GV.exports=Ys;Ys.prototype.addProtocolToURL=OGe;Ys.prototype.canHandleRootDrop=PGe;Ys.prototype.checkIfCorrectURL=RGe;Ys.prototype.getFileNameFromUrl=qGe});var XV=h(function(nht,YV){"use strict";YV.exports=KV()});var Og=h(function(iht,QV){function EGe(t,e){return kGe(t)||IGe(t,e)||AGe(t,e)||TGe()}function TGe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AGe(t,e){if(!!t){if(typeof t=="string")return JV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JV(t,e)}}function JV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IGe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function kGe(t){if(Array.isArray(t))return t}var FGe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};QV.exports=function(e){var r=e.split(";",1),n=EGe(r,1);return e=n[0],FGe[e]||null}});var eG=h(function(aht,ZV){ZV.exports=function(e,r,n){return new Promise(function(i){e.toBlob(i,r,n)})}});var rG=h(function(oht,tG){"use strict";function xGe(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}tG.exports=xGe});var zq=h(function(uht,iG){"use strict";var nG=(te(),re(ne));iG.exports=function(){return(0,nG.h)("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},(0,nG.h)("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))}});var oG=h(function(sht,aG){"use strict";var CGe=(te(),re(ne)),DGe=zq();aG.exports=function(t){var e=t.onSnapshot,r=t.i18n;return(0,CGe.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},DGe())}});var sG=h(function(lht,uG){"use strict";var Xs=(te(),re(ne));function UGe(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,i=t.i18n;return e?(0,Xs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:i("stopRecording"),"aria-label":i("stopRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,Xs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,Xs.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,Xs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:i("startRecording"),"aria-label":i("startRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,Xs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,Xs.h)("circle",{cx:"50",cy:"50",r:"40"})))}uG.exports=UGe});var cG=h(function(cht,lG){"use strict";function jGe(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}lG.exports=jGe});var pG=h(function(fht,fG){"use strict";var MGe=(te(),re(ne)),NGe=cG();function BGe(t){var e=t.recordingLengthSeconds,r=t.i18n,n=NGe(e);return(0,MGe.h)("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}fG.exports=BGe});var hG=h(function(pht,dG){"use strict";var $q=(te(),re(ne));dG.exports=function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return(0,$q.h)("div",{className:"uppy-Webcam-videoSource"},(0,$q.h)("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return(0,$q.h)("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var yG=h(function(dht,vG){"use strict";var Hq=(te(),re(ne));function LGe(t){var e=t.onSubmit,r=t.i18n;return(0,Hq.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,Hq.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,Hq.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}vG.exports=LGe});var gG=h(function(hht,mG){"use strict";var up=(te(),re(ne));function zGe(t){var e=t.onDiscard,r=t.i18n;return(0,up.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,up.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,up.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,up.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,up.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}mG.exports=zGe});var wG=h(function(vht,_G){"use strict";function Pg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pg=function(r){return typeof r}:Pg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pg(t)}function $Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function HGe(t,e,r){return e&&bG(t.prototype,e),r&&bG(t,r),t}function WGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wq(t,e)}function Wq(t,e){return Wq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Wq(t,e)}function VGe(t){var e=YGe();return function(){var n=Rg(t),i;if(e){var a=Rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GGe(this,i)}}function GGe(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KGe(t)}function KGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var Ir=(te(),re(ne));function Vq(){return Vq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vq.apply(this,arguments)}var XGe=oG(),JGe=sG(),QGe=pG(),ZGe=hG(),eKe=yG(),tKe=gG();function qg(t,e){return t.indexOf(e)!==-1}var rKe=function(t){WGe(r,t);var e=VGe(r);function r(){return $Ge(this,r),e.apply(this,arguments)}return HGe(r,[{key:"componentDidMount",value:function(){var i=this.props.onFocus;i()}},{key:"componentWillUnmount",value:function(){var i=this.props.onStop;i()}},{key:"render",value:function(){var i=this,a=this.props,o=a.src,u=a.recordedVideo,s=a.recording,l=a.modes,c=a.supportsRecording,f=a.videoSources,p=a.showVideoSourceDropdown,d=a.showRecordingLength,v=a.onSubmit,m=a.i18n,g=a.mirror,w=a.onSnapshot,_=a.onStartRecording,O=a.onStopRecording,T=a.onDiscardRecordedVideo,C=a.recordingLengthSeconds,F=!!u,$=!F&&c&&(qg(l,"video-only")||qg(l,"audio-only")||qg(l,"video-audio")),G=!F&&qg(l,"picture"),q=c&&d&&!F,j=p&&f&&f.length>1,Q={playsinline:!0};return u?(Q.muted=!1,Q.controls=!0,Q.src=u,this.videoElement&&(this.videoElement.srcObject=void 0)):(Q.muted=!0,Q.autoplay=!0,Q.srcObject=o),(0,Ir.h)("div",{className:"uppy uppy-Webcam-container"},(0,Ir.h)("div",{className:"uppy-Webcam-videoContainer"},(0,Ir.h)("video",Vq({ref:function(A){return i.videoElement=A},className:"uppy-Webcam-video  ".concat(g?"uppy-Webcam-video--mirrored":"")},Q))),(0,Ir.h)("div",{className:"uppy-Webcam-footer"},(0,Ir.h)("div",{className:"uppy-Webcam-videoSourceContainer"},j?ZGe(this.props):null),(0,Ir.h)("div",{className:"uppy-Webcam-buttonContainer"},G&&(0,Ir.h)(XGe,{onSnapshot:w,i18n:m}),$&&(0,Ir.h)(JGe,{recording:s,onStartRecording:_,onStopRecording:O,i18n:m}),F&&(0,Ir.h)(eKe,{onSubmit:v,i18n:m}),F&&(0,Ir.h)(tKe,{onDiscard:T,i18n:m})),(0,Ir.h)("div",{className:"uppy-Webcam-recordingLength"},q&&(0,Ir.h)(QGe,{recordingLengthSeconds:C,i18n:m}))))}}]),r}(Ir.Component);_G.exports=rKe});var OG=h(function(yht,SG){"use strict";var Eg=(te(),re(ne));SG.exports=function(t){var e=t.icon,r=t.i18n,n=t.hasCamera;return(0,Eg.h)("div",{className:"uppy-Webcam-permissons"},(0,Eg.h)("div",{className:"uppy-Webcam-permissonsIcon"},e()),(0,Eg.h)("h1",{className:"uppy-Webcam-title"},r(n?"allowAccessTitle":"noCameraTitle")),(0,Eg.h)("p",null,r(n?"allowAccessDescription":"noCameraDescription")))}});var RG=h(function(mht,PG){"use strict";PG.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}}});var FG=h(function(ght,kG){"use strict";function sp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sp=function(r){return typeof r}:sp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sp(t)}function qG(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function nKe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){qG(a,n,i,o,u,"next",s)}function u(s){qG(a,n,i,o,u,"throw",s)}o(void 0)})}}function EG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EG(Object(r),!0).forEach(function(n){iKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oKe(t,e,r){return e&&TG(t.prototype,e),r&&TG(t,r),t}function Tg(){return typeof Reflect!="undefined"&&Reflect.get?Tg=Reflect.get:Tg=function(e,r,n){var i=uKe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Tg.apply(this,arguments)}function uKe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Js(t),t!==null););return t}function sKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gq(t,e)}function Gq(t,e){return Gq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Gq(t,e)}function lKe(t){var e=fKe();return function(){var n=Js(t),i;if(e){var a=Js(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cKe(this,i)}}function cKe(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xt(t)}function Xt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Js(t)}var Qs=(te(),re(ne)),pKe=rt();function Kq(){return Kq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kq.apply(this,arguments)}function lp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var dKe=0;function hKe(t){return"__private_"+dKe+++"_"+t}var Yq=Og(),vKe=OP(),yKe=eG(),mKe=rG(),gKe=zq(),bKe=wG(),_Ke=OG(),wKe={version:"2.2.0"},SKe=RG();function AG(t){return t[0]==="."?vKe[t.slice(1)]:t}function OKe(t){return/^video\/[^*]+$/.test(t)}function PKe(t){return/^image\/[^*]+$/.test(t)}function RKe(){return navigator.mediaDevices}var An=hKe("enableMirror"),IG=function(t){sKe(r,t);var e=lKe(r);function r(n,i){var a;aKe(this,r),a=e.call(this,n,i),Object.defineProperty(Xt(a),An,{writable:!0,value:void 0}),a.mediaDevices=RKe(),a.supportsUserMedia=!!a.mediaDevices,a.protocol=location.protocol.match(/https/i)?"https":"http",a.id=a.opts.id||"Webcam",a.type="acquirer",a.capturedMediaFile=null,a.icon=function(){return(0,Qs.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Qs.h)("g",{fill:"none",fillRule:"evenodd"},(0,Qs.h)("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),(0,Qs.h)("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},a.defaultLocale=SKe;var o={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return a.opts=Ga(Ga({},o),i),a.i18nInit(),a.title=a.i18n("pluginNameCamera"),lp(Xt(a),An)[An]=a.opts.mirror,a.install=a.install.bind(Xt(a)),a.setPluginState=a.setPluginState.bind(Xt(a)),a.render=a.render.bind(Xt(a)),a.start=a.start.bind(Xt(a)),a.stop=a.stop.bind(Xt(a)),a.takeSnapshot=a.takeSnapshot.bind(Xt(a)),a.startRecording=a.startRecording.bind(Xt(a)),a.stopRecording=a.stopRecording.bind(Xt(a)),a.discardRecordedVideo=a.discardRecordedVideo.bind(Xt(a)),a.submit=a.submit.bind(Xt(a)),a.oneTwoThreeSmile=a.oneTwoThreeSmile.bind(Xt(a)),a.focus=a.focus.bind(Xt(a)),a.changeVideoSource=a.changeVideoSource.bind(Xt(a)),a.webcamActive=!1,a.opts.countdown&&(a.opts.onBeforeSnapshot=a.oneTwoThreeSmile),a.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),a}return oKe(r,[{key:"setOptions",value:function(i){Tg(Js(r.prototype),"setOptions",this).call(this,Ga(Ga({},i),{},{videoConstraints:Ga(Ga({},this.opts.videoConstraints),i==null?void 0:i.videoConstraints)}))}},{key:"hasCameraCheck",value:function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(i){return i.some(function(a){return a.kind==="videoinput"})}):Promise.resolve(!1)}},{key:"isAudioOnly",value:function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}},{key:"getConstraints",value:function(i){i===void 0&&(i=null);var a=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,o=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),u=Ga(Ga({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),i?{deviceId:i,facingMode:null}:{});return{audio:a,video:o?u:!1}}},{key:"start",value:function(i){var a=this;if(i===void 0&&(i=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(lp(this,An)[An]=!0);var o=this.getConstraints(i&&i.deviceId?i.deviceId:null);this.hasCameraCheck().then(function(u){return a.setPluginState({hasCamera:u}),a.mediaDevices.getUserMedia(o).then(function(s){a.stream=s;var l=null,c=a.isAudioOnly()?s.getAudioTracks():s.getVideoTracks();!i||!i.deviceId?l=c[0].getSettings().deviceId:c.forEach(function(f){f.getSettings().deviceId===i.deviceId&&(l=f.getSettings().deviceId)}),a.updateVideoSources(),a.setPluginState({currentDeviceId:l,cameraReady:!0})}).catch(function(s){a.setPluginState({cameraReady:!1,cameraError:s}),a.uppy.info(s.message,"error")})})}},{key:"getMediaRecorderOptions",value:function(){var i={};if(MediaRecorder.isTypeSupported){var a=this.uppy.opts.restrictions,o=[];this.opts.preferredVideoMimeType?o=[this.opts.preferredVideoMimeType]:a.allowedFileTypes&&(o=a.allowedFileTypes.map(AG).filter(OKe));var u=function(c){return MediaRecorder.isTypeSupported(c)&&Yq(c)},s=o.filter(u);s.length>0&&(i.mimeType=s[0])}return i}},{key:"startRecording",value:function(){var i=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var a=!1;this.recorder.addEventListener("dataavailable",function(o){i.recordingChunks.push(o.data);var u=i.uppy.opts.restrictions;if(i.recordingChunks.length>1&&u.maxFileSize!=null&&!a){var s=i.recordingChunks.reduce(function(p,d){return p+d.size},0),l=(s-i.recordingChunks[0].size)/(i.recordingChunks.length-1),c=l*3,f=Math.max(0,u.maxFileSize-c);s>f&&(a=!0,i.uppy.info(i.i18n("recordingStoppedMaxSize"),"warning",4e3),i.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var o=i.getPluginState().recordingLengthSeconds;i.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop(),i.opts.showRecordingLength&&(clearInterval(i.recordingLengthTimer),i.setPluginState({recordingLengthSeconds:0}))});return a.then(function(){return i.setPluginState({isRecording:!1}),i.getVideo()}).then(function(o){try{i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)}),lp(i,An)[An]=!1}catch(u){u.isRestriction||i.uppy.log(u)}}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"discardRecordedVideo",value:function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(lp(this,An)[An]=!0),this.capturedMediaFile=null}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){var n=nKe(regeneratorRuntime.mark(function a(){var o=this,u,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.stream&&(u=this.stream.getAudioTracks(),s=this.stream.getVideoTracks(),u.concat(s).forEach(function(f){return f.stop()})),!this.recorder){c.next=4;break}return c.next=4,new Promise(function(f){o.recorder.addEventListener("stop",f,{once:!0}),o.recorder.stop(),o.opts.showRecordingLength&&clearInterval(o.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return c.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getVideoElement",value:function(){return this.el.querySelector(".uppy-Webcam-video")}},{key:"oneTwoThreeSmile",value:function(){var i=this;return new Promise(function(a,o){var u=i.opts.countdown,s=setInterval(function(){if(!i.webcamActive)return clearInterval(s),i.captureInProgress=!1,o(new Error("Webcam is not active"));u>0?(i.uppy.info("".concat(u,"..."),"warning",800),u--):(clearInterval(s),i.uppy.info(i.i18n("smile"),"success",1500),setTimeout(function(){return a()},1500))},1e3)})}},{key:"takeSnapshot",value:function(){var i=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(a){var o=sp(a)==="object"?a.message:a;return i.uppy.info(o,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(o)))}).then(function(){return i.getImage()}).then(function(a){i.captureInProgress=!1;try{i.uppy.addFile(a)}catch(o){o.isRestriction||i.uppy.log(o)}},function(a){throw i.captureInProgress=!1,a}))}},{key:"getImage",value:function(){var i=this,a=this.getVideoElement();if(!a)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var o=a.videoWidth,u=a.videoHeight,s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");l.drawImage(a,0,0);var c=this.uppy.opts.restrictions,f=[];this.opts.preferredImageMimeType?f=[this.opts.preferredImageMimeType]:c.allowedFileTypes&&(f=c.allowedFileTypes.map(AG).filter(PKe));var p=f[0]||"image/jpeg",d=Yq(p)||"jpg",v="cam-".concat(Date.now(),".").concat(d);return yKe(s,p).then(function(m){return{source:i.id,name:v,data:new Blob([m],{type:p}),type:p}})}},{key:"getVideo",value:function(){var i=this.recordingChunks.find(function(l){var c;return((c=l.type)==null?void 0:c.length)>0}).type,a=Yq(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="webcam-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"focus",value:function(){var i=this;!this.opts.countdown||setTimeout(function(){i.uppy.info(i.i18n("smile"),"success",1500)},1e3)}},{key:"changeVideoSource",value:function(i){this.stop(),this.start({deviceId:i})}},{key:"updateVideoSources",value:function(){var i=this;this.mediaDevices.enumerateDevices().then(function(a){i.setPluginState({videoSources:a.filter(function(o){return o.kind==="videoinput"})})})}},{key:"render",value:function(){this.webcamActive||this.start();var i=this.getPluginState();return!i.cameraReady||!i.hasCamera?(0,Qs.h)(_Ke,{icon:gKe,i18n:this.i18n,hasCamera:i.hasCamera}):(0,Qs.h)(bKe,Kq({},i,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:mKe(),recording:i.isRecording,mirror:lp(this,An)[An],src:this.stream}))}},{key:"install",value:function(){var i=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(i.updateVideoSources(),i.stream){var o=!0,u=i.getPluginState(),s=u.videoSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(i.stop(),i.start())}})}},{key:"uninstall",value:function(){this.stop(),this.unmount()}},{key:"onUnmount",value:function(){this.stop()}}]),r}(pKe.UIPlugin);IG.VERSION=wKe.version;kG.exports=IG});var CG=h(function(bht,xG){"use strict";xG.exports=FG()});var UG=h(function(_ht,DG){"use strict";var cp=(te(),re(ne));DG.exports=function(){return(0,cp.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,cp.h)("g",{fill:"none",fillRule:"evenodd"},(0,cp.h)("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),(0,cp.h)("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),(0,cp.h)("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))}});var MG=h(function(wht,jG){"use strict";var Zs=(te(),re(ne));function qKe(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,i=t.i18n;return e?(0,Zs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:i("stopCapturing"),"aria-label":i("stopCapturing"),onClick:n,"data-uppy-super-focusable":!0},(0,Zs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,Zs.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,Zs.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:i("startCapturing"),"aria-label":i("startCapturing"),onClick:r,"data-uppy-super-focusable":!0},(0,Zs.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,Zs.h)("circle",{cx:"50",cy:"50",r:"40"})))}jG.exports=qKe});var BG=h(function(Sht,NG){"use strict";var Xq=(te(),re(ne));function EKe(t){var e=t.recording,r=t.recordedVideo,n=t.onSubmit,i=t.i18n;return r&&!e?(0,Xq.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:i("submitRecordedFile"),"aria-label":i("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},(0,Xq.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,Xq.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}NG.exports=EKe});var HG=h(function(Oht,$G){"use strict";function Ag(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=function(r){return typeof r}:Ag=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ag(t)}function LG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TKe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LG(Object(r),!0).forEach(function(n){AKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kKe(t,e,r){return e&&zG(t.prototype,e),r&&zG(t,r),t}function FKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jq(t,e)}function Jq(t,e){return Jq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Jq(t,e)}function xKe(t){var e=UKe();return function(){var n=Ig(t),i;if(e){var a=Ig(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return CKe(this,i)}}function CKe(t,e){if(e&&(Ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DKe(t)}function DKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}var el=(te(),re(ne)),jKe=function(t){FKe(r,t);var e=xKe(r);function r(n){var i;return IKe(this,r),i=e.call(this,n),i.state={elapsedTime:0},i.wrapperStyle={width:"100%",height:"100%",display:"flex"},i.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},i.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},i.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},i.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},i}return kKe(r,[{key:"startTimer",value:function(){this.timerTick(),this.timerRunning=!0}},{key:"resetTimer",value:function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}},{key:"timerTick",value:function(){var i=this;this.timer=setTimeout(function(){i.setState(function(a){return{elapsedTime:a.elapsedTime+1}}),i.timerTick()},1e3)}},{key:"fmtMSS",value:function(i){return(i-(i%=60))/60+(i>9?":":":0")+i}},{key:"render",value:function(){var i=TKe({},this.props),a=i.recording,o=i.i18n,u=this.state.elapsedTime,s=this.fmtMSS(u);return a&&!this.timerRunning&&this.startTimer(),!a&&this.timerRunning&&this.resetTimer(),a?(0,el.h)("div",{style:this.wrapperStyle},(0,el.h)("div",{style:this.overlayStyle}),(0,el.h)("div",{style:this.infoContainerStyle},(0,el.h)("div",{style:this.infotextStyle},o("recording")),(0,el.h)("div",{style:this.timeStyle},s))):null}}]),r}(el.Component);$G.exports=jKe});var VG=h(function(Pht,WG){"use strict";var Zn=(te(),re(ne));WG.exports=function(t){var e=t.streamActive,r=t.i18n;return e?(0,Zn.h)("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},(0,Zn.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Zn.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,Zn.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Zn.h)("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):(0,Zn.h)("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},(0,Zn.h)("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},(0,Zn.h)("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),(0,Zn.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,Zn.h)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}});var YG=h(function(Rht,KG){"use strict";function kg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kg=function(r){return typeof r}:kg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kg(t)}function MKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NKe(t,e,r){return e&&GG(t.prototype,e),r&&GG(t,r),t}function BKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qq(t,e)}function Qq(t,e){return Qq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Qq(t,e)}function LKe(t){var e=HKe();return function(){var n=Fg(t),i;if(e){var a=Fg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zKe(this,i)}}function zKe(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ke(t)}function $Ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(t)}var Wi=(te(),re(ne));function Zq(){return Zq=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zq.apply(this,arguments)}var WKe=MG(),VKe=BG(),GKe=HG(),KKe=VG(),YKe=function(t){BKe(r,t);var e=LKe(r);function r(){return MKe(this,r),e.apply(this,arguments)}return NKe(r,[{key:"componentWillUnmount",value:function(){var i=this.props.onStop;i()}},{key:"render",value:function(){var i=this,a=this.props,o=a.recording,u=a.stream,s=a.recordedVideo,l={playsinline:!0};return(o||!s&&!o)&&(l.muted=!0,l.autoplay=!0,l.srcObject=u),s&&!o&&(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)),(0,Wi.h)("div",{className:"uppy uppy-ScreenCapture-container"},(0,Wi.h)("div",{className:"uppy-ScreenCapture-videoContainer"},(0,Wi.h)(KKe,this.props),(0,Wi.h)("video",Zq({ref:function(f){i.videoElement=f},className:"uppy-ScreenCapture-video"},l)),(0,Wi.h)(GKe,this.props)),(0,Wi.h)("div",{className:"uppy-ScreenCapture-buttonContainer"},(0,Wi.h)(WKe,this.props),(0,Wi.h)(VKe,this.props)))}}]),r}(Wi.Component);KG.exports=YKe});var JG=h(function(qht,XG){"use strict";XG.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}}});var nK=h(function(Eht,rK){"use strict";function xg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xg=function(r){return typeof r}:xg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xg(t)}function QG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QG(Object(r),!0).forEach(function(n){XKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QKe(t,e,r){return e&&ZG(t.prototype,e),r&&ZG(t,r),t}function ZKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},tE(t,e)}function eYe(t){var e=rYe();return function(){var n=Cg(t),i;if(e){var a=Cg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tYe(this,i)}}function tYe(t,e){if(e&&(xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ei(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}var nYe=(te(),re(ne)),iYe=rt();function rE(){return rE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rE.apply(this,arguments)}var eK=Og(),aYe=UG(),oYe=YG(),uYe={version:"2.1.0"},sYe=JG();function lYe(){return window.MediaRecorder&&navigator.mediaDevices}var tK=function(t){ZKe(r,t);var e=eYe(r);function r(n,i){var a;JKe(this,r),a=e.call(this,n,i),a.mediaDevices=lYe(),a.protocol=location.protocol==="https:"?"https":"http",a.id=a.opts.id||"ScreenCapture",a.title=a.opts.title||"Screencast",a.type="acquirer",a.icon=aYe,a.defaultLocale=sYe;var o={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return a.opts=eE(eE({},o),i),a.i18nInit(),a.install=a.install.bind(ei(a)),a.setPluginState=a.setPluginState.bind(ei(a)),a.render=a.render.bind(ei(a)),a.start=a.start.bind(ei(a)),a.stop=a.stop.bind(ei(a)),a.startRecording=a.startRecording.bind(ei(a)),a.stopRecording=a.stopRecording.bind(ei(a)),a.submit=a.submit.bind(ei(a)),a.streamInterrupted=a.streamInactivated.bind(ei(a)),a.captureActive=!1,a.capturedMediaFile=null,a}return QKe(r,[{key:"install",value:function(){if(!this.mediaDevices)return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.videoStream&&this.stop(),this.unmount()}},{key:"start",value:function(){var i=this;return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(a){a===!1&&i.parent&&i.parent.hideAllPanels&&(i.parent.hideAllPanels(),i.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))}},{key:"selectVideoStreamSource",value:function(){var i=this;return this.videoStream?new Promise(function(a){return a(i.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(a){return i.videoStream=a,i.videoStream.addEventListener("inactive",function(){i.streamInactivated()}),i.setPluginState({streamActive:!0}),a}).catch(function(a){return i.setPluginState({screenRecError:a}),i.userDenied=!0,setTimeout(function(){i.userDenied=!1},1e3),!1})}},{key:"selectAudioStreamSource",value:function(){var i=this;return this.audioStream?new Promise(function(a){return a(i.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(a){return i.audioStream=a,i.setPluginState({audioStreamActive:!0}),a}).catch(function(a){return a.name==="NotAllowedError"&&i.uppy.info(i.i18n("micDisabled"),"error",5e3),!1})}},{key:"startRecording",value:function(){var i=this,a={};this.capturedMediaFile=null,this.recordingChunks=[];var o=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(u){o&&MediaRecorder.isTypeSupported(o)&&eK(o)&&(a.mimeType=o);var s=[u.getVideoTracks()[0]];i.audioStream&&s.push(i.audioStream.getAudioTracks()[0]),i.outputStream=new MediaStream(s),i.recorder=new MediaRecorder(i.outputStream,a),i.recorder.addEventListener("dataavailable",function(l){i.recordingChunks.push(l.data)}),i.recorder.start(),i.setPluginState({recording:!0})}).catch(function(u){i.uppy.log(u,"error")})}},{key:"streamInactivated",value:function(){var i=eE({},this.getPluginState()),a=i.recordedVideo,o=i.recording;!a&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop()});return a.then(function(){return i.setPluginState({recording:!1}),i.getVideo()}).then(function(o){i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)})}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(i){i.stop()}),this.videoStream.getAudioTracks().forEach(function(i){i.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(i){i.stop()}),this.audioStream.getVideoTracks().forEach(function(i){i.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(i){i.stop()}),this.outputStream.getVideoTracks().forEach(function(i){i.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}},{key:"getVideo",value:function(){var i=this.recordingChunks[0].type,a=eK(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="screencap-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"render",value:function(){var i=this.getPluginState();return!i.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),(0,nYe.h)(oYe,rE({},i,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}}]),r}(iYe.UIPlugin);tK.VERSION=uYe.version;rK.exports=tK});var aK=h(function(Tht,iK){"use strict";iK.exports=nK()});var uK=h(function(Aht,oK){"use strict";function cYe(){var t;return typeof MediaRecorder=="function"&&typeof((t=MediaRecorder.prototype)==null?void 0:t.start)=="function"}oK.exports=cYe});var bK={};fI(bK,{useCallback:function(){return hYe},useContext:function(){return vYe},useDebugValue:function(){return yYe},useEffect:function(){return fYe},useErrorBoundary:function(){return mYe},useImperativeHandle:function(){return dYe},useLayoutEffect:function(){return yK},useMemo:function(){return iE},useReducer:function(){return vK},useRef:function(){return pYe},useState:function(){return hK}});function rl(t,e){ve.__h&&ve.__h(Nt,t,tl||e),tl=0;var r=Nt.__H||(Nt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function hK(t){return tl=1,vK(gK,t)}function vK(t,e,r){var n=rl(eu++,2);return n.t=t,n.__c||(n.__=[r?r(e):gK(void 0,e),function(i){var a=n.t(n.__[0],i);n.__[0]!==a&&(n.__=[a,n.__[1]],n.__c.setState({}))}],n.__c=Nt),n.__}function fYe(t,e){var r=rl(eu++,3);!ve.__s&&oE(r.__H,e)&&(r.__=t,r.__H=e,Nt.__H.__h.push(r))}function yK(t,e){var r=rl(eu++,4);!ve.__s&&oE(r.__H,e)&&(r.__=t,r.__H=e,Nt.__h.push(r))}function pYe(t){return tl=5,iE(function(){return{current:t}},[])}function dYe(t,e,r){tl=6,yK(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function iE(t,e){var r=rl(eu++,7);return oE(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function hYe(t,e){return tl=8,iE(function(){return t},e)}function vYe(t){var e=Nt.context[t.__c],r=rl(eu++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Nt)),e.props.value):t.__}function yYe(t,e){ve.useDebugValue&&ve.useDebugValue(e?e(t):t)}function mYe(t){var e=rl(eu++,10),r=hK();return e.__=t,Nt.componentDidCatch||(Nt.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function gYe(){var t;for(nE.sort(function(e,r){return e.__v.__b-r.__v.__b});t=nE.pop();)if(t.__P)try{t.__H.__h.forEach(Dg),t.__H.__h.forEach(aE),t.__H.__h=[]}catch(e){t.__H.__h=[],ve.__e(e,t.__v)}}function bYe(t){var e,r=function(){clearTimeout(n),mK&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);mK&&(e=requestAnimationFrame(r))}function Dg(t){var e=Nt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Nt=e}function aE(t){var e=Nt;t.__c=t.__(),Nt=e}function oE(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function gK(t,e){return typeof e=="function"?e(t):e}var eu,Nt,sK,tl,nE,lK,cK,fK,pK,dK,mK,_K=cI(function(){te();tl=0,nE=[],lK=ve.__b,cK=ve.__r,fK=ve.diffed,pK=ve.__c,dK=ve.unmount;ve.__b=function(t){Nt=null,lK&&lK(t)},ve.__r=function(t){cK&&cK(t),eu=0;var e=(Nt=t.__c).__H;e&&(e.__h.forEach(Dg),e.__h.forEach(aE),e.__h=[])},ve.diffed=function(t){fK&&fK(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(nE.push(e)!==1&&sK===ve.requestAnimationFrame||((sK=ve.requestAnimationFrame)||bYe)(gYe)),Nt=null},ve.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Dg),r.__h=r.__h.filter(function(n){return!n.__||aE(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ve.__e(n,r.__v)}}),pK&&pK(t,e)},ve.unmount=function(t){dK&&dK(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Dg(n)}catch(i){e=i}}),e&&ve.__e(e,r.__v))};mK=typeof requestAnimationFrame=="function"});var SK=h(function(kht,wK){"use strict";var nl=(te(),re(ne));function _Ye(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,i=t.i18n;return e?(0,nl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:i("stopAudioRecording"),"aria-label":i("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,nl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,nl.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,nl.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:i("startAudioRecording"),"aria-label":i("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,nl.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},(0,nl.h)("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}wK.exports=_Ye});var PK=h(function(Fht,OK){"use strict";function wYe(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}OK.exports=wYe});var qK=h(function(xht,RK){"use strict";var SYe=(te(),re(ne)),OYe=PK();function PYe(t){var e=t.recordingLengthSeconds,r=t.i18n,n=OYe(e);return(0,SYe.h)("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}RK.exports=PYe});var TK=h(function(Cht,EK){"use strict";var uE=(te(),re(ne));EK.exports=function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return(0,uE.h)("div",{className:"uppy-Audio-videoSource"},(0,uE.h)("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return(0,uE.h)("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var FK=h(function(Dht,kK){"use strict";function RYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qYe(t,e,r){return e&&AK(t.prototype,e),r&&AK(t,r),t}function EYe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var TYe=0;function AYe(t){return"__private_"+TYe+++"_"+t}function IK(t){return typeof t=="function"}function fp(t){return IK(t)?t():t}var sE=AYe("draw"),IYe=function(){function t(e,r){var n=this;RYe(this,t),r===void 0&&(r={}),Object.defineProperty(this,sE,{writable:!0,value:function(){return n.draw()}});var i=r.canvas||{},a=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=fp(i.width)||this.canvas.width,this.height=fp(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=fp(a.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=fp(a.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=fp(a.lineWidth)||1,this.onDrawFrame=IK(r.onDrawFrame)?r.onDrawFrame:function(){}}return qYe(t,[{key:"addSource",value:function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}},{key:"draw",value:function(){var r=this.analyser,n=this.dataArray,i=this.bufferLength,a=this.canvasContext,o=this.width,u=this.height;r&&r.getByteTimeDomainData(n),a.fillRect(0,0,o,u),a.beginPath();var s=o*1/i,l=0;i||a.moveTo(0,this.height/2);for(var c=0;c<i;c++){var f=n[c]/128,p=f*(u/2);c===0?a.moveTo(l,p):a.lineTo(l,p),l+=s}a.lineTo(o,u/2),a.stroke(),this.onDrawFrame(this),requestAnimationFrame(EYe(this,sE)[sE])}}]),t}();kK.exports=IYe});var CK=h(function(Uht,xK){"use strict";var lE=(te(),re(ne));function kYe(t){var e=t.onSubmit,r=t.i18n;return(0,lE.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,lE.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,lE.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}xK.exports=kYe});var UK=h(function(jht,DK){"use strict";var pp=(te(),re(ne));function FYe(t){var e=t.onDiscard,r=t.i18n;return(0,pp.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,pp.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},(0,pp.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,pp.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,pp.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}DK.exports=FYe});var MK=h(function(Mht,jK){"use strict";var Jr=(te(),re(ne)),Ug=(_K(),re(bK)),xYe=SK(),CYe=qK(),DYe=TK(),UYe=FK(),jYe=CK(),MYe=UK();function NYe(t){var e=t.stream,r=t.recordedAudio,n=t.onStop,i=t.recording,a=t.supportsRecording,o=t.audioSources,u=t.showAudioSourceDropdown,s=t.onSubmit,l=t.i18n,c=t.onStartRecording,f=t.onStopRecording,p=t.onDiscardRecordedAudio,d=t.recordingLengthSeconds,v=(0,Ug.useRef)(null),m=(0,Ug.useRef)(null);(0,Ug.useEffect)(function(){return function(){m.current=null,n()}},[n]),(0,Ug.useEffect)(function(){if(!r&&(m.current=new UYe(v.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),m.current.draw(),e)){var O=new AudioContext,T=O.createMediaStreamSource(e);m.current.addSource(T)}},[r,e]);var g=r!=null,w=!g&&a,_=u&&!g&&o&&o.length>1;return(0,Jr.h)("div",{className:"uppy-Audio-container"},(0,Jr.h)("div",{className:"uppy-Audio-audioContainer"},g?(0,Jr.h)("audio",{className:"uppy-Audio-player",controls:!0,src:r}):(0,Jr.h)("canvas",{ref:v,className:"uppy-Audio-canvas"})),(0,Jr.h)("div",{className:"uppy-Audio-footer"},(0,Jr.h)("div",{className:"uppy-Audio-audioSourceContainer"},_?DYe(t):null),(0,Jr.h)("div",{className:"uppy-Audio-buttonContainer"},w&&(0,Jr.h)(xYe,{recording:i,onStartRecording:c,onStopRecording:f,i18n:l}),g&&(0,Jr.h)(jYe,{onSubmit:s,i18n:l}),g&&(0,Jr.h)(MYe,{onDiscard:p,i18n:l})),(0,Jr.h)("div",{className:"uppy-Audio-recordingLength"},!g&&(0,Jr.h)(CYe,{recordingLengthSeconds:d,i18n:l}))))}jK.exports=NYe});var BK=h(function(Nht,NK){"use strict";var jg=(te(),re(ne));NK.exports=function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return(0,jg.h)("div",{className:"uppy-Audio-permissons"},(0,jg.h)("div",{className:"uppy-Audio-permissonsIcon"},e()),(0,jg.h)("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),(0,jg.h)("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))}});var zK=h(function(Bht,LK){"use strict";LK.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}}});var KK=h(function(Lht,GK){"use strict";function Mg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mg=function(r){return typeof r}:Mg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mg(t)}function $K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BYe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(r),!0).forEach(function(n){LYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HK(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function zYe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){HK(a,n,i,o,u,"next",s)}function u(s){HK(a,n,i,o,u,"throw",s)}o(void 0)})}}function $Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function HYe(t,e,r){return e&&WK(t.prototype,e),r&&WK(t,r),t}function WYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cE(t,e)}function VYe(t){var e=KYe();return function(){var n=Ng(t),i;if(e){var a=Ng(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GYe(this,i)}}function GYe(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(t)}function fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(t)}var il=(te(),re(ne)),YYe=rt();function fE(){return fE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fE.apply(this,arguments)}function oe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var XYe=0;function Bt(t){return"__private_"+XYe+++"_"+t}var JYe=Og(),QYe=uK(),ZYe=MK(),eXe=BK(),tXe=zK(),rXe={version:"0.3.1"},Lt=Bt("stream"),Vi=Bt("audioActive"),nt=Bt("recordingChunks"),it=Bt("recorder"),Gi=Bt("capturedMediaFile"),zt=Bt("mediaDevices"),dp=Bt("supportsUserMedia"),pE=Bt("hasAudioCheck"),tu=Bt("start"),dE=Bt("startRecording"),hp=Bt("stopRecording"),hE=Bt("discardRecordedAudio"),vE=Bt("submit"),Ki=Bt("stop"),yE=Bt("getAudio"),mE=Bt("changeSource"),ru=Bt("updateSources"),VK=function(t){WYe(r,t);var e=VYe(r);function r(n,i){var a;$Ye(this,r);var o;return a=e.call(this,n,i),o=fe(a),Object.defineProperty(fe(a),yE,{value:iXe}),Object.defineProperty(fe(a),pE,{value:nXe}),Object.defineProperty(fe(a),Lt,{writable:!0,value:null}),Object.defineProperty(fe(a),Vi,{writable:!0,value:!1}),Object.defineProperty(fe(a),nt,{writable:!0,value:null}),Object.defineProperty(fe(a),it,{writable:!0,value:null}),Object.defineProperty(fe(a),Gi,{writable:!0,value:null}),Object.defineProperty(fe(a),zt,{writable:!0,value:null}),Object.defineProperty(fe(a),dp,{writable:!0,value:null}),Object.defineProperty(fe(a),tu,{writable:!0,value:function(s){if(s===void 0&&(s=null),!oe(o,dp)[dp])return Promise.reject(new Error("Microphone access not supported"));oe(o,Vi)[Vi]=!0,oe(o,pE)[pE]().then(function(l){return o.setPluginState({hasAudio:l}),oe(o,zt)[zt].getUserMedia({audio:!0}).then(function(c){oe(o,Lt)[Lt]=c;var f=null,p=c.getAudioTracks();!s||!s.deviceId?f=p[0].getSettings().deviceId:p.forEach(function(d){d.getSettings().deviceId===s.deviceId&&(f=d.getSettings().deviceId)}),oe(o,ru)[ru](),o.setPluginState({currentDeviceId:f,audioReady:!0})}).catch(function(c){o.setPluginState({audioReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})}}),Object.defineProperty(fe(a),dE,{writable:!0,value:function(){oe(fe(a),it)[it]=new MediaRecorder(oe(fe(a),Lt)[Lt]),oe(fe(a),nt)[nt]=[];var s=!1;oe(fe(a),it)[it].addEventListener("dataavailable",function(l){oe(fe(a),nt)[nt].push(l.data);var c=a.uppy.opts.restrictions;if(oe(fe(a),nt)[nt].length>1&&c.maxFileSize!=null&&!s){var f=oe(fe(a),nt)[nt].reduce(function(m,g){return m+g.size},0),p=(f-oe(fe(a),nt)[nt][0].size)/(oe(fe(a),nt)[nt].length-1),d=p*3,v=Math.max(0,c.maxFileSize-d);f>v&&(s=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),oe(fe(a),hp)[hp]())}}),oe(fe(a),it)[it].start(500),a.recordingLengthTimer=setInterval(function(){var l=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:l+1})},1e3),a.setPluginState({isRecording:!0})}}),Object.defineProperty(fe(a),hp,{writable:!0,value:function(){var s=new Promise(function(l){oe(fe(a),it)[it].addEventListener("stop",function(){l()}),oe(fe(a),it)[it].stop(),clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0})});return s.then(function(){return a.setPluginState({isRecording:!1}),oe(fe(a),yE)[yE]()}).then(function(l){try{oe(fe(a),Gi)[Gi]=l,a.setPluginState({recordedAudio:URL.createObjectURL(l.data)})}catch(c){c.isRestriction||a.uppy.log(c)}}).then(function(){oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null},function(l){throw oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null,l})}}),Object.defineProperty(fe(a),hE,{writable:!0,value:function(){a.setPluginState({recordedAudio:null}),oe(fe(a),Gi)[Gi]=null}}),Object.defineProperty(fe(a),vE,{writable:!0,value:function(){try{oe(fe(a),Gi)[Gi]&&a.uppy.addFile(oe(fe(a),Gi)[Gi])}catch(s){s.isRestriction||a.uppy.log(s,"error")}}}),Object.defineProperty(fe(a),Ki,{writable:!0,value:function(){var u=zYe(regeneratorRuntime.mark(function l(){var c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(oe(fe(a),Lt)[Lt]&&(c=oe(fe(a),Lt)[Lt].getAudioTracks(),c.forEach(function(d){return d.stop()})),!oe(fe(a),it)[it]){p.next=4;break}return p.next=4,new Promise(function(d){oe(fe(a),it)[it].addEventListener("stop",d,{once:!0}),oe(fe(a),it)[it].stop(),clearInterval(a.recordingLengthTimer)});case 4:oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null,oe(fe(a),Vi)[Vi]=!1,oe(fe(a),Lt)[Lt]=null,a.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return p.stop()}},l)}));function s(){return u.apply(this,arguments)}return s}()}),Object.defineProperty(fe(a),mE,{writable:!0,value:function(s){oe(fe(a),Ki)[Ki](),oe(fe(a),tu)[tu]({deviceId:s})}}),Object.defineProperty(fe(a),ru,{writable:!0,value:function(){oe(fe(a),zt)[zt].enumerateDevices().then(function(s){a.setPluginState({audioSources:s.filter(function(l){return l.kind==="audioinput"})})})}}),oe(fe(a),zt)[zt]=navigator.mediaDevices,oe(fe(a),dp)[dp]=oe(fe(a),zt)[zt]!=null,a.id=a.opts.id||"Audio",a.type="acquirer",a.icon=function(){return(0,il.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},(0,il.h)("g",{fill:"none","fill-rule":"evenodd"},(0,il.h)("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),(0,il.h)("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},a.defaultLocale=tXe,a.opts=BYe({},i),a.i18nInit(),a.title=a.i18n("pluginNameAudio"),a.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),a}return HYe(r,[{key:"render",value:function(){oe(this,Vi)[Vi]||oe(this,tu)[tu]();var i=this.getPluginState();return!i.audioReady||!i.hasAudio?(0,il.h)(eXe,{icon:this.icon,i18n:this.i18n,hasAudio:i.hasAudio}):(0,il.h)(ZYe,fE({},i,{audioActive:oe(this,Vi)[Vi],onChangeSource:oe(this,mE)[mE],onStartRecording:oe(this,dE)[dE],onStopRecording:oe(this,hp)[hp],onDiscardRecordedAudio:oe(this,hE)[hE],onSubmit:oe(this,vE)[vE],onStop:oe(this,Ki)[Ki],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:QYe(),recording:i.isRecording,stream:oe(this,Lt)[Lt]}))}},{key:"install",value:function(){var i=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),oe(this,zt)[zt]&&(oe(this,ru)[ru](),oe(this,zt)[zt].ondevicechange=function(){if(oe(i,ru)[ru](),oe(i,Lt)[Lt]){var o=!0,u=i.getPluginState(),s=u.audioSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(oe(i,Ki)[Ki](),oe(i,tu)[tu]())}})}},{key:"uninstall",value:function(){oe(this,Lt)[Lt]&&oe(this,Ki)[Ki](),this.unmount()}}]),r}(YYe.UIPlugin);function nXe(){return oe(this,zt)[zt]?oe(this,zt)[zt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}function iXe(){var t=oe(this,nt)[nt].find(function(a){var o;return((o=a.type)==null?void 0:o.length)>0}).type,e=JYe(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(oe(this,nt)[nt],{type:t}),i={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(i)}VK.VERSION=rXe.version;GK.exports=VK});var XK=h(function(zht,YK){"use strict";YK.exports=KK()});var Ka=h(function($ht,QK){function aXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oXe(t,e,r){return e&&JK(t.prototype,e),r&&JK(t,r),t}function he(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var uXe=0;function gr(t){return"__private_"+uXe+++"_"+t}function sXe(){return new Error("Cancelled")}var kr=gr("activeRequests"),ar=gr("queuedHandlers"),Fr=gr("paused"),nu=gr("pauseTimer"),or=gr("downLimit"),iu=gr("upperLimit"),Yi=gr("rateLimitingTimer"),vp=gr("call"),Xi=gr("queueNext"),gE=gr("next"),bE=gr("queue"),_E=gr("dequeue"),wE=gr("resume"),au=gr("increaseLimit"),lXe=function(){function t(e){var r=this;aXe(this,t),Object.defineProperty(this,_E,{value:hXe}),Object.defineProperty(this,bE,{value:dXe}),Object.defineProperty(this,gE,{value:pXe}),Object.defineProperty(this,Xi,{value:fXe}),Object.defineProperty(this,vp,{value:cXe}),Object.defineProperty(this,kr,{writable:!0,value:0}),Object.defineProperty(this,ar,{writable:!0,value:[]}),Object.defineProperty(this,Fr,{writable:!0,value:!1}),Object.defineProperty(this,nu,{writable:!0,value:void 0}),Object.defineProperty(this,or,{writable:!0,value:1}),Object.defineProperty(this,iu,{writable:!0,value:void 0}),Object.defineProperty(this,Yi,{writable:!0,value:void 0}),Object.defineProperty(this,wE,{writable:!0,value:function(){return r.resume()}}),Object.defineProperty(this,au,{writable:!0,value:function(){if(he(r,Fr)[Fr]){he(r,Yi)[Yi]=setTimeout(he(r,au)[au],0);return}he(r,or)[or]=r.limit,r.limit=Math.ceil((he(r,iu)[iu]+he(r,or)[or])/2);for(var i=he(r,or)[or];i<=r.limit;i++)he(r,Xi)[Xi]();he(r,iu)[iu]-he(r,or)[or]>3?he(r,Yi)[Yi]=setTimeout(he(r,au)[au],2e3):he(r,or)[or]=Math.floor(he(r,or)[or]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return oXe(t,[{key:"run",value:function(r,n){return!he(this,Fr)[Fr]&&he(this,kr)[kr]<this.limit?he(this,vp)[vp](r):he(this,bE)[bE](r,n)}},{key:"wrapPromiseFunction",value:function(r,n){var i=this;return function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var s,l=new Promise(function(c,f){s=i.run(function(){var p,d;try{d=Promise.resolve(r.apply(void 0,o))}catch(v){d=Promise.reject(v)}return d.then(function(v){p?f(p):(s.done(),c(v))},function(v){p?f(p):(s.done(),f(v))}),function(){p=sXe()}},n)});return l.abort=function(){s.abort()},l}}},{key:"resume",value:function(){he(this,Fr)[Fr]=!1,clearTimeout(he(this,nu)[nu]);for(var r=0;r<this.limit;r++)he(this,Xi)[Xi]()}},{key:"pause",value:function(r){r===void 0&&(r=null),he(this,Fr)[Fr]=!0,clearTimeout(he(this,nu)[nu]),r!=null&&(he(this,nu)[nu]=setTimeout(he(this,wE)[wE],r))}},{key:"rateLimit",value:function(r){clearTimeout(he(this,Yi)[Yi]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(he(this,iu)[iu]=this.limit-1,this.limit=he(this,or)[or],he(this,Yi)[Yi]=setTimeout(he(this,au)[au],r))}},{key:"isPaused",get:function(){return he(this,Fr)[Fr]}}]),t}();function cXe(t){var e=this;he(this,kr)[kr]+=1;var r=!1,n;try{n=t()}catch(i){throw he(this,kr)[kr]-=1,i}return{abort:function(){r||(r=!0,he(e,kr)[kr]-=1,n(),he(e,Xi)[Xi]())},done:function(){r||(r=!0,he(e,kr)[kr]-=1,he(e,Xi)[Xi]())}}}function fXe(){var t=this;queueMicrotask(function(){return he(t,gE)[gE]()})}function pXe(){if(!(he(this,Fr)[Fr]||he(this,kr)[kr]>=this.limit)&&he(this,ar)[ar].length!==0){var t=he(this,ar)[ar].shift(),e=he(this,vp)[vp](t.fn);t.abort=e.abort,t.done=e.done}}function dXe(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:function(){he(r,_E)[_E](n)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=he(this,ar)[ar].findIndex(function(a){return n.priority>a.priority});return i===-1?he(this,ar)[ar].push(n):he(this,ar)[ar].splice(i,0,n),n}function hXe(t){var e=he(this,ar)[ar].indexOf(t);e!==-1&&he(this,ar)[ar].splice(e,1)}QK.exports={RateLimitedQueue:lXe,internalRateLimitedQueue:Symbol("__queue")}});var yp=h(function(Hht,ZK){var vXe=gf();function yXe(t,e,r){var n=e.progress,i=e.bytesUploaded,a=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:i,bytesTotal:a}))}ZK.exports=vXe(yXe,300,{leading:!0,trailing:!0})});var mp=h(function(Wht,eY){eY.exports=function(e){var r=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,n=r.exec(e)[1],i=/^http:\/\//i.test(e)?"ws":"wss";return"".concat(i,"://").concat(n)}});var bp=h(function(Vht,aY){function mXe(t,e){return _Xe(t)||bXe(t,e)||tY(t,e)||gXe()}function gXe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bXe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function _Xe(t){if(Array.isArray(t))return t}function wXe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tY(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function tY(t,e){if(!!t){if(typeof t=="string")return rY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rY(t,e)}}function rY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function OXe(t,e,r){return e&&nY(t.prototype,e),r&&nY(t,r),t}var Ya,al;function gp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var PXe=0;function iY(t){return"__private_"+PXe+++"_"+t}aY.exports=(Ya=iY("emitter"),al=iY("events"),function(){function t(e){SXe(this,t),Object.defineProperty(this,Ya,{writable:!0,value:void 0}),Object.defineProperty(this,al,{writable:!0,value:[]}),gp(this,Ya)[Ya]=e}return OXe(t,[{key:"on",value:function(r,n){return gp(this,al)[al].push([r,n]),gp(this,Ya)[Ya].on(r,n)}},{key:"remove",value:function(){var r=wXe(gp(this,al)[al].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var i=mXe(n.value,2),a=i[0],o=i[1];gp(this,Ya)[Ya].off(a,o)}}catch(u){r.e(u)}finally{r.f()}}}]),t}())});var SE=h(function(Ght,uY){function RXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qXe(t,e,r){return e&&oY(t.prototype,e),r&&oY(t,r),t}function Qr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var EXe=0;function Bg(t){return"__private_"+EXe+++"_"+t}var Ji=Bg("aliveTimer"),ou=Bg("isDone"),_p=Bg("onTimedOut"),uu=Bg("timeout"),TXe=function(){function t(e,r){RXe(this,t),Object.defineProperty(this,Ji,{writable:!0,value:void 0}),Object.defineProperty(this,ou,{writable:!0,value:!1}),Object.defineProperty(this,_p,{writable:!0,value:void 0}),Object.defineProperty(this,uu,{writable:!0,value:void 0}),Qr(this,uu)[uu]=e,Qr(this,_p)[_p]=r}return qXe(t,[{key:"progress",value:function(){Qr(this,ou)[ou]||Qr(this,uu)[uu]>0&&(clearTimeout(Qr(this,Ji)[Ji]),Qr(this,Ji)[Ji]=setTimeout(Qr(this,_p)[_p],Qr(this,uu)[uu]))}},{key:"done",value:function(){Qr(this,ou)[ou]||(clearTimeout(Qr(this,Ji)[Ji]),Qr(this,Ji)[Ji]=null,Qr(this,ou)[ou]=!0)}}]),t}();uY.exports=TXe});var Lg=h(function(Kht,sY){function AXe(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}sY.exports=AXe});var vY=h(function(Yht,hY){"use strict";function lY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lY(Object(r),!0).forEach(function(n){IXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function FXe(t,e,r){return e&&cY(t.prototype,e),r&&cY(t,r),t}var xXe=No(),OE=nr(),CXe=Ka();function ri(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var DXe=0;function wp(t){return"__private_"+DXe+++"_"+t}var UXe=yp(),jXe=mp(),fY=bp(),MXe=SE(),pY=Uf(),NXe=Cs(),BXe=Lg();function dY(t,e){if(BXe(t))return new NXe(e,t);var r=new pY("Upload error",{cause:e});return r.request=t,r}function LXe(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}function zXe(t,e,r){var n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(e);n.forEach(function(i){t.append(i,e[i])})}function $Xe(t,e){var r=new FormData;zXe(r,t.meta,e);var n=LXe(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}var HXe=function(e){return e.data},Sp=wp("getOptions"),su=wp("addEventHandlerForFile"),lu=wp("addEventHandlerIfFileStillExists"),PE=wp("uploadLocalFile"),RE=wp("uploadRemoteFile"),WXe=function(){function t(e,r){kXe(this,t),Object.defineProperty(this,RE,{value:XXe}),Object.defineProperty(this,PE,{value:YXe}),Object.defineProperty(this,lu,{value:KXe}),Object.defineProperty(this,su,{value:GXe}),Object.defineProperty(this,Sp,{value:VXe}),this.uppy=e,this.opts=ti({validateStatus:function(i){return i>=200&&i<300}},r),this.requests=r[CXe.internalRateLimitedQueue],this.uploaderEvents=Object.create(null),this.i18n=r.i18n}return FXe(t,[{key:"uploadFile",value:function(r,n,i){var a=this.uppy.getFile(r);if(a.error)throw new Error(a.error);return a.isRemote?ri(this,RE)[RE](a,n,i):ri(this,PE)[PE](a,n,i)}}]),t}();function VXe(t){var e,r=this.uppy,n=r.getState().xhrUpload,i=ti(ti(ti(ti({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:ti(ti(ti({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return i}function GXe(t,e,r){this.uploaderEvents[e].on(t,function(n){e===n&&r()})}function KXe(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r.apply(void 0,arguments)})}function YXe(t,e,r){var n=this,i=ri(this,Sp)[Sp](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(a,o){var u=i.formData?$Xe(t,i):HXe(t,i),s=new XMLHttpRequest;n.uploaderEvents[t.id]=new fY(n.uppy);var l=new MXe(i.timeout,function(){s.abort(),f.done();var p=new Error(n.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));n.uppy.emit("upload-error",t,p),o(p)}),c=(0,xXe.nanoid)();s.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," started"))}),s.upload.addEventListener("progress",function(p){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," progress: ").concat(p.loaded," / ").concat(p.total)),l.progress(),p.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:p.loaded,bytesTotal:p.total})}),s.addEventListener("load",function(p){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(c," finished")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),i.validateStatus(p.target.status,s.responseText,s)){var d=i.getResponseData(s.responseText,s),v=d[i.responseUrlFieldName],m={status:p.target.status,body:d,uploadURL:v};return n.uppy.emit("upload-success",t,m),v&&n.uppy.log("Download ".concat(t.name," from ").concat(v)),a(t)}var g=i.getResponseData(s.responseText,s),w=dY(s,i.getResponseError(s.responseText,s)),_={status:p.target.status,body:g};return n.uppy.emit("upload-error",t,w,_),o(w)}),s.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," errored")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var p=dY(s,i.getResponseError(s.responseText,s));return n.uppy.emit("upload-error",t,p),o(p)}),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=Boolean(i.withCredentials),i.responseType!==""&&(s.responseType=i.responseType),Object.keys(i.headers).forEach(function(p){s.setRequestHeader(p,i.headers[p])});var f=n.requests.run(function(){return s.send(u),function(){l.done(),s.abort()}},{priority:1});ri(n,su)[su]("file-removed",t.id,function(){f.abort(),o(new Error("File removed"))}),ri(n,lu)[lu]("cancel-all",t.id,function(p){var d=p===void 0?{}:p,v=d.reason;v==="user"&&f.abort(),o(new Error("Upload cancelled"))})})}function XXe(t){var e=this,r=ri(this,Sp)[Sp](t),n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(t.meta),i=t.remote.providerOptions.provider?OE.Provider:OE.RequestClient,a=new i(this.uppy,t.remote.providerOptions);return a.post(t.remote.url,ti(ti({},t.remote.body),{},{endpoint:r.endpoint,size:t.data.size,fieldname:r.fieldName,metadata:Object.fromEntries(n.map(function(o){return[o,t.meta[o]]})),httpMethod:r.method,useFormData:r.formData,headers:r.headers})).then(function(o){return new Promise(function(u,s){var l=o.token,c=jXe(t.remote.companionUrl),f=new OE.Socket({target:"".concat(c,"/api/").concat(l),autoOpen:!1});e.uploaderEvents[t.id]=new fY(e.uppy);var p=e.requests.run(function(){return f.open(),t.isPaused&&f.send("pause",{}),function(){return f.close()}});ri(e,su)[su]("file-removed",t.id,function(){f.send("cancel",{}),p.abort(),u("upload ".concat(t.id," was removed"))}),ri(e,lu)[lu]("cancel-all",t.id,function(d){var v=d===void 0?{}:d,m=v.reason;m==="user"&&(f.send("cancel",{}),p.abort()),u("upload ".concat(t.id," was canceled"))}),ri(e,su)[su]("upload-retry",t.id,function(){f.send("pause",{}),f.send("resume",{})}),ri(e,lu)[lu]("retry-all",t.id,function(){f.send("pause",{}),f.send("resume",{})}),f.on("progress",function(d){return UXe(e,d,t)}),f.on("success",function(d){var v=r.getResponseData(d.response.responseText,d.response),m=v[r.responseUrlFieldName],g={status:d.response.status,body:v,uploadURL:m,bytesUploaded:d.bytesUploaded};return e.uppy.emit("upload-success",t,g),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),u()}),f.on("error",function(d){var v=d.response,m=v?r.getResponseError(v.responseText,v):new pY(d.error.message,{cause:d.error});e.uppy.emit("upload-error",t,m),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),s(m)})}).catch(function(u){return e.uppy.emit("upload-error",t,u),Promise.reject(u)})})}hY.exports=WXe});var mY=h(function(Xht,yY){"use strict";function JXe(t){return t.replace(/;.*$/,"")}function QXe(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=JXe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}yY.exports=QXe});var bY=h(function(Jht,gY){"use strict";gY.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var EY=h(function(Qht,qY){"use strict";function _Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_Y(Object(r),!0).forEach(function(n){Pp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_Y(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eJe(t,e,r){return e&&wY(t.prototype,e),r&&wY(t,r),t}function tJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},qE(t,e)}function rJe(t){var e=iJe();return function(){var n=zg(t),i;if(e){var a=zg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nJe(this,i)}}function nJe(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ni(t)}function ni(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iJe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(t)}function Rp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rp=function(r){return typeof r}:Rp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rp(t)}var SY=Ka(),aJe=nr();function Qi(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var oJe=0;function $g(t){return"__private_"+oJe+++"_"+t}var uJe=Kr(),sJe={version:"2.1.0"},lJe=vY(),OY=mY(),cJe=bY();function fJe(t,e){return new URL(e,t||void 0).toString()}function qp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}function pJe(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function dJe(t,e){var r=e!=null&&typeof e.url=="string"&&(Rp(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var i=e.method==null||/^p(u|os)t$/i.test(e.method);if(!i){var a=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw a}}function hJe(t,e){if(!!OY(t,e)){var r=qp(t,"Message");return new Error(r)}}var PY=!1,Ep=$g("client"),cu=$g("requests"),Tp=$g("uploader"),Ap=$g("handleUpload"),RY=function(t){tJe(r,t);var e=rJe(r);function r(n,i){var a;ZXe(this,r),a=e.call(this,n,i),Object.defineProperty(ni(a),Ep,{writable:!0,value:void 0}),Object.defineProperty(ni(a),cu,{writable:!0,value:void 0}),Object.defineProperty(ni(a),Tp,{writable:!0,value:void 0}),Object.defineProperty(ni(a),Ap,{writable:!0,value:function(s){var l=Object.create(null);function c(d){var v,m=d.id;(v=l[m])==null||v.abort()}a.uppy.on("file-removed",c),s.forEach(function(d){var v=a.uppy.getFile(d);a.uppy.emit("upload-started",v)});var f=Qi(ni(a),cu)[cu].wrapPromiseFunction(function(d){return a.opts.getUploadParameters(d)}),p=s.length;return Promise.allSettled(s.map(function(d,v){return l[d]=f(a.uppy.getFile(d)),l[d].then(function(m){delete l[d];var g=a.uppy.getFile(d);dJe(g,m);var w=m.method,_=w===void 0?"post":w,O=m.url,T=m.fields,C=m.headers,F={method:_,formData:_.toLowerCase()==="post",endpoint:O,metaFields:T?Object.keys(T):[]};return C&&(F.headers=C),a.uppy.setFileState(g.id,{meta:Op(Op({},g.meta),T),xhrUpload:F}),Qi(ni(a),Tp)[Tp].uploadFile(g.id,v,p)}).catch(function(m){delete l[d];var g=a.uppy.getFile(d);return a.uppy.emit("upload-error",g,m),Promise.reject(m)})})).finally(function(){a.uppy.off("file-removed",c)})}}),a.type="uploader",a.id=a.opts.id||"AwsS3",a.title="AWS S3",a.defaultLocale=cJe;var o={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:a.getUploadParameters.bind(ni(a))};return a.opts=Op(Op({},o),i),a.i18nInit(),Qi(ni(a),Ep)[Ep]=new aJe.RequestClient(n,i),Qi(ni(a),cu)[cu]=new SY.RateLimitedQueue(a.opts.limit),a}return eJe(r,[{key:"getUploadParameters",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var a=i.meta.name,o=i.meta.type,u=Object.fromEntries(this.opts.metaFields.filter(function(l){return i.meta[l]!=null}).map(function(l){return["metadata[".concat(l,"]"),i.meta[l].toString()]})),s=new URLSearchParams(Op({filename:a,type:o},u));return Qi(this,Ep)[Ep].get("s3/params?".concat(s)).then(pJe)}},{key:"install",value:function(){var i,a=this.uppy;a.addUploader(Qi(this,Ap)[Ap]);function o(s,l){var c=this;return OY(s,l)?{location:fJe(l.responseURL,qp(s,"Location")),bucket:qp(s,"Bucket"),key:qp(s,"Key"),etag:qp(s,"ETag")}:c.method.toUpperCase()==="POST"?(PY||(a.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),PY=!0),{location:null}):l.responseURL?{location:l.responseURL.replace(/\?.*$/,"")}:{location:null}}var u=(i={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},Pp(i,SY.internalRateLimitedQueue,Qi(this,cu)[cu]),Pp(i,"responseType","text"),Pp(i,"getResponseData",this.opts.getResponseData||o),Pp(i,"getResponseError",hJe),i);u.i18n=this.i18n,Qi(this,Tp)[Tp]=new lJe(a,u)}},{key:"uninstall",value:function(){this.uppy.removeUploader(Qi(this,Ap)[Ap])}}]),r}(uJe);RY.VERSION=sJe.version;qY.exports=RY});var EE=h(function(Hg){Hg.AbortController=globalThis.AbortController;Hg.AbortSignal=globalThis.AbortSignal;Hg.createAbortError=function(t){return t===void 0&&(t="Aborted"),new DOMException(t,"AbortError")}});var IY=h(function(evt,AY){var vJe=EE(),TY=vJe.createAbortError;AY.exports=function(e,r){return new Promise(function(n,i){var a,o;if(r!=null&&(a=r.signal)!=null&&a.aborted)return i(TY());var u=setTimeout(function(){l(),n()},e);function s(){clearTimeout(u),l(),i(TY())}r==null||(o=r.signal)==null||o.addEventListener("abort",s);function l(){var c;r==null||(c=r.signal)==null||c.removeEventListener("abort",s)}})}});var MY=h(function(tvt,jY){"use strict";function kY(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function TE(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){kY(a,n,i,o,u,"next",s)}function u(s){kY(a,n,i,o,u,"throw",s)}o(void 0)})}}function Ip(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ip=function(r){return typeof r}:Ip=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ip(t)}function FY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FY(Object(r),!0).forEach(function(n){xY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mJe(t,e,r){return e&&CY(t.prototype,e),r&&CY(t,r),t}var fu=EE();function Xe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var gJe=0;function ur(t){return"__private_"+gJe+++"_"+t}var bJe=IY(),_Je=1024*1024,DY={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function(e){return Math.ceil(e.size/1e4)},onStart:function(){},onProgress:function(){},onPartComplete:function(){},onSuccess:function(){},onError:function(e){throw e}};function UY(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}var Zi=ur("aborted"),AE=ur("initChunks"),IE=ur("createUpload"),kE=ur("resumeUpload"),pu=ur("uploadParts"),kp=ur("retryable"),FE=ur("prepareUploadParts"),xE=ur("uploadPartRetryable"),CE=ur("uploadPart"),Fp=ur("onPartProgress"),DE=ur("onPartComplete"),UE=ur("uploadPartBytes"),jE=ur("completeUpload"),ME=ur("abortUpload"),ea=ur("onError"),wJe=function(){function t(e,r){yJe(this,t),Object.defineProperty(this,ea,{value:UJe}),Object.defineProperty(this,ME,{value:DJe}),Object.defineProperty(this,jE,{value:CJe}),Object.defineProperty(this,UE,{value:xJe}),Object.defineProperty(this,DE,{value:FJe}),Object.defineProperty(this,Fp,{value:kJe}),Object.defineProperty(this,CE,{value:IJe}),Object.defineProperty(this,xE,{value:AJe}),Object.defineProperty(this,FE,{value:TJe}),Object.defineProperty(this,kp,{value:EJe}),Object.defineProperty(this,pu,{value:qJe}),Object.defineProperty(this,kE,{value:RJe}),Object.defineProperty(this,IE,{value:PJe}),Object.defineProperty(this,AE,{value:OJe}),Object.defineProperty(this,Zi,{value:SJe}),this.options=Wg(Wg({},DY),r),this.options.getChunkSize||(this.options.getChunkSize=DY.getChunkSize),this.file=e,this.abortController=new fu.AbortController,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Xe(this,AE)[AE](),this.createdPromise.catch(function(){})}return mJe(t,[{key:"start",value:function(){this.isPaused=!1,this.uploadId?Xe(this,kE)[kE]():Xe(this,IE)[IE]()}},{key:"pause",value:function(){this.abortController.abort(),this.abortController=new fu.AbortController,this.isPaused=!0}},{key:"abort",value:function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Xe(this,ME)[ME]():this.pause()}}]),t}();function SJe(){return this.abortController.signal.aborted}function OJe(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*_Je,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var i=0;i<this.file.size;i+=n){var a=Math.min(this.file.size,i+n);t.push(this.file.slice(i,a))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}function PJe(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Xe(t,Zi)[Zi]())throw(0,fu.createAbortError)();var r=Ip(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Xe(t,pu)[pu]()}).catch(function(e){Xe(t,ea)[ea](e)})}function RJe(){return NE.apply(this,arguments)}function NE(){return NE=TE(regeneratorRuntime.mark(function t(){var e=this,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=i.sent,!Xe(this,Zi)[Zi]()){i.next=6;break}throw(0,fu.createAbortError)();case 6:r.forEach(function(a){var o=a.PartNumber-1;e.chunkState[o]={uploaded:UY(a.Size),etag:a.ETag,done:!0},e.parts.some(function(u){return u.PartNumber===a.PartNumber})||e.parts.push({PartNumber:a.PartNumber,ETag:a.ETag})}),Xe(this,pu)[pu](),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),Xe(this,ea)[ea](i.t0);case 13:case"end":return i.stop()}},t,this,[[0,10]])})),NE.apply(this,arguments)}function qJe(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(s){return s.done})){Xe(this,jE)[jE]();return}var e=this.options.limit-this.partsInProgress,r=this.chunkState.filter(function(s){return s.done}).length,n=this.chunks.length-r,i=Math.ceil(this.options.limit/2);if(i>n&&(i=n),!(e<i)){for(var a=[],o=0;o<this.chunkState.length;o++){var u=this.chunkState[o];if(!(u.done||u.busy)&&(a.push(o),a.length>=e))break}a.length!==0&&Xe(this,FE)[FE](a).then(function(s){a.forEach(function(l){var c=l+1,f={url:s.presignedUrls[c],headers:s.headers};Xe(t,xE)[xE](l,f).then(function(){Xe(t,pu)[pu]()},function(p){Xe(t,ea)[ea](p)})})})}}}function EJe(t){var e=this,r=t.before,n=t.attempt,i=t.after,a=this.options.retryDelays,o=this.abortController.signal;r&&r();function u(l){if(l.source&&typeof l.source.status=="number"){var c=l.source.status;return c===0||c===409||c===423||c>=500&&c<600}return!1}var s=function l(c){return n().catch(function(f){if(Xe(e,Zi)[Zi]())throw(0,fu.createAbortError)();if(u(f)&&c<a.length)return bJe(a[c],{signal:o}).then(function(){return l(c+1)});throw f})};return s(0).then(function(l){return i&&i(),l},function(l){throw i&&i(),l})}function TJe(t){return BE.apply(this,arguments)}function BE(){return BE=TE(regeneratorRuntime.mark(function t(e){var r=this,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.forEach(function(o){r.chunkState[o].busy=!0}),a.next=3,Xe(this,kp)[kp]({attempt:function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,partNumbers:e.map(function(u){return u+1}),chunks:e.reduce(function(u,s){return Wg(Wg({},u),{},xY({},s+1,r.chunks[s]))},{})})}});case 3:if(n=a.sent,Ip(n==null?void 0:n.presignedUrls)==="object"){a.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return a.abrupt("return",n);case 7:case"end":return a.stop()}},t,this)})),BE.apply(this,arguments)}function AJe(t,e){var r=this;return Xe(this,kp)[kp]({before:function(){r.partsInProgress+=1},attempt:function(){return Xe(r,CE)[CE](t,e)},after:function(){r.partsInProgress-=1}})}function IJe(t,e){this.chunkState[t].busy=!0;var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,i=e.headers;if(Xe(this,Zi)[Zi]())throw this.chunkState[t].busy=!1,(0,fu.createAbortError)();return Xe(this,UE)[UE](t,n,i)}function kJe(t,e){this.chunkState[t].uploaded=UY(e);var r=this.chunkState.reduce(function(n,i){return n+i.uploaded},0);this.options.onProgress(r,this.file.size)}function FJe(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}function xJe(t,e,r){var n=this,i=this.chunks[t],a=this.abortController.signal,o,u=new Promise(function(f,p){o={resolve:f,reject:p}}),s=new XMLHttpRequest;s.open("PUT",e,!0),r&&Object.keys(r).forEach(function(f){s.setRequestHeader(f,r[f])}),s.responseType="text";function l(){a.removeEventListener("abort",c)}function c(){s.abort()}return a.addEventListener("abort",c),s.upload.addEventListener("progress",function(f){!f.lengthComputable||Xe(n,Fp)[Fp](t,f.loaded,f.total)}),s.addEventListener("abort",function(){l(),n.chunkState[t].busy=!1,o.reject((0,fu.createAbortError)())}),s.addEventListener("load",function(f){if(l(),n.chunkState[t].busy=!1,f.target.status<200||f.target.status>=300){var p=new Error("Non 2xx");p.source=f.target,o.reject(p);return}n.chunks[t]=null,Xe(n,Fp)[Fp](t,i.size,i.size);var d=f.target.getResponseHeader("ETag");if(d===null){o.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Xe(n,DE)[DE](t,d),o.resolve()}),s.addEventListener("error",function(f){l(),n.chunkState[t].busy=!1;var p=new Error("Unknown error");p.source=f.target,o.reject(p)}),s.send(i),u}function CJe(){return LE.apply(this,arguments)}function LE(){return LE=TE(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(i,a){return i.PartNumber-a.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Xe(this,ea)[ea](n.t0);case 11:case"end":return n.stop()}},t,this,[[1,8]])})),LE.apply(this,arguments)}function DJe(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})},function(){})}function UJe(t){t&&t.name==="AbortError"||this.options.onError(t)}jY.exports=wJe});var HY=h(function(rvt,$Y){"use strict";function Vg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vg=function(r){return typeof r}:Vg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vg(t)}function NY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NY(Object(r),!0).forEach(function(n){jJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NJe(t,e,r){return e&&BY(t.prototype,e),r&&BY(t,r),t}function BJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zE(t,e)}function LJe(t){var e=$Je();return function(){var n=Gg(t),i;if(e){var a=Gg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zJe(this,i)}}function zJe(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return du(t)}function du(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Je(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}var Kg=nr(),HJe=Ka(),WJe=Kr(),LY=bp(),VJe=yp(),GJe=mp(),KJe={version:"2.3.0"},YJe=MY();function xp(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}var zY=function(t){BJe(r,t);var e=LJe(r);function r(n,i){var a;MJe(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"AwsS3Multipart",a.title="AWS S3 Multipart",a.client=new Kg.RequestClient(n,i);var o={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:a.createMultipartUpload.bind(du(a)),listParts:a.listParts.bind(du(a)),prepareUploadParts:a.prepareUploadParts.bind(du(a)),abortMultipartUpload:a.abortMultipartUpload.bind(du(a)),completeMultipartUpload:a.completeMultipartUpload.bind(du(a))};return a.opts=Zr(Zr({},o),i),a.upload=a.upload.bind(du(a)),a.requests=new HJe.RateLimitedQueue(a.opts.limit),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a}return NJe(r,[{key:"resetUploaderReferences",value:function(i,a){a===void 0&&(a={}),this.uploaders[i]&&(this.uploaders[i].abort({really:a.abort||!1}),this.uploaders[i]=null),this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"assertHost",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(i,"` implementation."))}},{key:"createMultipartUpload",value:function(i){this.assertHost("createMultipartUpload");var a={};return Object.keys(i.meta).forEach(function(o){i.meta[o]!=null&&(a[o]=i.meta[o].toString())}),this.client.post("s3/multipart",{filename:i.name,type:i.type,metadata:a}).then(xp)}},{key:"listParts",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("listParts");var s=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"?key=").concat(s)).then(xp)}},{key:"prepareUploadParts",value:function(i,a){var o=a.key,u=a.uploadId,s=a.partNumbers;this.assertHost("prepareUploadParts");var l=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"/batch?key=").concat(l,"&partNumbers=").concat(s.join(","))).then(xp)}},{key:"completeMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId,s=a.parts;this.assertHost("completeMultipartUpload");var l=encodeURIComponent(o),c=encodeURIComponent(u);return this.client.post("s3/multipart/".concat(c,"/complete?key=").concat(l),{parts:s}).then(xp)}},{key:"abortMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("abortMultipartUpload");var s=encodeURIComponent(o),l=encodeURIComponent(u);return this.client.delete("s3/multipart/".concat(l,"?key=").concat(s)).then(xp)}},{key:"uploadFile",value:function(i){var a=this,o=this;return new Promise(function(u,s){var l,c=function(w){var _=a.uppy.getFile(i.id);a.uppy.setFileState(i.id,{s3Multipart:Zr(Zr({},_.s3Multipart),{},{key:w.key,uploadId:w.uploadId})})},f=function(w,_){a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:w,bytesTotal:_})},p=function(w){a.uppy.log(w),a.uppy.emit("upload-error",i,w),l.done(),a.resetUploaderReferences(i.id),s(w)},d=function(w){var _=m,O={body:Zr({},w),uploadURL:w.location};l.done(),a.resetUploaderReferences(i.id);var T=a.uppy.getFile(i.id);a.uppy.emit("upload-success",T||i,O),w.location&&a.uppy.log("Download ".concat(_.file.name," from ").concat(w.location)),u(_)},v=function(w){var _=a.uppy.getFile(i.id);!_||a.uppy.emit("s3-multipart:part-uploaded",_,w)},m=new YJe(i.data,Zr({createMultipartUpload:a.opts.createMultipartUpload.bind(a,i),listParts:a.opts.listParts.bind(a,i),prepareUploadParts:a.opts.prepareUploadParts.bind(a,i),completeMultipartUpload:a.opts.completeMultipartUpload.bind(a,i),abortMultipartUpload:a.opts.abortMultipartUpload.bind(a,i),getChunkSize:a.opts.getChunkSize?a.opts.getChunkSize.bind(a):null,onStart:c,onProgress:f,onError:p,onSuccess:d,onPartComplete:v,limit:a.opts.limit||5,retryDelays:a.opts.retryDelays||[]},i.s3Multipart));a.uploaders[i.id]=m,a.uploaderEvents[i.id]=new LY(a.uppy),l=a.requests.run(function(){return i.isPaused||m.start(),function(){}}),a.onFileRemove(i.id,function(g){l.abort(),a.resetUploaderReferences(i.id,{abort:!0}),u("upload ".concat(g.id," was removed"))}),a.onCancelAll(i.id,function(g){var w=g===void 0?{}:g,_=w.reason;_==="user"&&(l.abort(),o.resetUploaderReferences(i.id,{abort:!0})),u("upload ".concat(i.id," was canceled"))}),a.onFilePause(i.id,function(g){g?(l.abort(),m.pause()):(l.abort(),l=a.requests.run(function(){return m.start(),function(){}}))}),a.onPauseAll(i.id,function(){l.abort(),m.pause()}),a.onResumeAll(i.id,function(){l.abort(),i.error&&m.abort(),l=a.requests.run(function(){return m.start(),function(){}})}),(!i.progress.uploadStarted||!i.isRestored)&&a.uppy.emit("upload-started",i)})}},{key:"uploadRemote",value:function(i){var a=this;return this.resetUploaderReferences(i.id),(!i.progress.uploadStarted||!i.isRestored)&&this.uppy.emit("upload-started",i),i.serverToken?this.connectToServerSocket(i):new Promise(function(o,u){var s=i.remote.providerOptions.provider?Kg.Provider:Kg.RequestClient,l=new s(a.uppy,i.remote.providerOptions);l.post(i.remote.url,Zr(Zr({},i.remote.body),{},{protocol:"s3-multipart",size:i.data.size,metadata:i.meta})).then(function(c){return a.uppy.setFileState(i.id,{serverToken:c.token}),i=a.uppy.getFile(i.id),a.connectToServerSocket(i)}).then(function(){o()}).catch(function(c){a.uppy.emit("upload-error",i,c),u(c)})})}},{key:"connectToServerSocket",value:function(i){var a=this,o=this;return new Promise(function(u,s){var l,c=i.serverToken,f=GJe(i.remote.companionUrl),p=new Kg.Socket({target:"".concat(f,"/api/").concat(c),autoOpen:!1});a.uploaderSockets[i.id]=p,a.uploaderEvents[i.id]=new LY(a.uppy),a.onFileRemove(i.id,function(){l.abort(),p.send("cancel",{}),a.resetUploaderReferences(i.id,{abort:!0}),u("upload ".concat(i.id," was removed"))}),a.onFilePause(i.id,function(d){d?(l.abort(),p.send("pause",{})):(l.abort(),l=a.requests.run(function(){return p.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){l.abort(),p.send("pause",{})}),a.onCancelAll(i.id,function(d){var v=d===void 0?{}:d,m=v.reason;m==="user"&&(l.abort(),p.send("cancel",{}),o.resetUploaderReferences(i.id)),u("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){l.abort(),i.error&&p.send("pause",{}),l=a.requests.run(function(){p.send("resume",{})})}),a.onRetry(i.id,function(){p.isOpen&&(p.send("pause",{}),p.send("resume",{}))}),a.onRetryAll(i.id,function(){p.isOpen&&(p.send("pause",{}),p.send("resume",{}))}),p.on("progress",function(d){return VJe(a,d,i)}),p.on("error",function(d){a.uppy.emit("upload-error",i,new Error(d.error)),a.resetUploaderReferences(i.id),l.done(),s(new Error(d.error))}),p.on("success",function(d){var v={uploadURL:d.url};a.uppy.emit("upload-success",i,v),a.resetUploaderReferences(i.id),l.done(),u()}),l=a.requests.run(function(){return p.open(),i.isPaused&&p.send("pause",{}),function(){}})})}},{key:"upload",value:function(i){var a=this;if(i.length===0)return Promise.resolve();var o=i.map(function(u){var s=a.uppy.getFile(u);return s.isRemote?a.uploadRemote(s):a.uploadFile(s)});return Promise.all(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onFilePause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a.apply(void 0,arguments)})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"install",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Zr(Zr({},a),{},{resumableUploads:!0})}),this.uppy.addUploader(this.upload)}},{key:"uninstall",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Zr(Zr({},a),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.upload)}}]),r}(WJe);zY.VERSION=KJe.version;$Y.exports=zY});var WY=h(function(Xg,ol){function Yg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yg=function(r){return typeof r}:Yg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yg(t)}(function(t,e){(typeof Xg=="undefined"?"undefined":Yg(Xg))==="object"&&typeof ol!="undefined"?ol.exports=e(t):typeof define=="function"&&define.amd?define(e):e(t)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:Xg,function(t){"use strict";t=t||{};var e=t.Base64,r="2.6.4",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(X){for(var A={},I=0,L=X.length;I<L;I++)A[X.charAt(I)]=I;return A}(n),a=String.fromCharCode,o=function(A){if(A.length<2){var I=A.charCodeAt(0);return I<128?A:I<2048?a(192|I>>>6)+a(128|I&63):a(224|I>>>12&15)+a(128|I>>>6&63)+a(128|I&63)}else{var I=65536+(A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320);return a(240|I>>>18&7)+a(128|I>>>12&63)+a(128|I>>>6&63)+a(128|I&63)}},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(A){return A.replace(u,o)},l=function(A){var I=[0,2,1][A.length%3],L=A.charCodeAt(0)<<16|(A.length>1?A.charCodeAt(1):0)<<8|(A.length>2?A.charCodeAt(2):0),D=[n.charAt(L>>>18),n.charAt(L>>>12&63),I>=2?"=":n.charAt(L>>>6&63),I>=1?"=":n.charAt(L&63)];return D.join("")},c=t.btoa&&typeof t.btoa=="function"?function(X){return t.btoa(X)}:function(X){if(X.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return X.replace(/[\s\S]{1,3}/g,l)},f=function(A){return c(s(String(A)))},p=function(A){return A.replace(/[+\/]/g,function(I){return I=="+"?"-":"_"}).replace(/=/g,"")},d=function(A,I){return I?p(f(A)):f(A)},v=function(A){return d(A,!0)},m;t.Uint8Array&&(m=function(A,I){for(var L="",D=0,U=A.length;D<U;D+=3){var B=A[D],ee=A[D+1],ce=A[D+2],ue=B<<16|ee<<8|ce;L+=n.charAt(ue>>>18)+n.charAt(ue>>>12&63)+(typeof ee!="undefined"?n.charAt(ue>>>6&63):"=")+(typeof ce!="undefined"?n.charAt(ue&63):"=")}return I?p(L):L});var g=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,w=function(A){switch(A.length){case 4:var I=(7&A.charCodeAt(0))<<18|(63&A.charCodeAt(1))<<12|(63&A.charCodeAt(2))<<6|63&A.charCodeAt(3),L=I-65536;return a((L>>>10)+55296)+a((L&1023)+56320);case 3:return a((15&A.charCodeAt(0))<<12|(63&A.charCodeAt(1))<<6|63&A.charCodeAt(2));default:return a((31&A.charCodeAt(0))<<6|63&A.charCodeAt(1))}},_=function(A){return A.replace(g,w)},O=function(A){var I=A.length,L=I%4,D=(I>0?i[A.charAt(0)]<<18:0)|(I>1?i[A.charAt(1)]<<12:0)|(I>2?i[A.charAt(2)]<<6:0)|(I>3?i[A.charAt(3)]:0),U=[a(D>>>16),a(D>>>8&255),a(D&255)];return U.length-=[0,0,2,1][L],U.join("")},T=t.atob&&typeof t.atob=="function"?function(X){return t.atob(X)}:function(X){return X.replace(/\S{1,4}/g,O)},C=function(A){return T(String(A).replace(/[^A-Za-z0-9\+\/]/g,""))},F=function(A){return _(T(A))},$=function(A){return String(A).replace(/[-_]/g,function(I){return I=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},G=function(A){return F($(A))},q;t.Uint8Array&&(q=function(A){return Uint8Array.from(C($(A)),function(I){return I.charCodeAt(0)})});var j=function(){var A=t.Base64;return t.Base64=e,A};if(t.Base64={VERSION:r,atob:C,btoa:c,fromBase64:G,toBase64:d,utob:s,encode:d,encodeURI:v,btou:_,decode:G,noConflict:j,fromUint8Array:m,toUint8Array:q},typeof Object.defineProperty=="function"){var Q=function(A){return{value:A,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",Q(function(){return G(this)})),Object.defineProperty(String.prototype,"toBase64",Q(function(X){return d(this,X)})),Object.defineProperty(String.prototype,"toBase64URI",Q(function(){return d(this,!0)}))}}return t.Meteor&&(Base64=t.Base64),typeof ol!="undefined"&&ol.exports?ol.exports.Base64=t.Base64:typeof define=="function"&&define.amd&&define([],function(){return t.Base64}),{Base64:t.Base64}})});var GY=h(function(nvt,VY){"use strict";VY.exports=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var XY=h(function($E){"use strict";var XJe=Object.prototype.hasOwnProperty,JJe;function KY(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function YY(t){try{return encodeURIComponent(t)}catch(e){return null}}function QJe(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=KY(n[1]),a=KY(n[2]);i===null||a===null||i in r||(r[i]=a)}return r}function ZJe(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(XJe.call(t,i)){if(n=t[i],!n&&(n===null||n===JJe||isNaN(n))&&(n=""),i=YY(i),n=YY(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}$E.stringify=ZJe;$E.parse=QJe});var rX=h(function(avt,tX){"use strict";function ul(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ul=function(r){return typeof r}:ul=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ul(t)}var JY=GY(),Jg=XY(),eQe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,tQe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,rQe=/^[a-zA-Z]:/,nQe="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",iQe=new RegExp("^"+nQe+"+");function HE(t){return(t||"").toString().replace(iQe,"")}var WE=[["#","hash"],["?","query"],function(e,r){return ta(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],QY={hash:1,query:1};function ZY(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=ul(t),a;if(t.protocol==="blob:")n=new ii(unescape(t.pathname),{});else if(i==="string"){n=new ii(t,{});for(a in QY)delete n[a]}else if(i==="object"){for(a in t)a in QY||(n[a]=t[a]);n.slashes===void 0&&(n.slashes=eQe.test(t.href))}return n}function ta(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function eX(t,e){t=HE(t),e=e||{};var r=tQe.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],o=0,u;return i?a?(u=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(u=r[2]+r[4],o=r[2].length):a?(u=r[3]+r[4],o=r[3].length):u=r[4],n==="file:"?o>=2&&(u=u.slice(2)):ta(n)?u=r[4]:n?i&&(u=u.slice(2)):o>=2&&ta(e.protocol)&&(u=r[4]),{protocol:n,slashes:i||ta(n),slashesCount:o,rest:u}}function aQe(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],a=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(a=!0),r.splice(n,1),o--);return a&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function ii(t,e,r){if(t=HE(t),!(this instanceof ii))return new ii(t,e,r);var n,i,a,o,u,s,l=WE.slice(),c=ul(e),f=this,p=0;for(c!=="object"&&c!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=Jg.parse),e=ZY(e),i=eX(t||"",e),n=!i.protocol&&!i.slashes,f.slashes=i.slashes||n&&e.slashes,f.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||rQe.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!ta(f.protocol)))&&(l[3]=[/(.*)/,"pathname"]);p<l.length;p++){if(o=l[p],typeof o=="function"){t=o(t,f);continue}a=o[0],s=o[1],a!==a?f[s]=t:typeof a=="string"?~(u=t.indexOf(a))&&(typeof o[2]=="number"?(f[s]=t.slice(0,u),t=t.slice(u+o[2])):(f[s]=t.slice(u),t=t.slice(0,u))):(u=a.exec(t))&&(f[s]=u[1],t=t.slice(0,u.index)),f[s]=f[s]||n&&o[3]&&e[s]||"",o[4]&&(f[s]=f[s].toLowerCase())}r&&(f.query=r(f.query)),n&&e.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||e.pathname!=="")&&(f.pathname=aQe(f.pathname,e.pathname)),f.pathname.charAt(0)!=="/"&&ta(f.protocol)&&(f.pathname="/"+f.pathname),JY(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(o=f.auth.split(":"),f.username=o[0]||"",f.password=o[1]||""),f.origin=f.protocol!=="file:"&&ta(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function oQe(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||Jg.parse)(e)),n[t]=e;break;case"port":n[t]=e,JY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;default:n[t]=e}for(var a=0;a<WE.length;a++){var o=WE[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&ta(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function uQe(t){(!t||typeof t!="function")&&(t=Jg.stringify);var e,r=this,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(r.slashes||ta(r.protocol)?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,e=ul(r.query)==="object"?t(r.query):r.query,e&&(i+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(i+=r.hash),i}ii.prototype={set:oQe,toString:uQe};ii.extractProtocol=eX;ii.location=ZY;ii.trimLeft=HE;ii.qs=Jg;tX.exports=ii});var iX=h(function(eb){"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.default=void 0;function Qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qg=function(r){return typeof r}:Qg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qg(t)}function sQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cp(t,e)}function cQe(t){return function(){var e=Dp(t),r;if(nX()){var n=Dp(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return fQe(this,r)}}function fQe(t,e){return e&&(Qg(e)==="object"||typeof e=="function")?e:pQe(t)}function pQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VE(t){var e=typeof Map=="function"?new Map:void 0;return VE=function(n){if(n===null||!dQe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Zg(n,arguments,Dp(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Cp(i,n)},VE(t)}function Zg(t,e,r){return nX()?Zg=Reflect.construct:Zg=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Cp(l,o.prototype),l},Zg.apply(null,arguments)}function nX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function dQe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Cp(t,e){return Cp=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cp(t,e)}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(t)}var hQe=function(t){lQe(r,t);var e=cQe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(sQe(this,r),i=e.call(this,n),i.originalRequest=o,i.originalResponse=u,i.causingError=a,a!=null&&(n+=", caused by ".concat(a.toString())),o!=null){var s=o.getHeader("X-Request-ID")||"n/a",l=o.getMethod(),c=o.getURL(),f=u?u.getStatus():"n/a",p=u?u.getBody()||"":"n/a";n+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(f,", response text: ").concat(p,", request id: ").concat(s,")")}return i.message=n,i}return r}(VE(Error)),vQe=hQe;eb.default=vQe});var GE=h(function(tb){"use strict";Object.defineProperty(tb,"__esModule",{value:!0});tb.enableDebugLog=yQe;tb.log=mQe;var aX=!1;function yQe(){aX=!0}function mQe(t){!aX||console.log(t)}});var oX=h(function(KE){"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.default=gQe;function gQe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}});var vX=h(function(nb){"use strict";Object.defineProperty(nb,"__esModule",{value:!0});nb.default=void 0;var bQe=WY(),_Qe=YE(rX()),rb=YE(iX()),hu=GE(),wQe=YE(oX());function YE(t){return t&&t.__esModule?t:{default:t}}function uX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uX(Object(r),!0).forEach(function(n){SQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PQe(t,e,r){return e&&sX(t.prototype,e),r&&sX(t,r),t}var RQe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},lX=function(){function t(e,r){OQe(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return PQe(t,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var i=this.options.retryDelays;if(i!=null&&Object.prototype.toString.call(i)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(a){r.options[a]&&r._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")))}),this.options.fingerprint(n,this.options).then(function(a){return a==null?(0,hu.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,hu.log)("Calculated fingerprint: ".concat(a)),r._fingerprint=a,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(a){r._source=a,r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(a){r._emitError(a)})}},{key:"_startParallelUpload",value:function(){var r=this,n=this._size=this._source.size,i=0;this._parallelUploads=[];var a=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,o=EQe(this._source.size,a,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var u=o.map(function(l,c){var f=0;return r._source.slice(l.start,l.end).then(function(p){var d=p.value;return new Promise(function(v,m){var g=XE({},r.options,{uploadUrl:l.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:XE({},r.options.headers,{"Upload-Concat":"partial"}),onSuccess:v,onError:m,onProgress:function(O){i=i-f+O,f=O,r._emitProgress(i,n)},_onUploadUrlAvailable:function(){r._parallelUploadUrls[c]=w.url,r._parallelUploadUrls.filter(function(O){return!!O}).length===o.length&&r._saveUploadInUrlStorage()}}),w=new t(d,g);w.start(),r._parallelUploads.push(w)})})}),s;Promise.all(u).then(function(){s=r._openRequest("POST",r.options.endpoint),s.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var l=cX(r.options.metadata);return l!==""&&s.setHeader("Upload-Metadata",l),r._sendRequest(s,null)}).then(function(l){if(!sl(l.getStatus(),200)){r._emitHttpError(s,l,"tus: unexpected response while creating upload");return}var c=l.getHeader("Location");if(c==null){r._emitHttpError(s,l,"tus: invalid or missing Location header");return}r.url=hX(r.options.endpoint,c),(0,hu.log)("Created upload at ".concat(r.url)),r._emitSuccess()}).catch(function(l){r._emitError(l)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}if(this._aborted=!1,this.url!=null){(0,hu.log)("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){(0,hu.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return}(0,hu.log)("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(r){var n=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(i){i.abort(r)}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,i,a){this._emitError(new rb.default(i,a,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var i=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(i&&(this._retryAttempt=0),dX(r,this._retryAttempt,this.options)){var a=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},a);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,i){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,i)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var i=cX(this.options.metadata);i!==""&&n.setHeader("Upload-Metadata",i);var a;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,a=this._addChunkToRequest(n)):a=this._sendRequest(n,null),a.then(function(o){if(!sl(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while creating upload");return}var u=o.getHeader("Location");if(u==null){r._emitHttpError(n,o,"tus: invalid or missing Location header");return}if(r.url=hX(r.options.endpoint,u),(0,hu.log)("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage(),r.options.uploadDataDuringCreation?r._handleUploadResponse(n,o):(r._offset=0,r._performUpload())}).catch(function(o){r._emitHttpError(n,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),i=this._sendRequest(n,null);i.then(function(a){var o=a.getStatus();if(!sl(o,200)){if(sl(o,400)&&r._removeFromUrlStorage(),o===423){r._emitHttpError(n,a,"tus: upload is currently locked; retry later");return}if(!r.options.endpoint){r._emitHttpError(n,a,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var u=parseInt(a.getHeader("Upload-Offset"),10);if(isNaN(u)){r._emitHttpError(n,a,"tus: invalid or missing offset value");return}var s=parseInt(a.getHeader("Upload-Length"),10);if(isNaN(s)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,a,"tus: invalid or missing length value");return}if(typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),u===s){r._emitProgress(s,s),r._emitSuccess();return}r._offset=u,r._performUpload()}).catch(function(a){r._emitHttpError(n,null,"tus: failed to resume upload",a)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var i=this._addChunkToRequest(n);i.then(function(a){if(!sl(a.getStatus(),200)){r._emitHttpError(n,a,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,a)}).catch(function(a){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),a)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,i=this._offset,a=this._offset+this.options.chunkSize;return r.setProgressHandler(function(o){n._emitProgress(i+o,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(a===1/0||a>this._size)&&!this.options.uploadLengthDeferred&&(a=this._size),this._source.slice(i,a).then(function(o){var u=o.value,s=o.done;return n.options.uploadLengthDeferred&&s&&(n._size=n._offset+(u&&u.size?u.size:0),r.setHeader("Upload-Length",n._size)),u===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,u))})}},{key:"_handleUploadResponse",value:function(r,n){var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i==this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var i=fX(r,n,this.options);return this._req=i,i}},{key:"_removeFromUrlStorage",value:function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(i){return r._urlStorageKey=i}).catch(function(i){r._emitError(i)})}}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return pX(r,n,this.options)}}],[{key:"terminate",value:function(r,n){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");n===void 0&&(n={});var i=fX("DELETE",r,n);return pX(i,null,n).then(function(a){if(a.getStatus()!==204)throw new rb.default("tus: unexpected response while terminating upload",null,i,a)}).catch(function(a){if(a instanceof rb.default||(a=new rb.default("tus: failed to terminate upload",a,i,null)),!dX(a,0,n))throw a;var o=n.retryDelays[0],u=n.retryDelays.slice(1),s=XE({},n,{retryDelays:u});return new Promise(function(l){return setTimeout(l,o)}).then(function(){return t.terminate(r,s)})})}}]),t}();function cX(t){var e=[];for(var r in t)e.push("".concat(r," ").concat(bQe.Base64.encode(t[r])));return e.join(",")}function sl(t,e){return t>=e&&t<e+100}function fX(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var i=r.headers||{};for(var a in i)n.setHeader(a,i[a]);if(r.addRequestId){var o=(0,wQe.default)();n.setHeader("X-Request-ID",o)}return n}function pX(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(i){var a=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,i)):Promise.resolve();return a.then(function(){return i})})})}function qQe(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}function dX(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!sl(n,400)||n===409||n===423)&&qQe()}function hX(t,e){return new _Qe.default(e,t).toString()}function EQe(t,e,r){for(var n=Math.floor(t/e),i=[],a=0;a<e;a++)i.push({start:n*a,end:n*(a+1)});return i[e-1].end=t,r&&i.forEach(function(o,u){o.uploadUrl=r[u]||null}),i}lX.defaultOptions=RQe;var TQe=lX;nb.default=TQe});var mX=h(function(ib){"use strict";Object.defineProperty(ib,"__esModule",{value:!0});ib.default=void 0;function AQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IQe(t,e,r){return e&&yX(t.prototype,e),r&&yX(t,r),t}var kQe=function(){function t(){AQe(this,t)}return IQe(t,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),t}();ib.default=kQe});var bX=h(function(ll){"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.WebStorageUrlStorage=ll.canStoreURLs=void 0;function FQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xQe(t,e,r){return e&&gX(t.prototype,e),r&&gX(t,r),t}var JE=!1;try{JE="localStorage"in window,QE="tusSupport",localStorage.setItem(QE,localStorage.getItem(QE))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)JE=!1;else throw t}var QE,CQe=JE;ll.canStoreURLs=CQe;var DQe=function(){function t(){FQe(this,t)}return xQe(t,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var i=Math.round(Math.random()*1e12),a="tus::".concat(r,"::").concat(i);return localStorage.setItem(a,JSON.stringify(n)),Promise.resolve(a)}},{key:"_findEntries",value:function(r){for(var n=[],i=0;i<localStorage.length;i++){var a=localStorage.key(i);if(a.indexOf(r)===0)try{var o=JSON.parse(localStorage.getItem(a));o.urlStorageKey=a,n.push(o)}catch(u){}}return n}}]),t}();ll.WebStorageUrlStorage=DQe});var wX=h(function(ab){"use strict";Object.defineProperty(ab,"__esModule",{value:!0});ab.default=void 0;function ZE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eT(t,e,r){return e&&_X(t.prototype,e),r&&_X(t,r),t}var UQe=function(){function t(){ZE(this,t)}return eT(t,[{key:"createRequest",value:function(r,n){return new jQe(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}();ab.default=UQe;var jQe=function(){function t(e,r){ZE(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return eT(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(i,a){r._xhr.onload=function(){i(new MQe(r._xhr))},r._xhr.onerror=function(o){a(o)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),MQe=function(){function t(e){ZE(this,t),this._xhr=e}return eT(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}()});var tT=h(function(ob){"use strict";Object.defineProperty(ob,"__esModule",{value:!0});ob.default=void 0;var NQe=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},BQe=NQe;ob.default=BQe});var SX=h(function(rT){"use strict";Object.defineProperty(rT,"__esModule",{value:!0});rT.default=LQe;function LQe(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var i=n.response;e(i)},n.onerror=function(i){r(i)},n.open("GET",t),n.send()})}});var OX=h(function(ub){"use strict";Object.defineProperty(ub,"__esModule",{value:!0});ub.default=void 0;var zQe=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},$Qe=zQe;ub.default=$Qe});var PX=h(function(nT){"use strict";Object.defineProperty(nT,"__esModule",{value:!0});nT.default=HQe;function HQe(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var i=new Uint8Array(n.result);e({value:i})},n.onerror=function(i){r(i)},n.readAsArrayBuffer(t)})}});var TX=h(function(lb){"use strict";Object.defineProperty(lb,"__esModule",{value:!0});lb.default=void 0;var WQe=sb(tT()),VQe=sb(SX()),GQe=sb(OX()),KQe=sb(PX());function sb(t){return t&&t.__esModule?t:{default:t}}function iT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aT(t,e,r){return e&&RX(t.prototype,e),r&&RX(t,r),t}var qX=function(){function t(e){iT(this,t),this._file=e,this.size=e.size}return aT(t,[{key:"slice",value:function(r,n){if((0,GQe.default)())return(0,KQe.default)(this._file.slice(r,n));var i=this._file.slice(r,n);return Promise.resolve({value:i})}},{key:"close",value:function(){}}]),t}(),YQe=function(){function t(e,r){iT(this,t),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return aT(t,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var i=this,a=n<=this._bufferOffset+EX(this._buffer);if(this._done||a){var o=this._getDataFromBuffer(r,n),u=o==null?this._done:!1;return Promise.resolve({value:o,done:u})}return this._reader.read().then(function(s){var l=s.value,c=s.done;return c?i._done=!0:i._buffer===void 0?i._buffer=l:i._buffer=XQe(i._buffer,l),i._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var i=EX(this._buffer)===0;return this._done&&i?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function EX(t){return t===void 0?0:t.size!==void 0?t.size:t.length}function XQe(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}var JQe=function(){function t(){iT(this,t)}return aT(t,[{key:"openFile",value:function(r,n){return(0,WQe.default)()&&r&&typeof r.uri!="undefined"?(0,VQe.default)(r.uri).then(function(i){return new qX(i)}).catch(function(i){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(i))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new qX(r)):typeof r.read=="function"?(n=+n,isFinite(n)?Promise.resolve(new YQe(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),t}();lb.default=JQe});var AX=h(function(oT){"use strict";Object.defineProperty(oT,"__esModule",{value:!0});oT.default=eZe;var QQe=ZQe(tT());function ZQe(t){return t&&t.__esModule?t:{default:t}}function eZe(t,e){return(0,QQe.default)()?Promise.resolve(tZe(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}function tZe(t,e){var r=t.exif?rZe(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}function rZe(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}});var pT=h(function(In){"use strict";Object.defineProperty(In,"__esModule",{value:!0});Object.defineProperty(In,"enableDebugLog",{enumerable:!0,get:function(){return iZe.enableDebugLog}});Object.defineProperty(In,"canStoreURLs",{enumerable:!0,get:function(){return sT.canStoreURLs}});Object.defineProperty(In,"HttpStack",{enumerable:!0,get:function(){return IX.default}});In.isSupported=In.defaultOptions=In.Upload=void 0;var uT=Up(vX()),nZe=Up(mX()),iZe=GE(),sT=bX(),IX=Up(wX()),aZe=Up(TX()),oZe=Up(AX());function Up(t){return t&&t.__esModule?t:{default:t}}function cb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cb=function(r){return typeof r}:cb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cb(t)}function uZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sZe(t,e,r){return e&&kX(t.prototype,e),r&&kX(t,r),t}function lZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},lT(t,e)}function cZe(t){return function(){var e=fb(t),r;if(dZe()){var n=fb(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return fZe(this,r)}}function fZe(t,e){return e&&(cb(e)==="object"||typeof e=="function")?e:pZe(t)}function pZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(t)}function FX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FX(Object(r),!0).forEach(function(n){hZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fT=cT({},uT.default.defaultOptions,{httpStack:new IX.default,fileReader:new aZe.default,urlStorage:sT.canStoreURLs?new sT.WebStorageUrlStorage:new nZe.default,fingerprint:oZe.default});In.defaultOptions=fT;var vZe=function(t){lZe(r,t);var e=cZe(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return uZe(this,r),i=cT({},fT,{},i),e.call(this,n,i)}return sZe(r,null,[{key:"terminate",value:function(i,a,o){return a=cT({},fT,{},a),uT.default.terminate(i,a,o)}}]),r}(uT.default);In.Upload=vZe;var xX=window,yZe=xX.XMLHttpRequest,CX=xX.Blob,mZe=yZe&&CX&&typeof CX.prototype.slice=="function";In.isSupported=mZe});var dT=h(function(_vt,DX){DX.exports=function(e){var r=[],n=[];function i(u){r.push(u)}function a(u){n.push(u)}var o=Promise.all(e.map(function(u){return u.then(i,a)}));return o.then(function(){return{successful:r,failed:n}})}});var jX=h(function(wvt,UX){"use strict";var gZe=pT();function bZe(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}function _Ze(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}function wZe(t){return function(e,r){if(bZe()||_Ze())return gZe.defaultOptions.fingerprint(e,r);var n=["tus",t.id,r.endpoint].join("-");return Promise.resolve(n)}}UX.exports=wZe});var mT=h(function(Svt,WX){"use strict";function pb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pb=function(r){return typeof r}:pb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pb(t)}function MX(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function SZe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){MX(a,n,i,o,u,"next",s)}function u(s){MX(a,n,i,o,u,"throw",s)}o(void 0)})}}function NX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NX(Object(r),!0).forEach(function(n){OZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function RZe(t,e,r){return e&&BX(t.prototype,e),r&&BX(t,r),t}function qZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hT(t,e)}function EZe(t){var e=AZe();return function(){var n=db(t),i;if(e){var a=db(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return TZe(this,i)}}function TZe(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jp(t)}function jp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AZe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},db(t)}var IZe=pT(),vT=nr(),kZe=Ka();function LX(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var FZe=0;function xZe(t){return"__private_"+FZe+++"_"+t}var CZe=Kr(),DZe=yp(),UZe=mp(),jZe=dT(),zX=bp(),MZe=Cs(),NZe=Lg(),yT=Ts(),BZe=jX(),LZe={version:"2.3.0"},$X={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Mp=xZe("retryDelayIterator"),HX=function(t){qZe(r,t);var e=EZe(r);function r(n,i){var a;PZe(this,r);var o,u;a=e.call(this,n,i),Object.defineProperty(jp(a),Mp,{writable:!0,value:void 0}),a.type="uploader",a.id=a.opts.id||"Tus",a.title="Tus";var s={useFastRemoteRetry:!0,limit:20,retryDelays:$X.retryDelays,withCredentials:!1};if(a.opts=Ot(Ot({},s),i),"autoRetry"in i)throw new Error("The `autoRetry` option was deprecated and has been removed.");return a.requests=(o=a.opts.rateLimitedQueue)!=null?o:new kZe.RateLimitedQueue(a.opts.limit),LX(jp(a),Mp)[Mp]=(u=a.opts.retryDelays)==null?void 0:u.values(),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a.handleResetProgress=a.handleResetProgress.bind(jp(a)),a.handleUpload=a.handleUpload.bind(jp(a)),a}return RZe(r,[{key:"handleResetProgress",value:function(){var i=Ot({},this.uppy.getState().files);Object.keys(i).forEach(function(a){if(i[a].tus&&i[a].tus.uploadUrl){var o=Ot({},i[a].tus);delete o.uploadUrl,i[a]=Ot(Ot({},i[a]),{},{tus:o})}}),this.uppy.setState({files:i})}},{key:"resetUploaderReferences",value:function(i,a){if(a===void 0&&(a={}),this.uploaders[i]){var o=this.uploaders[i];o.abort(),a.abort&&o.abort(!0),this.uploaders[i]=null}this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"upload",value:function(i){var a=this,o=this;return this.resetUploaderReferences(i.id),new Promise(function(u,s){var l,c,f;a.uppy.emit("upload-started",i);var p=Ot(Ot({},a.opts),i.tus||{});typeof p.headers=="function"&&(p.headers=p.headers(i));var d=Ot(Ot({},$X),p);d.fingerprint=BZe(i),d.onBeforeRequest=function(_){var O=_.getUnderlyingObject();O.withCredentials=!!p.withCredentials;var T;if(typeof p.onBeforeRequest=="function"&&(T=p.onBeforeRequest(_)),yT(l,"shouldBeRequeued")){if(!l.shouldBeRequeued)return Promise.reject();var C,F=new Promise(function($){C=$});return l=a.requests.run(function(){return i.isPaused&&l.abort(),C(),function(){}}),Promise.all([F,T])}return T},d.onError=function(_){a.uppy.log(_);var O=_.originalRequest?_.originalRequest.getUnderlyingObject():null;NZe(O)&&(_=new MZe(_,O)),a.resetUploaderReferences(i.id),l.abort(),a.uppy.emit("upload-error",i,_),s(_)},d.onProgress=function(_,O){a.onReceiveUploadUrl(i,f.url),a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:_,bytesTotal:O})},d.onSuccess=function(){var _={uploadURL:f.url};a.resetUploaderReferences(i.id),l.done(),a.uppy.emit("upload-success",i,_),f.url&&a.uppy.log("Download ".concat(f.file.name," from ").concat(f.url)),u(f)};var v=function(O){var T,C=O==null||(T=O.originalResponse)==null?void 0:T.getStatus();if(C===429){if(!a.requests.isPaused){var F,$=(F=LX(a,Mp)[Mp])==null?void 0:F.next();if($==null||$.done)return!1;a.requests.rateLimit($.value)}}else{if(C>400&&C<500&&C!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(a.requests.isPaused||(a.requests.pause(),window.addEventListener("online",function(){a.requests.resume()},{once:!0})))}return l.abort(),l={shouldBeRequeued:!0,abort:function(){this.shouldBeRequeued=!1},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn:function(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};p.onShouldRetry!=null?d.onShouldRetry=function(){for(var _=arguments.length,O=new Array(_),T=0;T<_;T++)O[T]=arguments[T];return p.onShouldRetry.apply(p,O.concat([v]))}:d.onShouldRetry=v;var m=function(O,T,C){yT(O,T)&&!yT(O,C)&&(O[C]=O[T])},g={},w=Array.isArray(p.metaFields)?p.metaFields:Object.keys(i.meta);w.forEach(function(_){g[_]=i.meta[_]}),m(g,"type","filetype"),m(g,"name","filename"),d.metadata=g,f=new IZe.Upload(i.data,d),a.uploaders[i.id]=f,a.uploaderEvents[i.id]=new zX(a.uppy),c=function(){return i.isPaused||f.start(),function(){}},f.findPreviousUploads().then(function(_){var O=_[0];O&&(a.uppy.log("[Tus] Resuming upload of ".concat(i.id," started at ").concat(O.creationTime)),f.resumeFromPreviousUpload(O))}),l=a.requests.run(c),a.onFileRemove(i.id,function(_){l.abort(),a.resetUploaderReferences(i.id,{abort:!!f.url}),u("upload ".concat(_," was removed"))}),a.onPause(i.id,function(_){l.abort(),_?f.abort():l=a.requests.run(c)}),a.onPauseAll(i.id,function(){l.abort(),f.abort()}),a.onCancelAll(i.id,function(_){var O=_===void 0?{}:_,T=O.reason;T==="user"&&(l.abort(),o.resetUploaderReferences(i.id,{abort:!!f.url})),u("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){l.abort(),i.error&&f.abort(),l=a.requests.run(c)})}).catch(function(u){throw a.uppy.emit("upload-error",i,u),u})}},{key:"uploadRemote",value:function(){var n=SZe(regeneratorRuntime.mark(function a(o){var u,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.resetUploaderReferences(o.id),u=Ot({},this.opts),o.tus&&Object.assign(u,o.tus),this.uppy.emit("upload-started",o),this.uppy.log(o.remote.url),!o.serverToken){p.next=9;break}return p.next=8,this.connectToServerSocket(o);case 8:return p.abrupt("return");case 9:return s=o.remote.providerOptions.provider?vT.Provider:vT.RequestClient,l=new s(this.uppy,o.remote.providerOptions),p.prev=11,p.next=14,l.post(o.remote.url,Ot(Ot({},o.remote.body),{},{endpoint:u.endpoint,uploadUrl:u.uploadUrl,protocol:"tus",size:o.data.size,headers:u.headers,metadata:o.meta}));case 14:return c=p.sent,this.uppy.setFileState(o.id,{serverToken:c.token}),p.next=18,this.connectToServerSocket(this.uppy.getFile(o.id));case 18:p.next=24;break;case 20:throw p.prev=20,p.t0=p.catch(11),this.uppy.emit("upload-error",o,p.t0),p.t0;case 24:case"end":return p.stop()}},a,this,[[11,20]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"connectToServerSocket",value:function(i){var a=this,o=this;return new Promise(function(u,s){var l=i.serverToken,c=UZe(i.remote.companionUrl),f=new vT.Socket({target:"".concat(c,"/api/").concat(l),autoOpen:!1});a.uploaderSockets[i.id]=f,a.uploaderEvents[i.id]=new zX(a.uppy);var p;a.onFileRemove(i.id,function(){p.abort(),f.send("cancel",{}),a.resetUploaderReferences(i.id),u("upload ".concat(i.id," was removed"))}),a.onPause(i.id,function(d){d?(p.abort(),f.send("pause",{})):(p.abort(),p=a.requests.run(function(){return f.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){p.abort(),f.send("pause",{})}),a.onCancelAll(i.id,function(d){var v=d===void 0?{}:d,m=v.reason;m==="user"&&(p.abort(),f.send("cancel",{}),o.resetUploaderReferences(i.id)),u("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){p.abort(),i.error&&f.send("pause",{}),p=a.requests.run(function(){return f.send("resume",{}),function(){}})}),a.onRetry(i.id,function(){f.isOpen&&(f.send("pause",{}),f.send("resume",{}))}),a.onRetryAll(i.id,function(){f.isOpen&&(f.send("pause",{}),f.send("resume",{}))}),f.on("progress",function(d){return DZe(a,d,i)}),f.on("error",function(d){var v=d.error.message,m=Object.assign(new Error(v),{cause:d.error});a.opts.useFastRemoteRetry?f.close():(a.resetUploaderReferences(i.id),a.uppy.setFileState(i.id,{serverToken:null})),a.uppy.emit("upload-error",i,m),p.done(),s(m)}),f.on("success",function(d){var v={uploadURL:d.url};a.uppy.emit("upload-success",i,v),a.resetUploaderReferences(i.id),p.done(),u()}),p=a.requests.run(function(){return f.open(),i.isPaused&&f.send("pause",{}),function(){}})})}},{key:"onReceiveUploadUrl",value:function(i,a){var o=this.uppy.getFile(i.id);!o||(!o.tus||o.tus.uploadUrl!==a)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(o.id,{tus:Ot(Ot({},o.tus),{},{uploadUrl:a})}))}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onPause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a.apply(void 0,arguments)})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=s+1,c=i.length;return"error"in u&&u.error?Promise.reject(new Error(u.error)):u.isRemote?((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.uploadRemote(u,l,c)):((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.upload(u,l,c))});return jZe(o)}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var o=i.map(function(u){return a.uppy.getFile(u)});return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){this.uppy.setState({capabilities:Ot(Ot({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}},{key:"uninstall",value:function(){this.uppy.setState({capabilities:Ot(Ot({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)}}]),r}(CZe);HX.VERSION=LZe.version;WX.exports=HX});var bT=h(function(Ovt,gT){typeof gT!="undefined"&&(gT.exports=xr);function xr(t){if(t)return zZe(t)}function zZe(t){for(var e in xr.prototype)t[e]=xr.prototype[e];return t}xr.prototype.on=xr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};xr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};xr.prototype.off=xr.prototype.removeListener=xr.prototype.removeAllListeners=xr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};xr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};xr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};xr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var GX=h(function(Pvt,VX){"use strict";function $Ze(t){var e=/^\w+:\/\//.exec(t),r=0;e&&(r=e[0].length+1);var n=t.indexOf("/",r);return n===-1?{origin:t,pathname:"/"}:{origin:t.slice(0,n),pathname:t.slice(n)}}VX.exports=$Ze});var _T=h(function(Rvt,KX){var HZe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,WZe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];KX.exports=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=HZe.exec(e||""),o={},u=14;u--;)o[WZe[u]]=a[u]||"";return n!=-1&&i!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=VZe(o,o.path),o.queryKey=GZe(o,o.query),o};function VZe(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function GZe(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}});var XX=h(function(qvt,YX){function hb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hb=function(r){return typeof r}:hb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hb(t)}var cl=1e3,fl=cl*60,pl=fl*60,vu=pl*24,KZe=vu*7,YZe=vu*365.25;YX.exports=function(t,e){e=e||{};var r=hb(t);if(r==="string"&&t.length>0)return XZe(t);if(r==="number"&&isFinite(t))return e.long?QZe(t):JZe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function XZe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*YZe;case"weeks":case"week":case"w":return r*KZe;case"days":case"day":case"d":return r*vu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pl;case"minutes":case"minute":case"mins":case"min":case"m":return r*fl;case"seconds":case"second":case"secs":case"sec":case"s":return r*cl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function JZe(t){var e=Math.abs(t);return e>=vu?Math.round(t/vu)+"d":e>=pl?Math.round(t/pl)+"h":e>=fl?Math.round(t/fl)+"m":e>=cl?Math.round(t/cl)+"s":t+"ms"}function QZe(t){var e=Math.abs(t);return e>=vu?vb(t,e,vu,"day"):e>=pl?vb(t,e,pl,"hour"):e>=fl?vb(t,e,fl,"minute"):e>=cl?vb(t,e,cl,"second"):t+" ms"}function vb(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var ZX=h(function(Evt,QX){function JX(t){return ret(t)||tet(t)||eet(t)||ZZe()}function ZZe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eet(t,e){if(!!t){if(typeof t=="string")return wT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wT(t,e)}}function tet(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ret(t){if(Array.isArray(t))return wT(t)}function wT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function net(t){r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=o,r.humanize=XX(),r.destroy=l,Object.keys(t).forEach(function(c){r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){for(var f=0,p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(c){var f,p=null,d,v;function m(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];if(!!m.enabled){var O=m,T=Number(new Date),C=T-(f||T);O.diff=C,O.prev=f,O.curr=T,f=T,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");var F=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,function(G,q){if(G==="%%")return"%";F++;var j=r.formatters[q];if(typeof j=="function"){var Q=w[F];G=j.call(O,Q),w.splice(F,1),F--}return G}),r.formatArgs.call(O,w);var $=O.log||r.log;$.apply(O,w)}}return m.namespace=c,m.useColors=r.useColors(),m.color=r.selectColor(c),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:function(){return p!==null?p:(d!==r.namespaces&&(d=r.namespaces,v=r.enabled(c)),v)},set:function(w){p=w}}),typeof r.init=="function"&&r.init(m),m}function n(c,f){var p=r(this.namespace+(typeof f=="undefined"?":":f)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];var f,p=(typeof c=="string"?c:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)!p[f]||(c=p[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){var c=[].concat(JX(r.names.map(u)),JX(r.skips.map(u).map(function(f){return"-"+f}))).join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;var f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(c))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(c))return!0;return!1}function u(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function s(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}QX.exports=net});var kn=h(function(Cr,yb){Cr.formatArgs=aet;Cr.save=oet;Cr.load=uet;Cr.useColors=iet;Cr.storage=set();Cr.destroy=function(){var t=!1;return function(){t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}();Cr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function iet(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function aet(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+yb.exports.humanize(this.diff),!!this.useColors){var e="color: "+this.color;t.splice(1,0,e,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(i){i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}}Cr.log=console.debug||console.log||function(){};function oet(t){try{t?Cr.storage.setItem("debug",t):Cr.storage.removeItem("debug")}catch(e){}}function uet(){var t;try{t=Cr.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function set(){try{return localStorage}catch(t){}}yb.exports=ZX()(Cr);var cet=yb.exports.formatters;cet.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var rJ=h(function(dl){"use strict";var eJ=dl&&dl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dl,"__esModule",{value:!0});dl.url=void 0;var fet=eJ(_T()),pet=eJ(kn()),tJ=pet.default("socket.io-client:url");function det(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(tJ("protocol-less url %s",t),typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),tJ("parse %s",t),n=fet.default(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,a=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}dl.url=det});var nJ=h(function(Avt,ST){try{ST.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){ST.exports=!1}});var Np=h(function(OT){"use strict";Object.defineProperty(OT,"__esModule",{value:!0});OT.default=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()});var aJ=h(function(Bp){"use strict";var iJ=Bp&&Bp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bp,"__esModule",{value:!0});var het=iJ(nJ()),vet=iJ(Np());function yet(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||het.default))return new XMLHttpRequest}catch(r){}if(!e)try{return new vet.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}Bp.default=yet});var hl=h(function(Xa){"use strict";var met=Xa&&Xa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.installTimerFunctions=Xa.pick=void 0;var mb=met(Np());function get(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(i,a){return t.hasOwnProperty(a)&&(i[a]=t[a]),i},{})}Xa.pick=get;var bet=setTimeout,_et=clearTimeout;function wet(t,e){e.useNativeTimers?(t.setTimeoutFn=bet.bind(mb.default),t.clearTimeoutFn=_et.bind(mb.default)):(t.setTimeoutFn=setTimeout.bind(mb.default),t.clearTimeoutFn=clearTimeout.bind(mb.default))}Xa.installTimerFunctions=wet});var yu=h(function(oJ){oJ.Emitter=sr;function sr(t){if(t)return Oet(t)}function Oet(t){for(var e in sr.prototype)t[e]=sr.prototype[e];return t}sr.prototype.on=sr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};sr.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};sr.prototype.off=sr.prototype.removeListener=sr.prototype.removeAllListeners=sr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};sr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};sr.prototype.emitReserved=sr.prototype.emit;sr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};sr.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var PT=h(function(Ja){"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.ERROR_PACKET=Ja.PACKET_TYPES_REVERSE=Ja.PACKET_TYPES=void 0;var ai=Object.create(null);Ja.PACKET_TYPES=ai;ai.open="0";ai.close="1";ai.ping="2";ai.pong="3";ai.message="4";ai.upgrade="5";ai.noop="6";var uJ=Object.create(null);Ja.PACKET_TYPES_REVERSE=uJ;Object.keys(ai).forEach(function(t){uJ[ai[t]]=t});var Pet={type:"error",data:"parser error"};Ja.ERROR_PACKET=Pet});var lJ=h(function(RT){"use strict";Object.defineProperty(RT,"__esModule",{value:!0});var Ret=PT(),qet=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Eet=typeof ArrayBuffer=="function",Tet=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Aet=function(e,r,n){var i=e.type,a=e.data;return qet&&a instanceof Blob?r?n(a):sJ(a,n):Eet&&(a instanceof ArrayBuffer||Tet(a))?r?n(a):sJ(new Blob([a]),n):n(Ret.PACKET_TYPES[i]+(a||""))},sJ=function(e,r){var n=new FileReader;return n.onload=function(){var i=n.result.split(",")[1];r("b"+i)},n.readAsDataURL(e)};RT.default=Aet});var fJ=h(function(Lp,cJ){function gb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gb=function(r){return typeof r}:gb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gb(t)}(function(t,e){(typeof Lp=="undefined"?"undefined":gb(Lp))==="object"&&typeof cJ!="undefined"?e(Lp):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t["base64-arraybuffer"]={}))})(Lp,function(t){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;var i=function(u){var s=new Uint8Array(u),l,c=s.length,f="";for(l=0;l<c;l+=3)f+=e[s[l]>>2],f+=e[(s[l]&3)<<4|s[l+1]>>4],f+=e[(s[l+1]&15)<<2|s[l+2]>>6],f+=e[s[l+2]&63];return c%3==2?f=f.substring(0,f.length-1)+"=":c%3==1&&(f=f.substring(0,f.length-2)+"=="),f},a=function(u){var s=u.length*.75,l=u.length,c,f=0,p,d,v,m;u[u.length-1]==="="&&(s--,u[u.length-2]==="="&&s--);var g=new ArrayBuffer(s),w=new Uint8Array(g);for(c=0;c<l;c+=4)p=r[u.charCodeAt(c)],d=r[u.charCodeAt(c+1)],v=r[u.charCodeAt(c+2)],m=r[u.charCodeAt(c+3)],w[f++]=p<<2|d>>4,w[f++]=(d&15)<<4|v>>2,w[f++]=(v&3)<<6|m&63;return g};t.decode=a,t.encode=i,Object.defineProperty(t,"__esModule",{value:!0})})});var dJ=h(function(qT){"use strict";Object.defineProperty(qT,"__esModule",{value:!0});var bb=PT(),Iet=fJ(),ket=typeof ArrayBuffer=="function",Fet=function(e,r){if(typeof e!="string")return{type:"message",data:pJ(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:xet(e.substring(1),r)};var i=bb.PACKET_TYPES_REVERSE[n];return i?e.length>1?{type:bb.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:bb.PACKET_TYPES_REVERSE[n]}:bb.ERROR_PACKET},xet=function(e,r){if(ket){var n=(0,Iet.decode)(e);return pJ(n,r)}else return{base64:!0,data:e}},pJ=function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};qT.default=Fet});var zp=h(function(en){"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.decodePayload=en.decodePacket=en.encodePayload=en.encodePacket=en.protocol=void 0;var hJ=lJ();en.encodePacket=hJ.default;var vJ=dJ();en.decodePacket=vJ.default;var yJ=String.fromCharCode(30),Cet=function(e,r){var n=e.length,i=new Array(n),a=0;e.forEach(function(o,u){(0,hJ.default)(o,!1,function(s){i[u]=s,++a===n&&r(i.join(yJ))})})};en.encodePayload=Cet;var Det=function(e,r){for(var n=e.split(yJ),i=[],a=0;a<n.length;a++){var o=(0,vJ.default)(n[a],r);if(i.push(o),o.type==="error")break}return i};en.decodePayload=Det;en.protocol=4});var wb=h(function(vl){"use strict";function _b(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_b=function(r){return typeof r}:_b=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_b(t)}function Uet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jet(t,e,r){return e&&mJ(t.prototype,e),r&&mJ(t,r),t}function mu(){return typeof Reflect!="undefined"&&Reflect.get?mu=Reflect.get:mu=function(e,r,n){var i=Met(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},mu.apply(this,arguments)}function Met(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ra(t),t!==null););return t}function Net(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ET(t,e)}function Bet(t){var e=zet();return function(){var n=ra(t),i;if(e){var a=ra(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Let(this,i)}}function Let(t,e){if(e&&(_b(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJ(t)}function gJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ra(t){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ra(t)}var $et=vl&&vl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vl,"__esModule",{value:!0});vl.Transport=void 0;var Het=zp(),Wet=yu(),Vet=hl(),Get=$et(kn()),Ket=(0,Get.default)("engine.io-client:transport"),Yet=function(t){Net(r,t);var e=Bet(r);function r(n){var i;return Uet(this,r),i=e.call(this),i.writable=!1,(0,Vet.installTimerFunctions)(gJ(i),n),i.opts=n,i.query=n.query,i.readyState="",i.socket=n.socket,i}return jet(r,[{key:"onError",value:function(i,a){var o=new Error(i);return o.type="TransportError",o.description=a,mu(ra(r.prototype),"emit",this).call(this,"error",o),this}},{key:"open",value:function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(i){this.readyState==="open"?this.write(i):Ket("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,mu(ra(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(i){var a=(0,Het.decodePacket)(i,this.socket.binaryType);this.onPacket(a)}},{key:"onPacket",value:function(i){mu(ra(r.prototype),"emit",this).call(this,"packet",i)}},{key:"onClose",value:function(){this.readyState="closed",mu(ra(r.prototype),"emit",this).call(this,"close")}}]),r}(Wet.Emitter);vl.Transport=Yet});var IT=h(function(Nvt,OJ){"use strict";var bJ="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Sb=64,_J={},wJ=0,Qa=0,SJ;function TT(t){var e="";do e=bJ[t%Sb]+e,t=Math.floor(t/Sb);while(t>0);return e}function Xet(t){var e=0;for(Qa=0;Qa<t.length;Qa++)e=e*Sb+_J[t.charAt(Qa)];return e}function AT(){var t=TT(+new Date);return t!==SJ?(wJ=0,SJ=t):t+"."+TT(wJ++)}for(;Qa<Sb;Qa++)_J[bJ[Qa]]=Qa;AT.encode=TT;AT.decode=Xet;OJ.exports=AT});var Ob=h(function(kT){kT.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};kT.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}});var qJ=h(function(yl){"use strict";function Pb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pb=function(r){return typeof r}:Pb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pb(t)}function Jet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qet(t,e,r){return e&&PJ(t.prototype,e),r&&PJ(t,r),t}function Zet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FT(t,e)}function FT(t,e){return FT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},FT(t,e)}function ett(t){var e=ntt();return function(){var n=Rb(t),i;if(e){var a=Rb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ttt(this,i)}}function ttt(t,e){if(e&&(Pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rtt(t)}function rtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ntt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(t)}var xT=yl&&yl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yl,"__esModule",{value:!0});yl.Polling=void 0;var itt=wb(),att=xT(kn()),ott=xT(IT()),utt=xT(Ob()),RJ=zp(),Fn=(0,att.default)("engine.io-client:polling"),stt=function(t){Zet(r,t);var e=ett(r);function r(){var n;return Jet(this,r),n=e.apply(this,arguments),n.polling=!1,n}return Qet(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(i){var a=this;this.readyState="pausing";var o=function(){Fn("paused"),a.readyState="paused",i()};if(this.polling||!this.writable){var u=0;this.polling&&(Fn("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){Fn("pre-pause polling complete"),--u||o()})),this.writable||(Fn("we are currently writing - waiting to pause"),u++,this.once("drain",function(){Fn("pre-pause writing complete"),--u||o()}))}else o()}},{key:"poll",value:function(){Fn("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(i){var a=this;Fn("polling got data %s",i);var o=function(s){if(a.readyState==="opening"&&s.type==="open"&&a.onOpen(),s.type==="close")return a.onClose(),!1;a.onPacket(s)};(0,RJ.decodePayload)(i,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Fn('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var i=this,a=function(){Fn("writing close packet"),i.write([{type:"close"}])};this.readyState==="open"?(Fn("transport open - closing"),a()):(Fn("transport not open - deferring close"),this.once("open",a))}},{key:"write",value:function(i){var a=this;this.writable=!1,(0,RJ.encodePayload)(i,function(o){a.doWrite(o,function(){a.writable=!0,a.emit("drain")})})}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"https":"http",o="";this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=(0,ott.default)()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.opts.port&&(a==="https"&&Number(this.opts.port)!==443||a==="http"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port);var u=utt.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}}]),r}(itt.Transport);yl.Polling=stt});var jJ=h(function(Za){"use strict";function qb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qb=function(r){return typeof r}:qb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qb(t)}function EJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function AJ(t,e,r){return e&&TJ(t.prototype,e),r&&TJ(t,r),t}function IJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CT(t,e)}function CT(t,e){return CT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},CT(t,e)}function kJ(t){var e=ctt();return function(){var n=Eb(t),i;if(e){var a=Eb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ltt(this,i)}}function ltt(t,e){if(e&&(qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ctt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}var DT=Za&&Za.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Za,"__esModule",{value:!0});Za.Request=Za.XHR=void 0;var xJ=DT(aJ()),ftt=DT(kn()),ptt=DT(Np()),CJ=hl(),dtt=yu(),htt=qJ(),UT=(0,ftt.default)("engine.io-client:polling-xhr");function vtt(){}var ytt=function(){var t=new xJ.default({xdomain:!1});return t.responseType!=null}(),mtt=function(t){IJ(r,t);var e=kJ(r);function r(n){var i;if(EJ(this,r),i=e.call(this,n),typeof location!="undefined"){var a=location.protocol==="https:",o=location.port;o||(o=a?"443":"80"),i.xd=typeof location!="undefined"&&n.hostname!==location.hostname||o!==n.port,i.xs=n.secure!==a}var u=n&&n.forceBase64;return i.supportsBinary=ytt&&!u,i}return AJ(r,[{key:"request",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(i,{xd:this.xd,xs:this.xs},this.opts),new gu(this.uri(),i)}},{key:"doWrite",value:function(i,a){var o=this,u=this.request({method:"POST",data:i});u.on("success",a),u.on("error",function(s){o.onError("xhr post error",s)})}},{key:"doPoll",value:function(){var i=this;UT("xhr poll");var a=this.request();a.on("data",this.onData.bind(this)),a.on("error",function(o){i.onError("xhr poll error",o)}),this.pollXhr=a}}]),r}(htt.Polling);Za.XHR=mtt;var gu=function(t){IJ(r,t);var e=kJ(r);function r(n,i){var a;return EJ(this,r),a=e.call(this),(0,CJ.installTimerFunctions)(FJ(a),i),a.opts=i,a.method=i.method||"GET",a.uri=n,a.async=i.async!==!1,a.data=i.data!==void 0?i.data:null,a.create(),a}return AJ(r,[{key:"create",value:function(){var i=this,a=(0,CJ.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this.opts.xd,a.xscheme=!!this.opts.xs;var o=this.xhr=new xJ.default(a);try{UT("xhr open %s: %s",this.method,this.uri),o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(var u in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(u)&&o.setRequestHeader(u,this.opts.extraHeaders[u])}}catch(s){}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{o.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===1223?i.onLoad():i.setTimeoutFn(function(){i.onError(typeof o.status=="number"?o.status:0)},0))},UT("xhr data %s",this.data),o.send(this.data)}catch(s){this.setTimeoutFn(function(){i.onError(s)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(i){this.emit("data",i),this.onSuccess()}},{key:"onError",value:function(i){this.emit("error",i),this.cleanup(!0)}},{key:"cleanup",value:function(i){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=vtt,i)try{this.xhr.abort()}catch(a){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var i=this.xhr.responseText;i!==null&&this.onData(i)}},{key:"abort",value:function(){this.cleanup()}}]),r}(dtt.Emitter);Za.Request=gu;gu.requestsCount=0;gu.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",UJ):typeof addEventListener=="function"&&(DJ="onpagehide"in ptt.default?"pagehide":"unload",addEventListener(DJ,UJ,!1)));var DJ;function UJ(){for(var t in gu.requests)gu.requests.hasOwnProperty(t)&&gu.requests[t].abort()}});var NJ=h(function(tn){"use strict";var gtt=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.defaultBinaryType=tn.usingBrowserWebSocket=tn.WebSocket=tn.nextTick=void 0;var MJ=gtt(Np());tn.nextTick=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}();tn.WebSocket=MJ.default.WebSocket||MJ.default.MozWebSocket;tn.usingBrowserWebSocket=!0;tn.defaultBinaryType="arraybuffer"});var zJ=h(function(ml){"use strict";function Tb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tb=function(r){return typeof r}:Tb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tb(t)}function btt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _tt(t,e,r){return e&&BJ(t.prototype,e),r&&BJ(t,r),t}function wtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jT(t,e)}function jT(t,e){return jT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jT(t,e)}function Stt(t){var e=Rtt();return function(){var n=Ab(t),i;if(e){var a=Ab(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ott(this,i)}}function Ott(t,e){if(e&&(Tb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ptt(t)}function Ptt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rtt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}var MT=ml&&ml.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ml,"__esModule",{value:!0});ml.WS=void 0;var qtt=wb(),Ett=MT(Ob()),Ttt=MT(IT()),Att=hl(),oi=NJ(),Itt=MT(kn()),ktt=zp(),Ftt=(0,Itt.default)("engine.io-client:websocket"),LJ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",xtt=function(t){wtt(r,t);var e=Stt(r);function r(n){var i;return btt(this,r),i=e.call(this,n),i.supportsBinary=!n.forceBase64,i}return _tt(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(!!this.check()){var i=this.uri(),a=this.opts.protocols,o=LJ?{}:(0,Att.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=oi.usingBrowserWebSocket&&!LJ?a?new oi.WebSocket(i,a):new oi.WebSocket(i):new oi.WebSocket(i,a,o)}catch(u){return this.emit("error",u)}this.ws.binaryType=this.socket.binaryType||oi.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var i=this;this.ws.onopen=function(){i.opts.autoUnref&&i.ws._socket.unref(),i.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(a){return i.onData(a.data)},this.ws.onerror=function(a){return i.onError("websocket error",a)}}},{key:"write",value:function(i){var a=this;this.writable=!1;for(var o=function(l){var c=i[l],f=l===i.length-1;(0,ktt.encodePacket)(c,a.supportsBinary,function(p){var d={};if(!oi.usingBrowserWebSocket&&(c.options&&(d.compress=c.options.compress),a.opts.perMessageDeflate)){var v=typeof p=="string"?Buffer.byteLength(p):p.length;v<a.opts.perMessageDeflate.threshold&&(d.compress=!1)}try{oi.usingBrowserWebSocket?a.ws.send(p):a.ws.send(p,d)}catch(m){Ftt("websocket closed before onclose event")}f&&(0,oi.nextTick)(function(){a.writable=!0,a.emit("drain")},a.setTimeoutFn)})},u=0;u<i.length;u++)o(u)}},{key:"doClose",value:function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"wss":"ws",o="";this.opts.port&&(a==="wss"&&Number(this.opts.port)!==443||a==="ws"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port),this.opts.timestampRequests&&(i[this.opts.timestampParam]=(0,Ttt.default)()),this.supportsBinary||(i.b64=1);var u=Ett.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}},{key:"check",value:function(){return!!oi.WebSocket&&!("__initialize"in oi.WebSocket&&this.name===r.prototype.name)}}]),r}(qtt.Transport);ml.WS=xtt});var NT=h(function(Ib){"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.transports=void 0;var Ctt=jJ(),Dtt=zJ();Ib.transports={websocket:Dtt.WS,polling:Ctt.XHR}});var KJ=h(function(gl){"use strict";function $p(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$p=function(r){return typeof r}:$p=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$p(t)}function Utt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jtt(t,e,r){return e&&$J(t.prototype,e),r&&$J(t,r),t}function Mtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},BT(t,e)}function Ntt(t){var e=Ltt();return function(){var n=kb(t),i;if(e){var a=kb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Btt(this,i)}}function Btt(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HJ(t)}function HJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ltt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(t)}var LT=gl&&gl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gl,"__esModule",{value:!0});gl.Socket=void 0;var ztt=NT(),$tt=hl(),Htt=LT(Ob()),WJ=LT(_T()),Wtt=LT(kn()),Vtt=yu(),VJ=zp(),ft=(0,Wtt.default)("engine.io-client:socket"),GJ=function(t){Mtt(r,t);var e=Ntt(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Utt(this,r),i=e.call(this),n&&$p(n)==="object"&&(a=n,n=null),n?(n=(0,WJ.default)(n),a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)):a.host&&(a.hostname=(0,WJ.default)(a.host).host),(0,$tt.installTimerFunctions)(HJ(i),a),i.secure=a.secure!=null?a.secure:typeof location!="undefined"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=i.secure?"443":"80"),i.hostname=a.hostname||(typeof location!="undefined"?location.hostname:"localhost"),i.port=a.port||(typeof location!="undefined"&&location.port?location.port:i.secure?"443":"80"),i.transports=a.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),i.opts.path=i.opts.path.replace(/\/$/,"")+"/",typeof i.opts.query=="string"&&(i.opts.query=Htt.default.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,typeof addEventListener=="function"&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},!1),i.hostname!=="localhost"&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return jtt(r,[{key:"createTransport",value:function(i){ft('creating transport "%s"',i);var a=Gtt(this.opts.query);a.EIO=VJ.protocol,a.transport=i,this.id&&(a.sid=this.id);var o=Object.assign({},this.opts.transportOptions[i],this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return ft("options: %j",o),new ztt.transports[i](o)}},{key:"open",value:function(){var i=this,a;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){i.emitReserved("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch(o){ft("error while creating transport: %s",o),this.transports.shift(),this.open();return}a.open(),this.setTransport(a)}},{key:"setTransport",value:function(i){var a=this;ft("setting transport %s",i.name),this.transport&&(ft("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){a.onClose("transport close")})}},{key:"probe",value:function(i){var a=this;ft('probing transport "%s"',i);var o=this.createTransport(i),u=!1;r.priorWebsocketSuccess=!1;var s=function(){u||(ft('probe transport "%s" opened',i),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(g){if(!u)if(g.type==="pong"&&g.data==="probe"){if(ft('probe transport "%s" pong',i),a.upgrading=!0,a.emitReserved("upgrading",o),!o)return;r.priorWebsocketSuccess=o.name==="websocket",ft('pausing current transport "%s"',a.transport.name),a.transport.pause(function(){u||a.readyState!=="closed"&&(ft("changing transport and sending upgrade packet"),v(),a.setTransport(o),o.send([{type:"upgrade"}]),a.emitReserved("upgrade",o),o=null,a.upgrading=!1,a.flush())})}else{ft('probe transport "%s" failed',i);var w=new Error("probe error");w.transport=o.name,a.emitReserved("upgradeError",w)}}))};function l(){u||(u=!0,v(),o.close(),o=null)}var c=function(g){var w=new Error("probe error: "+g);w.transport=o.name,l(),ft('probe transport "%s" failed because of error: %s',i,g),a.emitReserved("upgradeError",w)};function f(){c("transport closed")}function p(){c("socket closed")}function d(m){o&&m.name!==o.name&&(ft('"%s" works - aborting "%s"',m.name,o.name),l())}var v=function(){o.removeListener("open",s),o.removeListener("error",c),o.removeListener("close",f),a.off("close",p),a.off("upgrading",d)};o.once("open",s),o.once("error",c),o.once("close",f),this.once("close",p),this.once("upgrading",d),o.open()}},{key:"onOpen",value:function(){if(ft("socket open"),this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){ft("starting upgrade probes");for(var i=0,a=this.upgrades.length;i<a;i++)this.probe(this.upgrades[i])}}},{key:"onPacket",value:function(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(ft('socket receive: type "%s", data "%s"',i.type,i.data),this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var a=new Error("server error");a.code=i.data,this.onError(a);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}else ft('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var i=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){i.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(ft("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"send",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"sendPacket",value:function(i,a,o,u){if(typeof a=="function"&&(u=a,a=void 0),typeof o=="function"&&(u=o,o=null),!(this.readyState==="closing"||this.readyState==="closed")){o=o||{},o.compress=o.compress!==!1;var s={type:i,data:a,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),u&&this.once("flush",u),this.flush()}}},{key:"close",value:function(){var i=this,a=function(){i.onClose("forced close"),ft("socket closing - telling transport to close"),i.transport.close()},o=function s(){i.off("upgrade",s),i.off("upgradeError",s),a()},u=function(){i.once("upgrade",o),i.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){i.upgrading?u():a()}):this.upgrading?u():a()),this}},{key:"onError",value:function(i){ft("socket error %j",i),r.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}},{key:"onClose",value:function(i,a){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(ft('socket close with reason: "%s"',i),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",i,a),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(i){for(var a=[],o=0,u=i.length;o<u;o++)~this.transports.indexOf(i[o])&&a.push(i[o]);return a}}]),r}(Vtt.Emitter);gl.Socket=GJ;GJ.protocol=VJ.protocol;function Gtt(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}});var XJ=h(function(rn){"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.installTimerFunctions=rn.transports=rn.Transport=rn.protocol=rn.Socket=void 0;var YJ=KJ();Object.defineProperty(rn,"Socket",{enumerable:!0,get:function(){return YJ.Socket}});rn.protocol=YJ.Socket.protocol;var Ktt=wb();Object.defineProperty(rn,"Transport",{enumerable:!0,get:function(){return Ktt.Transport}});var Ytt=NT();Object.defineProperty(rn,"transports",{enumerable:!0,get:function(){return Ytt.transports}});var Xtt=hl();Object.defineProperty(rn,"installTimerFunctions",{enumerable:!0,get:function(){return Xtt.installTimerFunctions}})});var zT=h(function(bl){"use strict";function Fb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fb=function(r){return typeof r}:Fb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fb(t)}Object.defineProperty(bl,"__esModule",{value:!0});bl.hasBinary=bl.isBinary=void 0;var Jtt=typeof ArrayBuffer=="function",Qtt=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},JJ=Object.prototype.toString,Ztt=typeof Blob=="function"||typeof Blob!="undefined"&&JJ.call(Blob)==="[object BlobConstructor]",ert=typeof File=="function"||typeof File!="undefined"&&JJ.call(File)==="[object FileConstructor]";function QJ(t){return Jtt&&(t instanceof ArrayBuffer||Qtt(t))||Ztt&&t instanceof Blob||ert&&t instanceof File}bl.isBinary=QJ;function xb(t,e){if(!t||Fb(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(xb(t[r]))return!0;return!1}if(QJ(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return xb(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&xb(t[i]))return!0;return!1}bl.hasBinary=xb});var ZJ=h(function(_l){"use strict";function Hp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hp=function(r){return typeof r}:Hp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hp(t)}Object.defineProperty(_l,"__esModule",{value:!0});_l.reconstructPacket=_l.deconstructPacket=void 0;var trt=zT();function rrt(t){var e=[],r=t.data,n=t;return n.data=$T(r,e),n.attachments=e.length,{packet:n,buffers:e}}_l.deconstructPacket=rrt;function $T(t,e){if(!t)return t;if(trt.isBinary(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=$T(t[i],e);return n}else if(Hp(t)==="object"&&!(t instanceof Date)){var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=$T(t[o],e));return a}return t}function nrt(t,e){return t.data=HT(t.data,e),t.attachments=void 0,t}_l.reconstructPacket=nrt;function HT(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=HT(t[r],e);else if(Hp(t)==="object")for(var n in t)t.hasOwnProperty(n)&&(t[n]=HT(t[n],e));return t}});var Cb=h(function(xn){"use strict";function wl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wl=function(r){return typeof r}:wl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wl(t)}function Sl(){return typeof Reflect!="undefined"&&Reflect.get?Sl=Reflect.get:Sl=function(e,r,n){var i=irt(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Sl.apply(this,arguments)}function irt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=eo(t),t!==null););return t}function art(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WT(t,e)}function WT(t,e){return WT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},WT(t,e)}function ort(t){var e=lrt();return function(){var n=eo(t),i;if(e){var a=eo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return urt(this,i)}}function urt(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return srt(t)}function srt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},eo(t)}function VT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function GT(t,e,r){return e&&eQ(t.prototype,e),r&&eQ(t,r),t}Object.defineProperty(xn,"__esModule",{value:!0});xn.Decoder=xn.Encoder=xn.PacketType=xn.protocol=void 0;var crt=yu(),tQ=ZJ(),rQ=zT(),frt=kn(),KT=frt.default("socket.io-parser");xn.protocol=5;var yt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yt=xn.PacketType||(xn.PacketType={}));var prt=function(){function t(){VT(this,t)}return GT(t,[{key:"encode",value:function(r){return KT("encoding packet %j",r),(r.type===yt.EVENT||r.type===yt.ACK)&&rQ.hasBinary(r)?(r.type=r.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}},{key:"encodeAsString",value:function(r){var n=""+r.type;return(r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data)),KT("encoded %j as %s",r,n),n}},{key:"encodeAsBinary",value:function(r){var n=tQ.deconstructPacket(r),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}}]),t}();xn.Encoder=prt;var drt=function(t){art(r,t);var e=ort(r);function r(){return VT(this,r),e.call(this)}return GT(r,[{key:"add",value:function(i){var a;if(typeof i=="string")a=this.decodeString(i),a.type===yt.BINARY_EVENT||a.type===yt.BINARY_ACK?(this.reconstructor=new vrt(a),a.attachments===0&&Sl(eo(r.prototype),"emitReserved",this).call(this,"decoded",a)):Sl(eo(r.prototype),"emitReserved",this).call(this,"decoded",a);else if(rQ.isBinary(i)||i.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(i),a&&(this.reconstructor=null,Sl(eo(r.prototype),"emitReserved",this).call(this,"decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}},{key:"decodeString",value:function(i){var a=0,o={type:Number(i.charAt(0))};if(yt[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===yt.BINARY_EVENT||o.type===yt.BINARY_ACK){for(var u=a+1;i.charAt(++a)!=="-"&&a!=i.length;);var s=i.substring(u,a);if(s!=Number(s)||i.charAt(a)!=="-")throw new Error("Illegal attachments");o.attachments=Number(s)}if(i.charAt(a+1)==="/"){for(var l=a+1;++a;){var c=i.charAt(a);if(c===","||a===i.length)break}o.nsp=i.substring(l,a)}else o.nsp="/";var f=i.charAt(a+1);if(f!==""&&Number(f)==f){for(var p=a+1;++a;){var d=i.charAt(a);if(d==null||Number(d)!=d){--a;break}if(a===i.length)break}o.id=Number(i.substring(p,a+1))}if(i.charAt(++a)){var v=hrt(i.substr(a));if(r.isPayloadValid(o.type,v))o.data=v;else throw new Error("invalid payload")}return KT("decoded %s as %j",i,o),o}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(i,a){switch(i){case yt.CONNECT:return wl(a)==="object";case yt.DISCONNECT:return a===void 0;case yt.CONNECT_ERROR:return typeof a=="string"||wl(a)==="object";case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(a)&&a.length>0;case yt.ACK:case yt.BINARY_ACK:return Array.isArray(a)}}}]),r}(crt.Emitter);xn.Decoder=drt;function hrt(t){try{return JSON.parse(t)}catch(e){return!1}}var vrt=function(){function t(e){VT(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return GT(t,[{key:"takeBinaryData",value:function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=tQ.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}()});var YT=h(function(Db){"use strict";Object.defineProperty(Db,"__esModule",{value:!0});Db.on=void 0;function yrt(t,e,r){return t.on(e,r),function(){t.off(e,r)}}Db.on=yrt});var JT=h(function(Pl){"use strict";function Ub(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ub=function(r){return typeof r}:Ub=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ub(t)}function mrt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=grt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function grt(t,e){if(!!t){if(typeof t=="string")return nQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nQ(t,e)}}function nQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function brt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _rt(t,e,r){return e&&iQ(t.prototype,e),r&&iQ(t,r),t}function jb(){return typeof Reflect!="undefined"&&Reflect.get?jb=Reflect.get:jb=function(e,r,n){var i=wrt(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},jb.apply(this,arguments)}function wrt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ol(t),t!==null););return t}function Srt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},XT(t,e)}function Ort(t){var e=qrt();return function(){var n=Ol(t),i;if(e){var a=Ol(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Prt(this,i)}}function Prt(t,e){if(e&&(Ub(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rrt(t)}function Rrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ol(t)}var Ert=Pl&&Pl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.Socket=void 0;var nn=Cb(),Mb=YT(),Trt=yu(),Art=Ert(kn()),br=Art.default("socket.io-client:socket"),Irt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),krt=function(t){Srt(r,t);var e=Ort(r);function r(n,i,a){var o;return brt(this,r),o=e.call(this),o.connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=n,o.nsp=i,a&&a.auth&&(o.auth=a.auth),o.io._autoConnect&&o.open(),o}return _rt(r,[{key:"subEvents",value:function(){if(!this.subs){var i=this.io;this.subs=[Mb.on(i,"open",this.onopen.bind(this)),Mb.on(i,"packet",this.onpacket.bind(this)),Mb.on(i,"error",this.onerror.bind(this)),Mb.on(i,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.unshift("message"),this.emit.apply(this,a),this}},{key:"emit",value:function(i){if(Irt.hasOwnProperty(i))throw new Error('"'+i+'" is a reserved event name');for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];o.unshift(i);var s={type:nn.PacketType.EVENT,data:o};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){var l=this.ids++;br("emitting packet with ack id %d",l);var c=o.pop();this._registerAckCallback(l,c),s.id=l}var f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,p=this.flags.volatile&&(!f||!this.connected);return p?br("discard packet as the transport is not currently writable"):this.connected?this.packet(s):this.sendBuffer.push(s),this.flags={},this}},{key:"_registerAckCallback",value:function(i,a){var o=this,u=this.flags.timeout;if(u===void 0){this.acks[i]=a;return}var s=this.io.setTimeoutFn(function(){delete o.acks[i];for(var l=0;l<o.sendBuffer.length;l++)o.sendBuffer[l].id===i&&(br("removing packet with ack id %d from the buffer",i),o.sendBuffer.splice(l,1));br("event with ack id %d has timed out after %d ms",i,u),a.call(o,new Error("operation has timed out"))},u);this.acks[i]=function(){o.io.clearTimeoutFn(s);for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];a.apply(o,[null].concat(c))}}},{key:"packet",value:function(i){i.nsp=this.nsp,this.io._packet(i)}},{key:"onopen",value:function(){var i=this;br("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(a){i.packet({type:nn.PacketType.CONNECT,data:a})}):this.packet({type:nn.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(i){this.connected||this.emitReserved("connect_error",i)}},{key:"onclose",value:function(i){br("close (%s)",i),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",i)}},{key:"onpacket",value:function(i){var a=i.nsp===this.nsp;if(!!a)switch(i.type){case nn.PacketType.CONNECT:if(i.data&&i.data.sid){var o=i.data.sid;this.onconnect(o)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case nn.PacketType.EVENT:this.onevent(i);break;case nn.PacketType.BINARY_EVENT:this.onevent(i);break;case nn.PacketType.ACK:this.onack(i);break;case nn.PacketType.BINARY_ACK:this.onack(i);break;case nn.PacketType.DISCONNECT:this.ondisconnect();break;case nn.PacketType.CONNECT_ERROR:this.destroy();var u=new Error(i.data.message);u.data=i.data.data,this.emitReserved("connect_error",u);break}}},{key:"onevent",value:function(i){var a=i.data||[];br("emitting event %j",a),i.id!=null&&(br("attaching ack callback to event"),a.push(this.ack(i.id))),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}},{key:"emitEvent",value:function(i){if(this._anyListeners&&this._anyListeners.length){var a=this._anyListeners.slice(),o=mrt(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;s.apply(this,i)}}catch(l){o.e(l)}finally{o.f()}}jb(Ol(r.prototype),"emit",this).apply(this,i)}},{key:"ack",value:function(i){var a=this,o=!1;return function(){if(!o){o=!0;for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];br("sending ack %j",s),a.packet({type:nn.PacketType.ACK,id:i,data:s})}}}},{key:"onack",value:function(i){var a=this.acks[i.id];typeof a=="function"?(br("calling ack %s with %j",i.id,i.data),a.apply(this,i.data),delete this.acks[i.id]):br("bad ack %s",i.id)}},{key:"onconnect",value:function(i){br("socket connected with id %s",i),this.id=i,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var i=this;this.receiveBuffer.forEach(function(a){return i.emitEvent(a)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(a){return i.packet(a)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){br("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(i){return i()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(br("performing disconnect (%s)",this.nsp),this.packet({type:nn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(i){return this.flags.compress=i,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(i){return this.flags.timeout=i,this}},{key:"onAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}},{key:"prependAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}},{key:"offAny",value:function(i){if(!this._anyListeners)return this;if(i){for(var a=this._anyListeners,o=0;o<a.length;o++)if(i===a[o])return a.splice(o,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(Trt.Emitter);Pl.Socket=krt});var oQ=h(function(Zvt,aQ){aQ.exports=Rl;function Rl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Rl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Rl.prototype.reset=function(){this.attempts=0};Rl.prototype.setMin=function(t){this.ms=t};Rl.prototype.setMax=function(t){this.max=t};Rl.prototype.setJitter=function(t){this.jitter=t}});var fQ=h(function(an){"use strict";function Wp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(r){return typeof r}:Wp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wp(t)}function Frt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xrt(t,e,r){return e&&uQ(t.prototype,e),r&&uQ(t,r),t}function Crt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QT(t,e)}function QT(t,e){return QT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},QT(t,e)}function Drt(t){var e=jrt();return function(){var n=Nb(t),i;if(e){var a=Nb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Urt(this,i)}}function Urt(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sQ(t)}function sQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(t)}var Mrt=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nrt=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Brt=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mrt(e,t,r);return Nrt(e,t),e},lQ=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(an,"__esModule",{value:!0});an.Manager=void 0;var cQ=XJ(),Lrt=JT(),zrt=Brt(Cb()),bu=YT(),$rt=lQ(oQ()),Hrt=yu(),Wrt=lQ(kn()),$t=Wrt.default("socket.io-client:manager"),Vrt=function(t){Crt(r,t);var e=Drt(r);function r(n,i){var a;Frt(this,r);var o;a=e.call(this),a.nsps={},a.subs=[],n&&Wp(n)==="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",a.opts=i,cQ.installTimerFunctions(sQ(a),i),a.reconnection(i.reconnection!==!1),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),a.backoff=new $rt.default({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(i.timeout==null?2e4:i.timeout),a._readyState="closed",a.uri=n;var u=i.parser||zrt;return a.encoder=new u.Encoder,a.decoder=new u.Decoder,a._autoConnect=i.autoConnect!==!1,a._autoConnect&&a.open(),a}return xrt(r,[{key:"reconnection",value:function(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection}},{key:"reconnectionAttempts",value:function(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}},{key:"reconnectionDelay",value:function(i){var a;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(a=this.backoff)===null||a===void 0||a.setMin(i),this)}},{key:"randomizationFactor",value:function(i){var a;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(a=this.backoff)===null||a===void 0||a.setJitter(i),this)}},{key:"reconnectionDelayMax",value:function(i){var a;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(a=this.backoff)===null||a===void 0||a.setMax(i),this)}},{key:"timeout",value:function(i){return arguments.length?(this._timeout=i,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(i){var a=this;if($t("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;$t("opening %s",this.uri),this.engine=new cQ.Socket(this.uri,this.opts);var o=this.engine,u=this;this._readyState="opening",this.skipReconnect=!1;var s=bu.on(o,"open",function(){u.onopen(),i&&i()}),l=bu.on(o,"error",function(p){$t("error"),u.cleanup(),u._readyState="closed",a.emitReserved("error",p),i?i(p):u.maybeReconnectOnOpen()});if(this._timeout!==!1){var c=this._timeout;$t("connect attempt will timeout after %d",c),c===0&&s();var f=this.setTimeoutFn(function(){$t("connect attempt timed out after %d",c),s(),o.close(),o.emit("error",new Error("timeout"))},c);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(s),this.subs.push(l),this}},{key:"connect",value:function(i){return this.open(i)}},{key:"onopen",value:function(){$t("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var i=this.engine;this.subs.push(bu.on(i,"ping",this.onping.bind(this)),bu.on(i,"data",this.ondata.bind(this)),bu.on(i,"error",this.onerror.bind(this)),bu.on(i,"close",this.onclose.bind(this)),bu.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(i){this.decoder.add(i)}},{key:"ondecoded",value:function(i){this.emitReserved("packet",i)}},{key:"onerror",value:function(i){$t("error",i),this.emitReserved("error",i)}},{key:"socket",value:function(i,a){var o=this.nsps[i];return o||(o=new Lrt.Socket(this,i,a),this.nsps[i]=o),o}},{key:"_destroy",value:function(i){for(var a=Object.keys(this.nsps),o=0,u=a;o<u.length;o++){var s=u[o],l=this.nsps[s];if(l.active){$t("socket %s is still active, skipping close",s);return}}this._close()}},{key:"_packet",value:function(i){$t("writing packet %j",i);for(var a=this.encoder.encode(i),o=0;o<a.length;o++)this.engine.write(a[o],i.options)}},{key:"cleanup",value:function(){$t("cleanup"),this.subs.forEach(function(i){return i()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){$t("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(i){$t("closed due to %s",i),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var i=this;if(this._reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)$t("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var o=this.backoff.duration();$t("will wait %dms before reconnect attempt",o),this._reconnecting=!0;var u=this.setTimeoutFn(function(){a.skipReconnect||($t("attempting reconnect"),i.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(function(s){s?($t("reconnect attempt error"),a._reconnecting=!1,a.reconnect(),i.emitReserved("reconnect_error",s)):($t("reconnect success"),a.onreconnect())}))},o);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}}},{key:"onreconnect",value:function(){var i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}]),r}(Hrt.Emitter);an.Manager=Vrt});var vQ=h(function(Jt,hQ){"use strict";function Bb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bb=function(r){return typeof r}:Bb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bb(t)}var Grt=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.default=Jt.connect=Jt.io=Jt.Socket=Jt.Manager=Jt.protocol=void 0;var Krt=rJ(),Lb=fQ();Object.defineProperty(Jt,"Manager",{enumerable:!0,get:function(){return Lb.Manager}});var pQ=JT();Object.defineProperty(Jt,"Socket",{enumerable:!0,get:function(){return pQ.Socket}});var Yrt=Grt(kn()),dQ=Yrt.default("socket.io-client"),Vp={};function _u(t,e){Bb(t)==="object"&&(e=t,t=void 0),e=e||{};var r=Krt.url(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Vp[i]&&a in Vp[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o,s;return u?(dQ("ignoring socket cache for %s",n),s=new Lb.Manager(n,e)):(Vp[i]||(dQ("new io instance for %s",n),Vp[i]=new Lb.Manager(n,e)),s=Vp[i]),r.query&&!e.query&&(e.query=r.queryKey),s.socket(r.path,e)}Jt.io=_u;Jt.connect=_u;Jt.default=_u;Object.assign(_u,{Manager:Lb.Manager,Socket:pQ.Socket,io:_u,connect:_u});var Xrt=Cb();Object.defineProperty(Jt,"protocol",{enumerable:!0,get:function(){return Xrt.protocol}});hQ.exports=_u});var wQ=h(function(tyt,_Q){"use strict";function zb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zb=function(r){return typeof r}:zb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zb(t)}function yQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Jrt(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){yQ(a,n,i,o,u,"next",s)}function u(s){yQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function Qrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zrt(t,e,r){return e&&mQ(t.prototype,e),r&&mQ(t,r),t}function ent(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZT(t,e)}function ZT(t,e){return ZT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ZT(t,e)}function tnt(t){var e=nnt();return function(){var n=$b(t),i;if(e){var a=$b(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rnt(this,i)}}function rnt(t,e){if(e&&(zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return on(t)}function on(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $b(t){return $b=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(t)}function mt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var int=0;function na(t){return"__private_"+int+++"_"+t}var ant=bT(),ont=Ts(),unt=Cs(),snt=fy(),lnt=GX(),gQ;function cnt(){var t;return(t=gQ)!=null?t:gQ=vQ()}var fnt="ASSEMBLY_UPLOADING",eA="ASSEMBLY_EXECUTING",tA="ASSEMBLY_COMPLETED",bQ=[fnt,eA,tA];function Hb(t,e){return bQ.indexOf(t)>=bQ.indexOf(e)}var wu=na("rateLimitedQueue"),Gp=na("fetchWithNetworkError"),Su=na("previousFetchStatusStillPending"),rA=na("onFinished"),nA=na("connectSocket"),ia=na("onError"),iA=na("beginPolling"),aa=na("fetchStatus"),aA=na("diffStatus"),pnt=function(t){ent(r,t);var e=tnt(r);function r(n,i){var a;return Qrt(this,r),a=e.call(this),Object.defineProperty(on(a),aA,{value:gnt}),Object.defineProperty(on(a),aa,{value:mnt}),Object.defineProperty(on(a),iA,{value:ynt}),Object.defineProperty(on(a),ia,{value:vnt}),Object.defineProperty(on(a),nA,{value:hnt}),Object.defineProperty(on(a),rA,{value:dnt}),Object.defineProperty(on(a),wu,{writable:!0,value:void 0}),Object.defineProperty(on(a),Gp,{writable:!0,value:void 0}),Object.defineProperty(on(a),Su,{writable:!0,value:!1}),a.status=n,a.socket=null,a.pollInterval=null,a.closed=!1,mt(on(a),wu)[wu]=i,mt(on(a),Gp)[Gp]=i.wrapPromiseFunction(snt),a}return Zrt(r,[{key:"connect",value:function(){mt(this,nA)[nA](),mt(this,iA)[iA]()}},{key:"update",value:function(){return mt(this,aa)[aa]({diff:!0})}},{key:"updateStatus",value:function(i){mt(this,aA)[aA](this.status,i),this.status=i}},{key:"close",value:function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}}]),r}(ant);function dnt(){this.emit("finished"),this.close()}function hnt(){var t=this,e=lnt(this.status.websocket_url),r=cnt().connect(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){mt(t,rA)[rA]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),mt(t,aa)[aa]({diff:!1})}),r.on("assembly_result_finished",function(n,i){t.emit("result",n,i),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(i)}),r.on("assembly_error",function(n){mt(t,ia)[ia](n),mt(t,aa)[aa]({diff:!1})}),this.socket=r}function vnt(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}function ynt(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&mt(t,aa)[aa]()},2e3)}function mnt(t){return oA.apply(this,arguments)}function oA(){return oA=Jrt(regeneratorRuntime.mark(function t(e){var r,n,i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=e===void 0?{}:e,n=r.diff,i=n===void 0?!0:n,!(this.closed||mt(this,wu)[wu].isPaused||mt(this,Su)[Su])){s.next=3;break}return s.abrupt("return");case 3:return s.prev=3,mt(this,Su)[Su]=!0,s.next=7,mt(this,Gp)[Gp](this.status.assembly_ssl_url);case 7:if(a=s.sent,mt(this,Su)[Su]=!1,!this.closed){s.next=11;break}return s.abrupt("return");case 11:if(a.status!==429){s.next=14;break}return mt(this,wu)[wu].rateLimit(2e3),s.abrupt("return");case 14:if(a.ok){s.next=17;break}return mt(this,ia)[ia](new unt(a.statusText)),s.abrupt("return");case 17:return s.next=19,a.json();case 19:if(o=s.sent,!this.closed){s.next=22;break}return s.abrupt("return");case 22:this.emit("status",o),i?this.updateStatus(o):this.status=o,s.next=29;break;case 26:s.prev=26,s.t0=s.catch(3),mt(this,ia)[ia](s.t0);case 29:case"end":return s.stop()}},t,this,[[3,26]])})),oA.apply(this,arguments)}function gnt(t,e){var r=this,n=t.ok,i=e.ok;if(e.error&&!t.error)return mt(this,ia)[ia](e);var a=Hb(i,eA)&&!Hb(n,eA);a&&this.emit("executing"),Object.keys(e.uploads).filter(function(o){return!ont(t.uploads,o)}).forEach(function(o){r.emit("upload",e.uploads[o])}),a&&this.emit("metadata"),Object.keys(e.results).forEach(function(o){var u=e.results[o],s=t.results[o];u.filter(function(l){return!s||!s.some(function(c){return c.id===l.id})}).forEach(function(l){r.emit("result",o,l)})}),Hb(i,tA)&&!Hb(n,tA)&&this.emit("finished")}_Q.exports=pnt});var RQ=h(function(ryt,PQ){"use strict";function bnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _nt(t,e,r){return e&&SQ(t.prototype,e),r&&SQ(t,r),t}function gt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var wnt=0;function Wb(t){return"__private_"+wnt+++"_"+t}var Snt=fy(),OQ="/assemblies",Dr=Wb("headers"),Kp=Wb("fetchWithNetworkError"),lr=Wb("fetchJSON"),Cn=Wb("reportError"),Ont=function(){function t(e){var r=this;bnt(this,t),e===void 0&&(e={}),Object.defineProperty(this,lr,{value:Pnt}),Object.defineProperty(this,Dr,{writable:!0,value:{}}),Object.defineProperty(this,Kp,{writable:!0,value:void 0}),Object.defineProperty(this,Cn,{writable:!0,value:function(i,a){if(r.opts.errorReporting===!1)throw i;var o={type:a.type};throw a.assembly&&(o.assembly=a.assembly.assembly_id,o.instance=a.assembly.instance),a.url&&(o.endpoint=a.url),r.submitError(i,o).catch(function(){}),i}}),this.opts=e,this.opts.client!=null&&(gt(this,Dr)[Dr]["Transloadit-Client"]=this.opts.client),gt(this,Kp)[Kp]=this.opts.rateLimitedQueue.wrapPromiseFunction(Snt)}return _nt(t,[{key:"createAssembly",value:function(r){var n=this,i=r.params,a=r.fields,o=r.signature,u=r.expectedFiles,s=new FormData;s.append("params",typeof i=="string"?i:JSON.stringify(i)),o&&s.append("signature",o),Object.keys(a).forEach(function(c){s.append(c,a[c])}),s.append("num_expected_upload_files",u);var l=new URL(OQ,"".concat(this.opts.service)).href;return gt(this,lr)[lr](l,{method:"post",headers:gt(this,Dr)[Dr],body:s}).catch(function(c){return gt(n,Cn)[Cn](c,{url:l,type:"API_ERROR"})})}},{key:"reserveFile",value:function(r,n){var i=this,a=encodeURIComponent(n.size),o="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(a);return gt(this,lr)[lr](o,{method:"post",headers:gt(this,Dr)[Dr]}).catch(function(u){return gt(i,Cn)[Cn](u,{assembly:r,file:n,url:o,type:"API_ERROR"})})}},{key:"addFile",value:function(r,n){var i=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var a=encodeURIComponent(n.size),o=encodeURIComponent(n.uploadURL),u=encodeURIComponent(n.name),s="file",l="size=".concat(a,"&filename=").concat(u,"&fieldname=").concat(s,"&s3Url=").concat(o),c="".concat(r.assembly_ssl_url,"/add_file?").concat(l);return gt(this,lr)[lr](c,{method:"post",headers:gt(this,Dr)[Dr]}).catch(function(f){return gt(i,Cn)[Cn](f,{assembly:r,file:n,url:c,type:"API_ERROR"})})}},{key:"cancelAssembly",value:function(r){var n=this,i=r.assembly_ssl_url;return gt(this,lr)[lr](i,{method:"delete",headers:gt(this,Dr)[Dr]}).catch(function(a){return gt(n,Cn)[Cn](a,{url:i,type:"API_ERROR"})})}},{key:"getAssemblyStatus",value:function(r){var n=this;return gt(this,lr)[lr](r,{headers:gt(this,Dr)[Dr]}).catch(function(i){return gt(n,Cn)[Cn](i,{url:r,type:"STATUS_ERROR"})})}},{key:"submitError",value:function(r,n){var i=n===void 0?{}:n,a=i.endpoint,o=i.instance,u=i.assembly,s=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return gt(this,lr)[lr]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:a,instance:o,assembly_id:u,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:s})})}}]),t}();function Pnt(){for(var t,e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=gt(this,Kp))[Kp].apply(t,n).then(function(a){if(a.status===429){var o;return e.opts.rateLimitedQueue.rateLimit(2e3),(o=gt(e,lr))[lr].apply(o,n)}if(!a.ok){var u=new Error(a.statusText);return u.statusCode=a.status,"".concat(n[0]).endsWith(OQ)?a.json().then(function(s){if(!s.error)throw u;var l=new Error(s.error);throw l.details=s.message,l.assembly=s,s.assembly_id&&(l.details+=" Assembly ID: ".concat(s.assembly_id)),l},function(s){throw s.cause=u,s}):Promise.reject(u)}return a.json()})}PQ.exports=Ont});var FQ=h(function(lA,kQ){"use strict";function qQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function EQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){qQ(a,n,i,o,u,"next",s)}function u(s){qQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function Rnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qnt(t,e,r){return e&&TQ(t.prototype,e),r&&TQ(t,r),t}function Ent(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Tnt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Tnt(t,e){if(!!t){if(typeof t=="string")return AQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AQ(t,e)}}function AQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(lA,"__esModule",{value:!0});lA.validateParams=Vb;function Ant(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Int=0;function knt(t){return"__private_"+Int+++"_"+t}var Fnt=Uf();function Vb(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new Fnt("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function xnt(t){var e=Object.create(null),r=Ent(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.fileIDs,o=i.options,u=JSON.stringify(o);u in e?e[u].fileIDArrays.push(a):e[u]={options:o,fileIDArrays:[a]}}}catch(s){r.e(s)}finally{r.f()}return Object.values(e).map(function(s){var l=s.options,c=s.fileIDArrays;return{options:l,fileIDs:c.flat(1)}})}var uA=knt("getAssemblyOptions"),IQ=function(){function t(e,r){Rnt(this,t),Object.defineProperty(this,uA,{value:Cnt}),this.files=e,this.opts=r}return qnt(t,[{key:"build",value:function(){var e=EQ(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=this.opts,!(this.files.length>0)){s.next=3;break}return s.abrupt("return",Promise.all(this.files.map(function(l){return Ant(i,uA)[uA](l)})).then(xnt));case 3:if(!a.alwaysRunAssembly){s.next=9;break}return s.next=6,a.getAssemblyOptions(null,a);case 6:return o=s.sent,Vb(o.params),s.abrupt("return",[{fileIDs:this.files.map(function(l){return l.id}),options:o}]);case 9:return s.abrupt("return",[]);case 10:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}();function Cnt(t){return sA.apply(this,arguments)}function sA(){return sA=EQ(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=this.opts,a.next=3,r.getAssemblyOptions(e,r);case 3:return n=a.sent,Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(o){return[o,e.meta[o]]})):n.fields==null&&(n.fields={}),Vb(n.params),a.abrupt("return",{fileIDs:[e.id],options:n});case 7:case"end":return a.stop()}},t,this)})),sA.apply(this,arguments)}kQ.exports=IQ;IQ.validateParams=Vb});var CQ=h(function(nyt,xQ){"use strict";function Gb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gb=function(r){return typeof r}:Gb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gb(t)}function Dnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Unt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cA(t,e)}function jnt(t){var e=Nnt();return function(){var n=Kb(t),i;if(e){var a=Kb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Mnt(this,i)}}function Mnt(t,e){if(e&&(Gb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(t)}function we(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Bnt=0;function Ur(t){return"__private_"+Bnt+++"_"+t}var Lnt=bT(),Yp=Ur("assemblyIDs"),fA=Ur("reject"),Ou=Ur("remaining"),Xp=Ur("resolve"),Je=Ur("uppy"),oa=Ur("watching"),Jp=Ur("onAssemblyComplete"),Qp=Ur("onAssemblyCancel"),Pu=Ur("onAssemblyError"),Zp=Ur("onImportError"),Ru=Ur("checkAllComplete"),pA=Ur("removeListeners"),dA=Ur("addListeners"),znt=function(t){Unt(r,t);var e=jnt(r);function r(n,i){var a;return Dnt(this,r),a=e.call(this),Object.defineProperty(De(a),dA,{value:Vnt}),Object.defineProperty(De(a),pA,{value:Wnt}),Object.defineProperty(De(a),Ru,{value:Hnt}),Object.defineProperty(De(a),oa,{value:$nt}),Object.defineProperty(De(a),Yp,{writable:!0,value:void 0}),Object.defineProperty(De(a),fA,{writable:!0,value:void 0}),Object.defineProperty(De(a),Ou,{writable:!0,value:void 0}),Object.defineProperty(De(a),Xp,{writable:!0,value:void 0}),Object.defineProperty(De(a),Je,{writable:!0,value:void 0}),Object.defineProperty(De(a),Jp,{writable:!0,value:function(u){!we(De(a),oa)[oa](u.assembly_id)||(we(De(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(u.assembly_id)),a.emit("assembly-complete",u.assembly_id),we(De(a),Ru)[Ru]())}}),Object.defineProperty(De(a),Qp,{writable:!0,value:function(u){!we(De(a),oa)[oa](u.assembly_id)||we(De(a),Ru)[Ru]()}}),Object.defineProperty(De(a),Pu,{writable:!0,value:function(u,s){!we(De(a),oa)[oa](u.assembly_id)||(we(De(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(u.assembly_id)),we(De(a),Je)[Je].log(s),a.emit("assembly-error",u.assembly_id,s),we(De(a),Ru)[Ru]())}}),Object.defineProperty(De(a),Zp,{writable:!0,value:function(u,s,l){!we(De(a),oa)[oa](u.assembly_id)||we(De(a),Pu)[Pu](u,l)}}),we(De(a),Je)[Je]=n,we(De(a),Yp)[Yp]=i,we(De(a),Ou)[Ou]=i.length,a.promise=new Promise(function(o,u){we(De(a),Xp)[Xp]=o,we(De(a),fA)[fA]=u}),we(De(a),dA)[dA](),a}return r}(Lnt);function $nt(t){return we(this,Yp)[Yp].indexOf(t)!==-1}function Hnt(){we(this,Ou)[Ou]-=1,we(this,Ou)[Ou]===0&&(we(this,pA)[pA](),we(this,Xp)[Xp]())}function Wnt(){we(this,Je)[Je].off("transloadit:complete",we(this,Jp)[Jp]),we(this,Je)[Je].off("transloadit:assembly-cancel",we(this,Qp)[Qp]),we(this,Je)[Je].off("transloadit:assembly-error",we(this,Pu)[Pu]),we(this,Je)[Je].off("transloadit:import-error",we(this,Zp)[Zp])}function Vnt(){we(this,Je)[Je].on("transloadit:complete",we(this,Jp)[Jp]),we(this,Je)[Je].on("transloadit:assembly-cancel",we(this,Qp)[Qp]),we(this,Je)[Je].on("transloadit:assembly-error",we(this,Pu)[Pu]),we(this,Je)[Je].on("transloadit:import-error",we(this,Zp)[Zp])}xQ.exports=znt});var UQ=h(function(iyt,DQ){"use strict";DQ.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}}});var XQ=h(function(ql,YQ){"use strict";function Yb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yb=function(r){return typeof r}:Yb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yb(t)}function jQ(t){return Ynt(t)||Knt(t)||hA(t)||Gnt()}function Gnt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Knt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ynt(t){if(Array.isArray(t))return vA(t)}function MQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MQ(Object(r),!0).forEach(function(n){to(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xnt(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=hA(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Jnt(t,e){return eit(t)||Znt(t,e)||hA(t,e)||Qnt()}function Qnt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hA(t,e){if(!!t){if(typeof t=="string")return vA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Znt(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function eit(t){if(Array.isArray(t))return t}function to(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function yA(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){NQ(a,n,i,o,u,"next",s)}function u(s){NQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function tit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rit(t,e,r){return e&&BQ(t.prototype,e),r&&BQ(t,r),t}function nit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mA(t,e)}function iit(t){var e=oit();return function(){var n=Xb(t),i;if(e){var a=Xb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ait(this,i)}}function ait(t,e){if(e&&(Yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(t)}function Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(t)}Object.defineProperty(ql,"__esModule",{value:!0});ql.COMPANION=ql.ALLOWED_COMPANION_PATTERN=void 0;var uit=Ka();function Re(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var sit=0;function ut(t){return"__private_"+sit+++"_"+t}var lit=Ts(),LQ=Uf(),cit=Kr(),zQ=mT(),$Q=wQ(),fit=RQ(),HQ=FQ(),WQ=HQ.validateParams,pit=CQ(),dit=UQ(),hit={version:"2.2.0"};function vit(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}var VQ=function(e){return function(r){var n=new LQ("Failed to send error to the client",{cause:r});console.error(n,e)}},GQ="https://api2.transloadit.com/companion";ql.COMPANION=GQ;var KQ=/\.transloadit\.com$/;ql.ALLOWED_COMPANION_PATTERN=KQ;var yit=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Dn=ut("rateLimitedQueue"),gA=ut("getClientVersion"),bA=ut("attachAssemblyMetadata"),_A=ut("createAssembly"),ed=ut("createAssemblyWatcher"),wA=ut("shouldWaitAfterUpload"),SA=ut("reserveFiles"),td=ut("onFileUploadURLAvailable"),rd=ut("findFile"),OA=ut("onFileUploadComplete"),PA=ut("onResult"),nd=ut("onAssemblyFinished"),RA=ut("cancelAssembly"),qA=ut("onCancelAll"),EA=ut("getPersistentData"),TA=ut("onRestored"),id=ut("connectAssembly"),ad=ut("prepareUpload"),qu=ut("afterUpload"),od=ut("closeAssemblyIfExists"),ud=ut("onError"),AA=ut("onTusError"),Jb=function(t){nit(r,t);var e=iit(r);function r(n,i){var a;tit(this,r);var o;a=e.call(this,n,i),o=Se(a),Object.defineProperty(Se(a),id,{value:Tit}),Object.defineProperty(Se(a),RA,{value:Eit}),Object.defineProperty(Se(a),nd,{value:qit}),Object.defineProperty(Se(a),PA,{value:Rit}),Object.defineProperty(Se(a),OA,{value:Pit}),Object.defineProperty(Se(a),rd,{value:Oit}),Object.defineProperty(Se(a),SA,{value:Sit}),Object.defineProperty(Se(a),wA,{value:wit}),Object.defineProperty(Se(a),ed,{value:_it}),Object.defineProperty(Se(a),_A,{value:bit}),Object.defineProperty(Se(a),bA,{value:git}),Object.defineProperty(Se(a),gA,{value:mit}),Object.defineProperty(Se(a),Dn,{writable:!0,value:void 0}),Object.defineProperty(Se(a),td,{writable:!0,value:function(c){var f=a.uppy.getFile(c.id);if(!(!f||!f.transloadit||!f.transloadit.assembly)){var p=a.getPluginState(),d=p.assemblies,v=d[f.transloadit.assembly];a.client.addFile(v,f).catch(function(m){a.uppy.log(m),a.uppy.emit("transloadit:import-error",v,f.id,m)})}}}),Object.defineProperty(Se(a),qA,{writable:!0,value:function(){var l=yA(regeneratorRuntime.mark(function f(p){var d,v,m,g,w,_;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(d=p===void 0?{}:p,v=d.reason,T.prev=1,v==="user"){T.next=4;break}return T.abrupt("return");case 4:return m=o.getPluginState(),g=m.uploadsAssemblies,w=Object.values(g).flat(1),_=w.map(function(C){return o.getAssembly(C)}),T.next=9,Promise.all(_.map(function(C){return Re(o,RA)[RA](C)}));case 9:T.next=14;break;case 11:T.prev=11,T.t0=T.catch(1),o.uppy.log(T.t0);case 14:case"end":return T.stop()}},f,null,[[1,11]])}));function c(f){return l.apply(this,arguments)}return c}()}),Object.defineProperty(Se(a),EA,{writable:!0,value:function(c){var f=a.getPluginState(),p=f.assemblies,d=f.uploadsAssemblies;c(to({},a.id,{assemblies:p,uploadsAssemblies:d}))}}),Object.defineProperty(Se(a),TA,{writable:!0,value:function(c){var f=c&&c[a.id]?c[a.id]:{},p=f.assemblies||{},d=f.uploadsAssemblies||{};if(Object.keys(d).length!==0){var v=function(_){for(var O={},T=[],C=function(){var q=Jnt($[F],2),j=q[0],Q=q[1];Q.uploads.forEach(function(A){var I=Re(Se(a),rd)[rd](A);O[A.id]={id:I.id,assembly:j,uploadedFile:A}});var X=a.getPluginState();Object.keys(Q.results).forEach(function(A){var I=Xnt(Q.results[A]),L;try{for(I.s();!(L=I.n()).done;){var D=L.value,U=X.files[D.original_id];D.localId=U?U.id:null,T.push({id:D.id,result:D,stepName:A,assembly:j})}}catch(B){I.e(B)}finally{I.f()}})},F=0,$=Object.entries(_);F<$.length;F++)C();a.setPluginState({assemblies:_,files:O,results:T,uploadsAssemblies:d})},m=function(){var _=a.getPluginState(),O=_.assemblies,T=_.uploadsAssemblies;Object.keys(T).forEach(function(F){var $=T[F],G=$.flatMap(function(q){return a.getAssemblyFiles(q).map(function(j){return j.id})});Re(Se(a),ed)[ed]($,G,F)});var C=Object.keys(O);C.forEach(function(F){var $=new $Q(O[F],Re(Se(a),Dn)[Dn]);Re(Se(a),id)[id]($)})},g=function(){var _=a.getPluginState(),O=_.assemblies;return Promise.all(Object.keys(O).map(function(T){return a.activeAssemblies[T].update()}))};a.restored=Promise.resolve().then(function(){return v(p),m(),g()}),a.restored.then(function(){a.restored=null})}}}),Object.defineProperty(Se(a),ad,{writable:!0,value:function(c,f){var p=c.filter(function(_){return!_.error}),d=p.map(function(_){var O=a.uppy.getFile(_);return a.uppy.emit("preprocess-progress",O,{mode:"indeterminate",message:a.i18n("creatingAssembly")}),O}),v=function(){var _=yA(regeneratorRuntime.mark(function O(T){var C,F,$;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return C=T.fileIDs,F=T.options,q.prev=1,q.next=4,Re(Se(a),_A)[_A](C,f,F);case 4:if($=q.sent,!a.opts.importFromUploadURLs){q.next=8;break}return q.next=8,Re(Se(a),SA)[SA]($,C);case 8:return C.forEach(function(j){var Q=a.uppy.getFile(j);a.uppy.emit("preprocess-complete",Q)}),q.abrupt("return",$);case 12:throw q.prev=12,q.t0=q.catch(1),C.forEach(function(j){var Q=a.uppy.getFile(j);a.uppy.emit("preprocess-complete",Q),a.uppy.emit("upload-error",Q,q.t0)}),q.t0;case 16:case"end":return q.stop()}},O,null,[[1,12]])}));return function(T){return _.apply(this,arguments)}}(),m=a.getPluginState(),g=m.uploadsAssemblies;a.setPluginState({uploadsAssemblies:ze(ze({},g),{},to({},f,[]))});var w=new HQ(d,a.opts);return w.build().then(function(_){return Promise.all(_.map(v))}).then(function(_){var O=_.map(function(T){return T.status.assembly_id});return Re(Se(a),ed)[ed](O,p,f),Promise.all(_.map(function(T){return Re(Se(a),id)[id](T)}))}).catch(function(_){throw d.forEach(function(O){a.uppy.emit("preprocess-complete",O),a.uppy.emit("upload-error",O,_)}),_})}}),Object.defineProperty(Se(a),qu,{writable:!0,value:function(c,f){var p=c.map(function(T){return a.uppy.getFile(T)}),d=p.filter(function(T){return!T.error}).map(function(T){return T.id}),v=a.getPluginState();if(a.restored)return a.restored.then(function(){return Re(Se(a),qu)[qu](d,f)});var m=v.uploadsAssemblies[f],g=function(){m.forEach(function(C){var F=a.activeAssemblies[C];F.close(),delete a.activeAssemblies[C]})};if(!Re(Se(a),wA)[wA]()){g();var w=m.map(function(T){return a.getAssembly(T)});return a.uppy.addResultData(f,{transloadit:w}),Promise.resolve()}if(m.length===0)return a.uppy.addResultData(f,{transloadit:[]}),Promise.resolve();var _=p.filter(function(T){return!lit(a.completedFiles,T.id)});_.forEach(function(T){a.uppy.emit("postprocess-progress",T,{mode:"indeterminate",message:a.i18n("encoding")})});var O=a.assemblyWatchers[f];return O.promise.then(function(){g();var T=m.map(function(F){return a.getAssembly(F)}),C=ze({},a.getPluginState().uploadsAssemblies);delete C[f],a.setPluginState({uploadsAssemblies:C}),a.uppy.addResultData(f,{transloadit:T})})}}),Object.defineProperty(Se(a),od,{writable:!0,value:function(c){var f;(f=a.activeAssemblies[c])==null||f.close()}}),Object.defineProperty(Se(a),ud,{writable:!0,value:function(c,f){c===void 0&&(c=null);var p=o.getPluginState(),d=p.uploadsAssemblies[f];d==null||d.forEach(Re(o,od)[od]),o.client.submitError(c).catch(VQ(c))}}),Object.defineProperty(Se(a),AA,{writable:!0,value:function(c,f){var p,d;if(Re(Se(a),od)[od]((p=c.transloadit)==null?void 0:p.assembly),f!=null&&(d=f.message)!=null&&d.startsWith("tus: ")){var v,m,g=(v=f.originalRequest)==null||(m=v.getUnderlyingObject())==null?void 0:m.responseURL;a.client.submitError(f,{endpoint:g,type:"TUS_ERROR"}).catch(VQ(f))}}}),a.type="uploader",a.id=a.opts.id||"Transloadit",a.title="Transloadit",a.defaultLocale=dit;var u={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:vit,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};a.opts=ze(ze({},u),i),Re(Se(a),Dn)[Dn]=new uit.RateLimitedQueue(a.opts.limit),a.i18nInit();var s=a.opts.getAssemblyOptions!==u.getAssemblyOptions;return a.opts.params?WQ(a.opts.params):s||WQ(null),a.client=new fit({service:a.opts.service,client:Re(Se(a),gA)[gA](),errorReporting:a.opts.errorReporting,rateLimitedQueue:Re(Se(a),Dn)[Dn]}),a.activeAssemblies={},a.assemblyWatchers={},a.completedFiles=Object.create(null),a}return rit(r,[{key:"install",value:function(){this.uppy.addPreProcessor(Re(this,ad)[ad]),this.uppy.addPostProcessor(Re(this,qu)[qu]),this.uppy.on("error",Re(this,ud)[ud]),this.uppy.on("cancel-all",Re(this,qA)[qA]),this.uppy.on("upload-error",Re(this,AA)[AA]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Re(this,td)[td]):this.uppy.use(zQ,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:Re(this,Dn)[Dn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Re(this,EA)[EA]),this.uppy.on("restored",Re(this,TA)[TA]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!1})})}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(Re(this,ad)[ad]),this.uppy.removePostProcessor(Re(this,qu)[qu]),this.uppy.off("error",Re(this,ud)[ud]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Re(this,td)[td]);var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!0})})}},{key:"getAssembly",value:function(i){var a=this.getPluginState(),o=a.assemblies;return o[i]}},{key:"getAssemblyFiles",value:function(i){return this.uppy.getFiles().filter(function(a){return a&&a.transloadit&&a.transloadit.assembly===i})}}]),r}(cit);function mit(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat(zQ.VERSION)],r=function(i,a){var o=t.uppy.getPlugin(i);o&&e.push("".concat(a,":").concat(o.constructor.VERSION))};return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}function git(t,e){var r=ze(ze({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=ze(ze({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),i=t.remote;if(t.remote&&yit.test(t.remote.companionUrl)){var a=e.companion_url.replace(/\/$/,""),o=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");i=ze(ze({},t.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(o)})}var u=ze(ze({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(u,{meta:r,tus:n,remote:i}),u}function bit(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(i){var a=new $Q(i,Re(n,Dn)[Dn]),o=a.status,u=o.assembly_id,s=n.getPluginState(),l=s.assemblies,c=s.uploadsAssemblies;n.setPluginState({assemblies:ze(ze({},l),{},to({},u,o)),uploadsAssemblies:ze(ze({},c),{},to({},e,[].concat(jQ(c[e]),[u])))});var f=n.uppy.getState(),p=f.files,d={};t.forEach(function(m){d[m]=Re(n,bA)[bA](n.uppy.getFile(m),o)}),n.uppy.setState({files:ze(ze({},p),d)});var v=function m(g,w){w==="cancel-all"?(a.close(),n.uppy.off(m)):g.id in d&&(delete d[g.id],Object.keys(d).length===0&&(a.close(),n.uppy.off(m)))};return n.uppy.on("file-removed",v),n.uppy.emit("transloadit:assembly-created",o,t),n.uppy.log("[Transloadit] Created Assembly ".concat(u)),a}).catch(function(i){throw new LQ("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(i.message),{cause:i})})}function _it(t,e,r){var n=this,i=new pit(this.uppy,t);i.on("assembly-complete",function(a){var o=n.getAssemblyFiles(a);o.forEach(function(u){n.completedFiles[u.id]=!0,n.uppy.emit("postprocess-complete",u)})}),i.on("assembly-error",function(a,o){var u=n.getAssemblyFiles(a);u.forEach(function(s){n.uppy.emit("upload-error",s,o),n.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[r]=i}function wit(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function Sit(t,e){var r=this;return Promise.all(e.map(function(n){var i=r.uppy.getFile(n);return r.client.reserveFile(t.status,i)}))}function Oit(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}function Pit(t,e){var r=this.getPluginState(),n=Re(this,rd)[rd](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:ze(ze({},r.files),{},to({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}function Rit(t,e,r){var n=this.getPluginState(),i=n.files[r.original_id];r.localId=i?i.id:null;var a={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(jQ(n.results),[a])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}function qit(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var i=n.assembly_id,a=e.getPluginState();e.setPluginState({assemblies:ze(ze({},a.assemblies),{},to({},i,n))}),e.uppy.emit("transloadit:complete",n)})}function Eit(t){return IA.apply(this,arguments)}function IA(){return IA=yA(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},t,this)})),IA.apply(this,arguments)}function Tit(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(i){var a=e.getPluginState(),o=a.assemblies;e.setPluginState({assemblies:ze(ze({},o),{},to({},n,i))})}),t.on("upload",function(i){Re(e,OA)[OA](n,i)}),t.on("error",function(i){i.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,i)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(i,a){Re(e,PA)[PA](n,i,a)}),this.opts.waitForEncoding?t.on("finished",function(){Re(e,nd)[nd](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){Re(e,nd)[nd](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}Jb.VERSION=hit.version;YQ.exports=Jb;Jb.COMPANION=GQ;Jb.ALLOWED_COMPANION_PATTERN=KQ});var QQ=h(function(ayt,JQ){"use strict";JQ.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var cZ=h(function(oyt,lZ){"use strict";function Qb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qb=function(r){return typeof r}:Qb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qb(t)}function ZQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZQ(Object(r),!0).forEach(function(n){Ait(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ait(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kit(t,e,r){return e&&eZ(t.prototype,e),r&&eZ(t,r),t}function Fit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kA(t,e)}function xit(t){var e=Dit();return function(){var n=Zb(t),i;if(e){var a=Zb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Cit(this,i)}}function Cit(t,e){if(e&&(Qb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tZ(t)}function tZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}var Uit=No(),FA=nr(),e0=Ka(),jit=Kr(),Mit=yp(),Nit=mp(),Bit=dT(),rZ=bp(),nZ=SE(),iZ=Cs(),aZ=Lg(),Lit={version:"2.1.0"},zit=QQ();function oZ(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),aZ(t)?(r=new iZ(r,t),r):(r.request=t,r)}function uZ(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}var sZ=function(t){Fit(r,t);var e=xit(r);function r(n,i){var a;Iit(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"XHRUpload",a.title="XHRUpload",a.defaultLocale=zit;var o={formData:!0,fieldName:i.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:function(s){var l={};try{l=JSON.parse(s)}catch(c){n.log(c)}return l},getResponseError:function(s,l){var c=new Error("Upload error");return aZ(l)&&(c=new iZ(c,l)),c},validateStatus:function(s){return s>=200&&s<300}};if(a.opts=_r(_r({},o),i),a.i18nInit(),a.handleUpload=a.handleUpload.bind(tZ(a)),e0.internalRateLimitedQueue in a.opts?a.requests=a.opts[e0.internalRateLimitedQueue]:a.requests=new e0.RateLimitedQueue(a.opts.limit),a.opts.bundle&&!a.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return a.uploaderEvents=Object.create(null),a}return kit(r,[{key:"getOptions",value:function(i){var a=this.uppy.getState().xhrUpload,o=this.opts.headers,u=_r(_r(_r(_r({},this.opts),a||{}),i.xhrUpload||{}),{},{headers:{}});return typeof o=="function"?u.headers=o(i):Object.assign(u.headers,this.opts.headers),a&&Object.assign(u.headers,a.headers),i.xhrUpload&&Object.assign(u.headers,i.xhrUpload.headers),u}},{key:"addMetadata",value:function(i,a,o){var u=Array.isArray(o.metaFields)?o.metaFields:Object.keys(a);u.forEach(function(s){i.append(s,a[s])})}},{key:"createFormDataUpload",value:function(i,a){var o=new FormData;this.addMetadata(o,i.meta,a);var u=uZ(i);return i.name?o.append(a.fieldName,u,i.meta.name):o.append(a.fieldName,u),o}},{key:"createBundledUpload",value:function(i,a){var o=this,u=new FormData,s=this.uppy.getState(),l=s.meta;return this.addMetadata(u,l,a),i.forEach(function(c){var f=o.getOptions(c),p=uZ(c);c.name?u.append(f.fieldName,p,c.name):u.append(f.fieldName,p)}),u}},{key:"upload",value:function(i,a,o){var u=this,s=this.getOptions(i);return this.uppy.log("uploading ".concat(a," of ").concat(o)),new Promise(function(l,c){u.uppy.emit("upload-started",i);var f=s.formData?u.createFormDataUpload(i,s):i.data,p=new XMLHttpRequest;u.uploaderEvents[i.id]=new rZ(u.uppy);var d,v=new nZ(s.timeout,function(){p.abort(),d.done();var g=new Error(u.i18n("timedOut",{seconds:Math.ceil(s.timeout/1e3)}));u.uppy.emit("upload-error",i,g),c(g)}),m=(0,Uit.nanoid)();p.upload.addEventListener("loadstart",function(){u.uppy.log("[XHRUpload] ".concat(m," started"))}),p.upload.addEventListener("progress",function(g){u.uppy.log("[XHRUpload] ".concat(m," progress: ").concat(g.loaded," / ").concat(g.total)),v.progress(),g.lengthComputable&&u.uppy.emit("upload-progress",i,{uploader:u,bytesUploaded:g.loaded,bytesTotal:g.total})}),p.addEventListener("load",function(g){if(u.uppy.log("[XHRUpload] ".concat(m," finished")),v.done(),d.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null),s.validateStatus(g.target.status,p.responseText,p)){var w=s.getResponseData(p.responseText,p),_=w[s.responseUrlFieldName],O={status:g.target.status,body:w,uploadURL:_};return u.uppy.emit("upload-success",i,O),_&&u.uppy.log("Download ".concat(i.name," from ").concat(_)),l(i)}var T=s.getResponseData(p.responseText,p),C=oZ(p,s.getResponseError(p.responseText,p)),F={status:g.target.status,body:T};return u.uppy.emit("upload-error",i,C,F),c(C)}),p.addEventListener("error",function(){u.uppy.log("[XHRUpload] ".concat(m," errored")),v.done(),d.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null);var g=oZ(p,s.getResponseError(p.responseText,p));return u.uppy.emit("upload-error",i,g),c(g)}),p.open(s.method.toUpperCase(),s.endpoint,!0),p.withCredentials=s.withCredentials,s.responseType!==""&&(p.responseType=s.responseType),d=u.requests.run(function(){u.uppy.emit("upload-started",i);var g=u.getOptions(i);return Object.keys(g.headers).forEach(function(w){p.setRequestHeader(w,g.headers[w])}),p.send(f),function(){v.done(),p.abort()}}),u.onFileRemove(i.id,function(){d.abort(),c(new Error("File removed"))}),u.onCancelAll(i.id,function(g){var w=g.reason;w==="user"&&d.abort(),c(new Error("Upload cancelled"))})})}},{key:"uploadRemote",value:function(i){var a=this,o=this.getOptions(i);return new Promise(function(u,s){a.uppy.emit("upload-started",i);var l={},c=Array.isArray(o.metaFields)?o.metaFields:Object.keys(i.meta);c.forEach(function(d){l[d]=i.meta[d]});var f=i.remote.providerOptions.provider?FA.Provider:FA.RequestClient,p=new f(a.uppy,i.remote.providerOptions);p.post(i.remote.url,_r(_r({},i.remote.body),{},{endpoint:o.endpoint,size:i.data.size,fieldname:o.fieldName,metadata:l,httpMethod:o.method,useFormData:o.formData,headers:o.headers})).then(function(d){var v=d.token,m=Nit(i.remote.companionUrl),g=new FA.Socket({target:"".concat(m,"/api/").concat(v),autoOpen:!1});a.uploaderEvents[i.id]=new rZ(a.uppy);var w;a.onFileRemove(i.id,function(){g.send("cancel",{}),w.abort(),u("upload ".concat(i.id," was removed"))}),a.onCancelAll(i.id,function(_){var O=_===void 0?{}:_,T=O.reason;T==="user"&&(g.send("cancel",{}),w.abort()),u("upload ".concat(i.id," was canceled"))}),a.onRetry(i.id,function(){g.send("pause",{}),g.send("resume",{})}),a.onRetryAll(i.id,function(){g.send("pause",{}),g.send("resume",{})}),g.on("progress",function(_){return Mit(a,_,i)}),g.on("success",function(_){var O=o.getResponseData(_.response.responseText,_.response),T=O[o.responseUrlFieldName],C={status:_.response.status,body:O,uploadURL:T};return a.uppy.emit("upload-success",i,C),w.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),u()}),g.on("error",function(_){var O=_.response,T=O?o.getResponseError(O.responseText,O):Object.assign(new Error(_.error.message),{cause:_.error});a.uppy.emit("upload-error",i,T),w.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),s(T)}),w=a.requests.run(function(){return g.open(),i.isPaused&&g.send("pause",{}),function(){return g.close()}})}).catch(function(d){a.uppy.emit("upload-error",i,d),s(d)})})}},{key:"uploadBundle",value:function(i){var a=this;return new Promise(function(o,u){var s=a.opts.endpoint,l=a.opts.method,c=a.uppy.getState().xhrUpload,f=a.createBundledUpload(i,_r(_r({},a.opts),c||{})),p=new XMLHttpRequest,d=function(g){i.forEach(function(w){a.uppy.emit("upload-error",w,g)})},v=new nZ(a.opts.timeout,function(){p.abort();var m=new Error(a.i18n("timedOut",{seconds:Math.ceil(a.opts.timeout/1e3)}));d(m),u(m)});p.upload.addEventListener("loadstart",function(){a.uppy.log("[XHRUpload] started uploading bundle"),v.progress()}),p.upload.addEventListener("progress",function(m){v.progress(),!!m.lengthComputable&&i.forEach(function(g){a.uppy.emit("upload-progress",g,{uploader:a,bytesUploaded:m.loaded/m.total*g.size,bytesTotal:g.size})})}),p.addEventListener("load",function(m){if(v.done(),a.opts.validateStatus(m.target.status,p.responseText,p)){var g=a.opts.getResponseData(p.responseText,p),w={status:m.target.status,body:g};return i.forEach(function(O){a.uppy.emit("upload-success",O,w)}),o()}var _=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return _.request=p,d(_),u(_)}),p.addEventListener("error",function(){v.done();var m=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return d(m),u(m)}),a.uppy.on("cancel-all",function(m){var g=m===void 0?{}:m,w=g.reason;w==="user"&&(v.done(),p.abort())}),p.open(l.toUpperCase(),s,!0),p.withCredentials=a.opts.withCredentials,a.opts.responseType!==""&&(p.responseType=a.opts.responseType),Object.keys(a.opts.headers).forEach(function(m){p.setRequestHeader(m,a.opts.headers[m])}),p.send(f),i.forEach(function(m){a.uppy.emit("upload-started",m)})})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=parseInt(s,10)+1,c=i.length;return u.error?Promise.reject(new Error(u.error)):u.isRemote?a.uploadRemote(u,l,c):a.upload(u,l,c)});return Bit(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a.apply(void 0,arguments)})}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[e0.internalRateLimitedQueue]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var o=i.map(function(s){return a.uppy.getFile(s)});if(this.opts.bundle){var u=o.some(function(s){return s.isRemote});if(u)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:_r(_r({},a),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}},{key:"uninstall",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:_r(_r({},a),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}}]),r}(jit);sZ.VERSION=Lit.version;lZ.exports=sZ});var CA=h(function(t0){"use strict";t0.__esModule=!0;t0.default=pZ;t0.getFieldData=xA;var $it={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Hit={button:!0,fieldset:!0,reset:!0,submit:!0},Wit={checkbox:!0,radio:!0},Vit=/^\s+|\s+$/g,Git=Array.prototype.slice,fZ=Object.prototype.toString;function pZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trim:!1};if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var r={},n=void 0,i=[],a={},o=0,u=t.elements.length;o<u;o++){var s=t.elements[o];Hit[s.type]||s.disabled||(n=s.name||s.id,n&&!a[n]&&(i.push(n),a[n]=!0))}for(var l=0,c=i.length;l<c;l++){n=i[l];var f=xA(t,n,e);f!=null&&(r[n]=f)}return r}function xA(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{trim:!1};if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&fZ.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);var n=t.elements[e];if(!n||n.disabled)return null;if(!$it[fZ.call(n)])return dZ(n,r.trim);for(var i=[],a=!0,o=0,u=n.length;o<u;o++)if(!n[o].disabled){a&&n[o].type!=="radio"&&(a=!1);var s=dZ(n[o],r.trim);s!=null&&(i=i.concat(s))}return a&&i.length===1?i[0]:i.length>0?i:null}function dZ(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var i=0,a=t.options.length;i<a;i++)t.options[i].selected&&r.push(t.options[i].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=Git.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(Wit[n]?t.checked&&(r=t.value):r=e?t.value.replace(Vit,""):t.value,r)}pZ.getFieldData=xA});var bZ=h(function(syt,gZ){"use strict";function r0(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r0=function(r){return typeof r}:r0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r0(t)}function hZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hZ(Object(r),!0).forEach(function(n){Kit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kit(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xit(t,e,r){return e&&yZ(t.prototype,e),r&&yZ(t,r),t}function Jit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},DA(t,e)}function Qit(t){var e=eat();return function(){var n=n0(t),i;if(e){var a=n0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Zit(this,i)}}function Zit(t,e){if(e&&(r0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return El(t)}function El(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(t)}var tat=Kr(),rat=DP(),nat=On(),iat=CA().default||CA(),aat={version:"2.0.5"},mZ=function(t){Jit(r,t);var e=Qit(r);function r(n,i){var a;Yit(this,r),a=e.call(this,n,i),a.type="acquirer",a.id=a.opts.id||"Form",a.title="Form";var o={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return a.opts=vZ(vZ({},o),i),a.handleFormSubmit=a.handleFormSubmit.bind(El(a)),a.handleUploadStart=a.handleUploadStart.bind(El(a)),a.handleSuccess=a.handleSuccess.bind(El(a)),a.addResultToForm=a.addResultToForm.bind(El(a)),a.getMetaFromForm=a.getMetaFromForm.bind(El(a)),a}return Xit(r,[{key:"handleUploadStart",value:function(){this.opts.getMetaFromForm&&this.getMetaFromForm()}},{key:"handleSuccess",value:function(i){this.opts.addResultToForm&&this.addResultToForm(i),this.opts.submitOnSuccess&&this.form.submit()}},{key:"handleFormSubmit",value:function(i){var a=this;if(this.opts.triggerUploadOnSubmit){i.preventDefault();var o=nat(i.target.elements),u=[];o.forEach(function(s){var l=s.tagName==="BUTTON"||s.tagName==="INPUT"&&s.type==="submit";l&&!s.disabled&&(s.disabled=!0,u.push(s))}),this.uppy.upload().then(function(){u.forEach(function(s){s.disabled=!1})},function(s){return u.forEach(function(l){l.disabled=!1}),Promise.reject(s)}).catch(function(s){a.uppy.log(s.stack||s.message||s)})}}},{key:"addResultToForm",value:function(i){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(i);var a=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(a){var o;try{o=JSON.parse(a.value)}catch(u){}Array.isArray(o)||(o=[]),o.push(i),a.value=JSON.stringify(o);return}a=document.createElement("input"),a.name=this.opts.resultName,a.type="hidden",a.value=JSON.stringify([i]),this.form.appendChild(a)}},{key:"getMetaFromForm",value:function(){var i=iat(this.form);delete i[this.opts.resultName],this.uppy.setMeta(i)}},{key:"install",value:function(){if(this.form=rat(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}},{key:"uninstall",value:function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}}]),r}(tat);mZ.VERSION=aat.version;gZ.exports=mZ});var PZ=h(function(lyt,OZ){"use strict";function oat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uat(t,e,r){return e&&_Z(t.prototype,e),r&&_Z(t,r),t}var wZ=typeof navigator!="undefined"&&"serviceWorker"in navigator;function sat(){return new Promise(function(t,e){wZ?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}var SZ=function(){function t(e){oat(this,t),this.ready=sat(),this.name=e.storeName}return uat(t,[{key:"list",value:function(){var r=this,n={},i=new Promise(function(o,u){n.resolve=o,n.reject=u}),a=function o(u){if(u.data.store===r.name)switch(u.data.type){case"uppy/ALL_FILES":n.resolve(u.data.files),navigator.serviceWorker.removeEventListener("message",o);break;default:n.reject()}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",a),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),i}},{key:"put",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})}}]),t}();SZ.isSupported=wZ;OZ.exports=SZ});var CZ=h(function(cyt,xZ){"use strict";function RZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lat(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RZ(Object(r),!0).forEach(function(n){cat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pat(t,e,r){return e&&qZ(t.prototype,e),r&&qZ(t,r),t}var EZ=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),dat=!!EZ,TZ="uppy-blobs",wr="files",AZ=24*60*60*1e3,hat=3;function vat(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var i=n.value;i.expires=Date.now()+AZ,n.update(i)}}}function IZ(t){var e=EZ.open(t,hat);return new Promise(function(r,n){e.onupgradeneeded=function(i){var a=i.target.result,o=i.currentTarget.transaction;if(i.oldVersion<2){var u=a.createObjectStore(wr,{keyPath:"id"});u.createIndex("store","store",{unique:!1})}if(i.oldVersion<3){var s=o.objectStore(wr);s.createIndex("expires","expires",{unique:!1}),vat(s)}o.oncomplete=function(){r(a)}},e.onsuccess=function(i){r(i.target.result)},e.onerror=n})}function i0(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}var kZ=!1,FZ=function(){function t(e){var r=this;fat(this,t),this.opts=lat({dbName:TZ,storeName:"default",expires:AZ,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=function(){return IZ(r.opts.dbName)};kZ?this.ready=n():(kZ=!0,this.ready=t.cleanup().then(n,n))}return pat(t,[{key:"key",value:function(r){return"".concat(this.name,"!").concat(r)}},{key:"list",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([wr],"readonly"),a=i.objectStore(wr),o=a.index("store").getAll(IDBKeyRange.only(r.name));return i0(o)}).then(function(n){var i={};return n.forEach(function(a){i[a.fileID]=a.data}),i})}},{key:"get",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([wr],"readonly"),o=a.objectStore(wr).get(n.key(r));return i0(o)}).then(function(i){return{id:i.data.fileID,data:i.data.data}})}},{key:"getSize",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([wr],"readonly"),a=i.objectStore(wr),o=a.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(u,s){var l=0;o.onsuccess=function(c){var f=c.target.result;f?(l+=f.value.data.size,f.continue()):u(l)},o.onerror=function(){s(new Error("Could not retrieve stored blobs size"))}})})}},{key:"put",value:function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(i){return i>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(i){var a=i.transaction([wr],"readwrite"),o=a.objectStore(wr).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return i0(o)})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([wr],"readwrite"),o=a.objectStore(wr).delete(n.key(r));return i0(o)})}}],[{key:"cleanup",value:function(){return IZ(TZ).then(function(r){var n=r.transaction([wr],"readwrite"),i=n.objectStore(wr),a=i.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(o,u){a.onsuccess=function(s){var l=s.target.result;l?(l.delete(),l.continue()):o(r)},a.onerror=u})}).then(function(r){r.close()})}}]),t}();FZ.isSupported=dat;xZ.exports=FZ});var BZ=h(function(fyt,NZ){"use strict";function DZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yat(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DZ(Object(r),!0).forEach(function(n){mat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bat(t,e,r){return e&&UZ(t.prototype,e),r&&UZ(t,r),t}function _at(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice("uppyState:".length))}return t}function jZ(t){try{return JSON.parse(t)}catch(e){return null}}var MZ=!1,wat=function(){function t(e){gat(this,t),this.opts=yat({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),MZ||(MZ=!0,t.cleanup())}return bat(t,[{key:"load",value:function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=jZ(r);return n?n.metadata?n.metadata:(this.save(n),n):null}},{key:"save",value:function(r){var n=Date.now()+this.opts.expires,i=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,i)}}],[{key:"cleanup",value:function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=_at(),i=Date.now();n.forEach(function(a){var o=localStorage.getItem("uppyState:".concat(a));if(!!o){var u=jZ(o);!u||u.expires&&u.expires<i&&localStorage.removeItem("uppyState:".concat(a))}})}}]),t}();NZ.exports=wat});var WZ=h(function(pyt,HZ){"use strict";function a0(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a0=function(r){return typeof r}:a0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a0(t)}function LZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LZ(Object(r),!0).forEach(function(n){Sat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pat(t,e,r){return e&&zZ(t.prototype,e),r&&zZ(t,r),t}function Rat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UA(t,e)}function UA(t,e){return UA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},UA(t,e)}function qat(t){var e=Tat();return function(){var n=o0(t),i;if(e){var a=o0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Eat(this,i)}}function Eat(t,e){if(e&&(a0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tl(t)}function Tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function o0(t){return o0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},o0(t)}var Aat=gf(),Iat=Kr(),kat=PZ(),Fat=CZ(),u0=BZ(),xat={version:"2.0.6"},$Z=function(t){Rat(r,t);var e=qat(r);function r(n,i){var a;Oat(this,r),a=e.call(this,n,i),a.addBlobToStores=function(u){u.isRemote||(a.ServiceWorkerStore&&a.ServiceWorkerStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}),a.IndexedDBStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}))},a.removeBlobFromStores=function(u){a.ServiceWorkerStore&&a.ServiceWorkerStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)}),a.IndexedDBStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)})},a.replaceBlobInStores=function(u){a.removeBlobFromStores(u),a.addBlobToStores(u)},a.handleRestoreConfirmed=function(){a.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var u=a.uppy.getState(),s=u.currentUploads;s&&(Object.keys(s).forEach(function(l){a.uppy.restore(l,s[l])}),a.uppy.resumeAll()),a.uppy.upload(),a.uppy.setState({recoveredState:null})},a.abortRestore=function(){a.uppy.log("[GoldenRetriever] Aborting restore...");var u=Object.keys(a.uppy.getState().files);a.deleteBlobs(u).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(u.length," files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not remove ".concat(u.length," files"),"warning"),a.uppy.log(s)}),a.uppy.cancelAll(),a.uppy.setState({recoveredState:null}),u0.cleanup(a.uppy.opts.id)},a.handleComplete=function(u){var s=u.successful,l=s.map(function(c){return c.id});a.deleteBlobs(l).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files that finished uploading"))}).catch(function(c){a.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files that finished uploading"),"warning"),a.uppy.log(c)}),a.uppy.setState({recoveredState:null}),u0.cleanup(a.uppy.opts.id)},a.restoreBlobs=function(){a.uppy.getFiles().length>0?Promise.all([a.loadFileBlobsFromServiceWorker(),a.loadFileBlobsFromIndexedDB()]).then(function(u){var s=Ht(Ht({},u[0]),u[1]);a.onBlobsLoaded(s)}):(a.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),a.onBlobsLoaded([]))},a.type="debugger",a.id=a.opts.id||"GoldenRetriever",a.title="Golden Retriever";var o={expires:24*60*60*1e3,serviceWorker:!1};return a.opts=Ht(Ht({},o),i),a.MetaDataStore=new u0({expires:a.opts.expires,storeName:n.getID()}),a.ServiceWorkerStore=null,a.opts.serviceWorker&&(a.ServiceWorkerStore=new kat({storeName:n.getID()})),a.IndexedDBStore=new Fat(Ht(Ht({expires:a.opts.expires},a.opts.indexedDB||{}),{},{storeName:n.getID()})),a.saveFilesStateToLocalStorage=Aat(a.saveFilesStateToLocalStorage.bind(Tl(a)),500,{leading:!0,trailing:!0}),a.restoreState=a.restoreState.bind(Tl(a)),a.loadFileBlobsFromServiceWorker=a.loadFileBlobsFromServiceWorker.bind(Tl(a)),a.loadFileBlobsFromIndexedDB=a.loadFileBlobsFromIndexedDB.bind(Tl(a)),a.onBlobsLoaded=a.onBlobsLoaded.bind(Tl(a)),a}return Pat(r,[{key:"restoreState",value:function(){var i=this.MetaDataStore.load();i&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:i.currentUploads||{},files:i.files||{},recoveredState:i}),this.savedPluginData=i.pluginData)}},{key:"getWaitingFiles",value:function(){var i={};return this.uppy.getFiles().forEach(function(a){(!a.progress||!a.progress.uploadStarted)&&(i[a.id]=a)}),i}},{key:"getUploadingFiles",value:function(){var i=this,a={},o=this.uppy.getState(),u=o.currentUploads;if(u){var s=Object.keys(u);s.forEach(function(l){var c=u[l].fileIDs;c.forEach(function(f){a[f]=i.uppy.getFile(f)})})}return a}},{key:"saveFilesStateToLocalStorage",value:function(){var i=Ht(Ht({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(i).length===0){this.uppy.setState({recoveredState:null}),u0.cleanup(this.uppy.opts.id);return}var a={};Object.keys(i).forEach(function(l){i[l].isRemote?a[l]=Ht(Ht({},i[l]),{},{isRestored:!0}):a[l]=Ht(Ht({},i[l]),{},{isRestored:!0,data:null,preview:null})});var o={};this.uppy.emit("restore:get-data",function(l){Object.assign(o,l)});var u=this.uppy.getState(),s=u.currentUploads;this.MetaDataStore.save({currentUploads:s,files:a,pluginData:o})}},{key:"loadFileBlobsFromServiceWorker",value:function(){var i=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(a){var o=i.uppy.getFiles(),u=o.filter(function(c){return!c.isRemote}),s=Object.keys(a).length,l=u.length;return s===l?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(s," blobs from Service Worker!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),i.uppy.log(a),{}}):Promise.resolve({})}},{key:"loadFileBlobsFromIndexedDB",value:function(){var i=this;return this.IndexedDBStore.list().then(function(a){var o=Object.keys(a).length;return o>0?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(o," blobs from IndexedDB!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),i.uppy.log(a),{}})}},{key:"onBlobsLoaded",value:function(i){var a=this,o=[],u=Ht({},this.uppy.getState().files);Object.keys(i).forEach(function(s){var l=a.uppy.getFile(s);if(!l){o.push(s);return}var c=i[s],f={data:c,isRestored:!0,isGhost:!1};u[s]=Ht(Ht({},l),f)}),Object.keys(u).forEach(function(s){u[s].data===null&&(u[s]=Ht(Ht({},u[s]),{},{isGhost:!0}))}),this.uppy.setState({files:u}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(function(){a.uppy.log("[GoldenRetriever] Cleaned up ".concat(o.length," old files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not clean up ".concat(o.length," old files"),"warning"),a.uppy.log(s)})}},{key:"deleteBlobs",value:function(i){var a=this,o=[];return i.forEach(function(u){a.ServiceWorkerStore&&o.push(a.ServiceWorkerStore.delete(u)),a.IndexedDBStore&&o.push(a.IndexedDBStore.delete(u))}),Promise.all(o)}},{key:"install",value:function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}},{key:"uninstall",value:function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}}]),r}(Iat);$Z.VERSION=xat.version;HZ.exports=$Z});var XZ=h(function(dyt,YZ){"use strict";function s0(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s0=function(r){return typeof r}:s0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s0(t)}function VZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VZ(Object(r),!0).forEach(function(n){Cat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uat(t,e,r){return e&&GZ(t.prototype,e),r&&GZ(t,r),t}function jat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jA(t,e)}function Mat(t){var e=Bat();return function(){var n=l0(t),i;if(e){var a=l0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Nat(this,i)}}function Nat(t,e){if(e&&(s0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MA(t)}function MA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},l0(t)}var Lat=rt(),zat={version:"2.0.3"},KZ=function(t){jat(r,t);var e=Mat(r);function r(n,i){var a;Dat(this,r),a=e.call(this,n,i),a.type="debugger",a.id=a.opts.id||"ReduxDevTools",a.title="Redux DevTools";var o={};return a.opts=Al(Al({},o),i),a.handleStateChange=a.handleStateChange.bind(MA(a)),a.initDevTools=a.initDevTools.bind(MA(a)),a}return Uat(r,[{key:"handleStateChange",value:function(i,a){this.devTools.send("UPPY_STATE_UPDATE",a)}},{key:"initDevTools",value:function(){var i=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(a){if(a.type==="DISPATCH")switch(a.payload.type){case"RESET":i.uppy.reset();return;case"IMPORT_STATE":{var o=a.payload.nextLiftedState.computedStates;i.uppy.store.state=Al(Al({},i.uppy.getState()),o[o.length-1].state),i.uppy.updateAll(i.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":i.uppy.store.state=Al(Al({},i.uppy.getState()),JSON.parse(a.state)),i.uppy.updateAll(i.uppy.getState());break;default:}})}},{key:"install",value:function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}},{key:"uninstall",value:function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}}]),r}(Lat.UIPlugin);KZ.VERSION=zat.version;YZ.exports=KZ});var QZ=h(function(hyt,JZ){function c0(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c0=function(r){return typeof r}:c0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c0(t)}JZ.exports=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(c0(e)));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return"".concat((r?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((r?"-":"")+e.toFixed(0)," ").concat(a):"".concat((r?"-":"")+e.toFixed(1)," ").concat(a)}});var uee=h(function(vyt,oee){"use strict";function ZZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZZ(Object(r),!0).forEach(function(n){Wat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hat(t,e,r){return e&&eee(t.prototype,e),r&&eee(t,r),t}function Wat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p0(){return p0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}var tee={exports:{}};(function(t){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(s){return!1}}(),i=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(s){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(s){var l,c,f,p,d,v,m,g,w;if(l=s.match(o),!l)throw new Error("invalid data URI");for(c=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),f=!!l[4],p=s.slice(l[0].length),f?d=atob(p):d=decodeURIComponent(p),v=new ArrayBuffer(d.length),m=new Uint8Array(v),g=0;g<d.length;g+=1)m[g]=d.charCodeAt(g);return n?new Blob([i?m:v],{type:c}):(w=new a,w.append(v),w.getBlob(c))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){c&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.mozGetAsFile("blob",l))})}:r.toDataURL&&u&&(r.msToBlob?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){(l&&l!=="image/png"||c)&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.msToBlob(l))})}:r.toBlob=function(s,l,c){var f=this;setTimeout(function(){s(u(f.toDataURL(l,c)))})})),t.exports?t.exports=u:e.dataURLtoBlob=u}(window)})(tee);var Vat=tee.exports,Gat=function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},ree={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Kat=typeof window!="undefined"&&typeof window.document!="undefined",ro=Kat?window:{},d0=function(e){return e>0&&e<1/0},Yat=Array.prototype.slice;function Xat(t){return Array.from?Array.from(t):Yat.call(t)}var Jat=/^image\/.+$/;function NA(t){return Jat.test(t)}function Qat(t){var e=NA(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var nee=String.fromCharCode;function Zat(t,e,r){var n="",i;for(r+=e,i=e;i<r;i+=1)n+=nee(t.getUint8(i));return n}var eot=ro.btoa;function tot(t,e){for(var r=[],n=8192,i=new Uint8Array(t);i.length>0;)r.push(nee.apply(null,Xat(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(e,";base64,").concat(eot(r.join("")))}function rot(t){var e=new DataView(t),r;try{var n,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,u=2;u+1<o;){if(e.getUint8(u)===255&&e.getUint8(u+1)===225){i=u;break}u+=1}if(i){var s=i+4,l=i+10;if(Zat(e,s,4)==="Exif"){var c=e.getUint16(l);if(n=c===18761,(n||c===19789)&&e.getUint16(l+2,n)===42){var f=e.getUint32(l+4,n);f>=8&&(a=l+f)}}}if(a){var p=e.getUint16(a,n),d,v;for(v=0;v<p;v+=1)if(d=a+v*12+2,e.getUint16(d,n)===274){d+=8,r=e.getUint16(d,n),e.setUint16(d,1,n);break}}}catch(m){r=1}return r}function not(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var iot=/\.\d*(?:0|9){12}\d*$/;function iee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return iot.test(t)?Math.round(t*e)/e:t}function sd(t){var e=t.aspectRatio,r=t.height,n=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",a=d0(n),o=d0(r);if(a&&o){var u=r*e;(i==="contain"||i==="none")&&u>n||i==="cover"&&u<n?r=n/e:n=r*e}else a?r=n/e:o&&(n=r*e);return{width:n,height:r}}var aot=ro.ArrayBuffer,aee=ro.FileReader,Eu=ro.URL||ro.webkitURL,oot=/\.\w+$/,uot=ro.Compressor,sot=function(){function t(e,r){$at(this,t),this.file=e,this.image=new Image,this.options=f0(f0({},ree),r),this.aborted=!1,this.result=null,this.init()}return Hat(t,[{key:"init",value:function(){var r=this,n=this.file,i=this.options;if(!Gat(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=n.type;if(!NA(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Eu||!aee){this.fail(new Error("The current browser does not support image compression."));return}if(aot||(i.checkOrientation=!1),Eu&&!i.checkOrientation)this.load({url:Eu.createObjectURL(n)});else{var o=new aee,u=i.checkOrientation&&a==="image/jpeg";this.reader=o,o.onload=function(s){var l=s.target,c=l.result,f={};if(u){var p=rot(c);p>1||!Eu?(f.url=tot(c,a),p>1&&p0(f,not(p))):f.url=Eu.createObjectURL(n)}else f.url=c;r.load(f)},o.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){r.reader=null},u?o.readAsArrayBuffer(n):o.readAsDataURL(n)}}},{key:"load",value:function(r){var n=this,i=this.file,a=this.image;a.onload=function(){n.draw(f0(f0({},r),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){n.fail(new Error("Aborted to load the image."))},a.onerror=function(){n.fail(new Error("Failed to load the image."))},ro.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ro.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=i.name,a.src=r.url}},{key:"draw",value:function(r){var n=this,i=r.naturalWidth,a=r.naturalHeight,o=r.rotate,u=o===void 0?0:o,s=r.scaleX,l=s===void 0?1:s,c=r.scaleY,f=c===void 0?1:c,p=this.file,d=this.image,v=this.options,m=document.createElement("canvas"),g=m.getContext("2d"),w=Math.abs(u)%180==90,_=(v.resize==="contain"||v.resize==="cover")&&d0(v.width)&&d0(v.height),O=Math.max(v.maxWidth,0)||1/0,T=Math.max(v.maxHeight,0)||1/0,C=Math.max(v.minWidth,0)||0,F=Math.max(v.minHeight,0)||0,$=i/a,G=v.width,q=v.height;if(w){var j=[T,O];O=j[0],T=j[1];var Q=[F,C];C=Q[0],F=Q[1];var X=[q,G];G=X[0],q=X[1]}_&&($=G/q);var A=sd({aspectRatio:$,width:O,height:T},"contain");O=A.width,T=A.height;var I=sd({aspectRatio:$,width:C,height:F},"cover");if(C=I.width,F=I.height,_){var L=sd({aspectRatio:$,width:G,height:q},v.resize);G=L.width,q=L.height}else{var D=sd({aspectRatio:$,width:G,height:q}),U=D.width;G=U===void 0?i:U;var B=D.height;q=B===void 0?a:B}G=Math.floor(iee(Math.min(Math.max(G,C),O))),q=Math.floor(iee(Math.min(Math.max(q,F),T)));var ee=-G/2,ce=-q/2,ue=G,Ue=q,$e=[];if(_){var st=0,lt=0,Wt=i,Pt=a,Vt=sd({aspectRatio:$,width:i,height:a},{contain:"cover",cover:"contain"}[v.resize]);Wt=Vt.width,Pt=Vt.height,st=(i-Wt)/2,lt=(a-Pt)/2,$e.push(st,lt,Wt,Pt)}if($e.push(ee,ce,ue,Ue),w){var Tu=[q,G];G=Tu[0],q=Tu[1]}m.width=G,m.height=q,NA(v.mimeType)||(v.mimeType=p.type);var Il="transparent";if(p.size>v.convertSize&&v.convertTypes.indexOf(v.mimeType)>=0&&(v.mimeType="image/jpeg"),v.mimeType==="image/jpeg"&&(Il="#fff"),g.fillStyle=Il,g.fillRect(0,0,G,q),v.beforeDraw&&v.beforeDraw.call(this,g,m),!this.aborted&&(g.save(),g.translate(G/2,q/2),g.rotate(u*Math.PI/180),g.scale(l,f),g.drawImage.apply(g,[d].concat($e)),g.restore(),v.drew&&v.drew.call(this,g,m),!this.aborted)){var fd=function(m0){n.aborted||n.done({naturalWidth:i,naturalHeight:a,result:m0})};m.toBlob?m.toBlob(fd,v.mimeType,v.quality):fd(Vat(m.toDataURL(v.mimeType,v.quality)))}}},{key:"done",value:function(r){var n=r.naturalWidth,i=r.naturalHeight,a=r.result,o=this.file,u=this.image,s=this.options;if(Eu&&!s.checkOrientation&&Eu.revokeObjectURL(u.src),a)if(s.strict&&a.size>o.size&&s.mimeType===o.type&&!(s.width>n||s.height>i||s.minWidth>n||s.minHeight>i||s.maxWidth<n||s.maxHeight<i))a=o;else{var l=new Date;a.lastModified=l.getTime(),a.lastModifiedDate=l,a.name=o.name,a.name&&a.type!==o.type&&(a.name=a.name.replace(oot,Qat(a.type)))}else a=o;this.result=a,s.success&&s.success.call(this,a)}},{key:"fail",value:function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=uot,t}},{key:"setDefaults",value:function(r){p0(ree,r)}}]),t}();oee.exports=sot});var lee=h(function(yyt,see){"use strict";see.exports={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}}});var gee=h(function(myt,mee){"use strict";function h0(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h0=function(r){return typeof r}:h0=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},h0(t)}function lot(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=cot(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function cot(t,e){if(!!t){if(typeof t=="string")return cee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cee(t,e)}}function cee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fee(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function pee(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){fee(a,n,i,o,u,"next",s)}function u(s){fee(a,n,i,o,u,"throw",s)}o(void 0)})}}function dee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dee(Object(r),!0).forEach(function(n){fot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dot(t,e,r){return e&&hee(t.prototype,e),r&&hee(t,r),t}function hot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},BA(t,e)}function vot(t){var e=mot();return function(){var n=y0(t),i;if(e){var a=y0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yot(this,i)}}function yot(t,e){if(e&&(h0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ld(t)}function ld(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}var got=rt(),bot=Ka();function vee(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var _ot=0;function wot(t){return"__private_"+_ot+++"_"+t}var Sot=bf(),yee=QZ(),Oot=uee(),Pot=lee(),cd=wot("RateLimitedQueue"),Rot=function(t){hot(r,t);var e=vot(r);function r(n,i){var a;pot(this,r),a=e.call(this,n,i),Object.defineProperty(ld(a),cd,{writable:!0,value:void 0}),a.id=a.opts.id||"Compressor",a.type="modifier",a.defaultLocale=Pot;var o={quality:.6,limit:10};return a.opts=v0(v0({},o),i),vee(ld(a),cd)[cd]=new bot.RateLimitedQueue(a.opts.limit),a.i18nInit(),a.prepareUpload=a.prepareUpload.bind(ld(a)),a.compress=a.compress.bind(ld(a)),a}return dot(r,[{key:"compress",value:function(i){var a=this;return new Promise(function(o,u){new Oot(i,v0(v0({},a.opts),{},{success:o,error:u}))})}},{key:"prepareUpload",value:function(){var n=pee(regeneratorRuntime.mark(function a(o){var u=this,s,l,c,f,p,d,v,m;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=0,l=[],c=vee(this,cd)[cd].wrapPromiseFunction(function(){var _=pee(regeneratorRuntime.mark(function O(T){var C,F,$,G,q,j,Q;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,u.compress(T.data);case 3:C=A.sent,F=T.data.size-C.size,u.uppy.log("[Image Compressor] Image ".concat(T.id," compressed by ").concat(yee(F))),s+=F,$=C.name,G=C.type,q=C.size,j=Sot($),Q=j.extension,u.uppy.setFileState(T.id,{name:$,extension:Q,type:G,size:q,data:C}),u.uppy.setFileMeta(T.id,{name:$,type:G}),l.push(T),A.next=18;break;case 14:A.prev=14,A.t0=A.catch(0),u.uppy.log("[Image Compressor] Failed to compress ".concat(T.id,":"),"warning"),u.uppy.log(A.t0,"warning");case 18:case"end":return A.stop()}},O,null,[[0,14]])}));return function(O){return _.apply(this,arguments)}}()),f=o.map(function(_){var O=u.uppy.getFile(_);return u.uppy.emit("preprocess-progress",O,{mode:"indeterminate",message:u.i18n("compressingImages")}),O.isRemote||(O.data.type||(O.data=O.data.slice(0,O.data.size,O.type)),!O.type.startsWith("image/"))?Promise.resolve():c(O)}),w.next=6,Promise.all(f);case 6:this.uppy.emit("compressor:complete",l),s>1024&&this.uppy.info(this.i18n("compressedX",{size:yee(s)}),"info"),p=lot(o);try{for(p.s();!(d=p.n()).done;)v=d.value,m=this.uppy.getFile(v),this.uppy.emit("preprocess-complete",m)}catch(_){p.e(_)}finally{p.f()}case 10:case"end":return w.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"install",value:function(){this.uppy.addPreProcessor(this.prepareUpload)}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(this.prepareUpload)}}]),r}(got.BasePlugin);mee.exports=Rot});var bee=h(function(Oe){Oe.Core=rt();Oe.debugLogger=Oe.Core.debugLogger;Oe.server=nr();Oe.views={ProviderView:Ni()};Oe.DefaultStore=SP();Oe.ReduxStore=e7();Oe.Dashboard=EH();Oe.DragDrop=MH();Oe.DropTarget=WH();Oe.FileInput=tW();Oe.Informer=qR();Oe.ProgressBar=cW();Oe.StatusBar=wR();Oe.ImageEditor=OW();Oe.Dropbox=FW();Oe.GoogleDrive=HW();Oe.Instagram=ZW();Oe.OneDrive=sV();Oe.Box=mV();Oe.Facebook=qV();Oe.Unsplash=CV();Oe.Url=XV();Oe.Webcam=CG();Oe.ScreenCapture=aK();Oe.Audio=XK();Oe.AwsS3=EY();Oe.AwsS3Multipart=HY();Oe.Transloadit=XQ();Oe.Tus=mT();Oe.XHRUpload=cZ();Oe.Form=bZ();Oe.GoldenRetriever=WZ();Oe.ReduxDevTools=XZ();Oe.ThumbnailGenerator=VR();Oe.Compressor=gee();Oe.locales={}});var wee=h(function(byt,_ee){globalThis.Uppy=_ee.exports=bee()});var Bu=P(),n_=z(),_ae=Fe(),wae=Ke(),Hl=le(),Sae=ie(),Oae=de(),Lu=Ee(),go=gd(),i_=ae(),ht=Le(),Pae=po(),Rae=Te(),qae=_e(),Eae=Zt(),a_=xu(),o_=V(),Tae=xe(),Ud=Qt(),u_=ci(),Gk=Be(),s_=sn(),Wl=Dt(),Kk=ho(),Aae=pi(),Yk=Dd(),l_=Rd(),Xk=Ct(),Jk=Ne(),Qk=Cl(),Iae=da(),jd=ct(),Vl=Du(),kae=Ml(),Zk=Mu(),eF=Uu(),tF=ge(),Fae=t_(),xae=at(),Cae=Br(),rF=Ve(),Md=At().forEach,dr=kae("hidden"),Nd="Symbol",Gl="prototype",nF=tF("toPrimitive"),Dae=rF.set,iF=rF.getterFor(Nd),Lr=Object[Gl],hi=n_.Symbol,va=hi&&hi[Gl],aF=n_.TypeError,c_=n_.QObject,Kl=_ae("JSON","stringify"),oF=Xk.f,ya=Jk.f,uF=Yk.f,Uae=Qk.f,sF=Sae([].push),vi=Vl("symbols"),Yl=Vl("op-symbols"),f_=Vl("string-to-symbol-registry"),p_=Vl("symbol-to-string-registry"),jae=Vl("wks"),d_=!c_||!c_[Gl]||!c_[Gl].findChild,h_=Lu&&i_(function(){return Wl(ya({},"a",{get:function(){return ya(this,"a",{value:7}).a}})).a!=7})?function(t,e,r){var n=oF(Lr,e);n&&delete Lr[e],ya(t,e,r),n&&t!==Lr&&ya(Lr,e,n)}:ya,v_=function(e,r){var n=vi[e]=Wl(va);return Dae(n,{type:Nd,tag:e,description:r}),Lu||(n.description=r),n},Bd=function(e,r,n){e===Lr&&Bd(Yl,r,n),o_(e);var i=u_(r);return o_(n),ht(vi,i)?(n.enumerable?(ht(e,dr)&&e[dr][i]&&(e[dr][i]=!1),n=Wl(n,{enumerable:s_(0,!1)})):(ht(e,dr)||ya(e,dr,s_(1,{})),e[dr][i]=!0),h_(e,i,n)):ya(e,i,n)},lF=function(e,r){o_(e);var n=Ud(r),i=Kk(n).concat(m_(n));return Md(i,function(a){(!Lu||Hl(y_,n,a))&&Bd(e,a,n[a])}),e},Mae=function(e,r){return r===void 0?Wl(e):lF(Wl(e),r)},y_=function(e){var r=u_(e),n=Hl(Uae,this,r);return this===Lr&&ht(vi,r)&&!ht(Yl,r)?!1:n||!ht(this,r)||!ht(vi,r)||ht(this,dr)&&this[dr][r]?n:!0},cF=function(e,r){var n=Ud(e),i=u_(r);if(!(n===Lr&&ht(vi,i)&&!ht(Yl,i))){var a=oF(n,i);return a&&ht(vi,i)&&!(ht(n,dr)&&n[dr][i])&&(a.enumerable=!0),a}},fF=function(e){var r=uF(Ud(e)),n=[];return Md(r,function(i){!ht(vi,i)&&!ht(Zk,i)&&sF(n,i)}),n},m_=function(e){var r=e===Lr,n=uF(r?Yl:Ud(e)),i=[];return Md(n,function(a){ht(vi,a)&&(!r||ht(Lr,a))&&sF(i,vi[a])}),i};go||(hi=function(){if(Eae(va,this))throw aF("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Gk(arguments[0]),r=eF(e),n=function i(a){this===Lr&&Hl(i,Yl,a),ht(this,dr)&&ht(this[dr],r)&&(this[dr][r]=!1),h_(this,r,s_(1,a))};return Lu&&d_&&h_(Lr,r,{configurable:!0,set:n}),v_(r,e)},va=hi[Gl],jd(va,"toString",function(){return iF(this).tag}),jd(hi,"withoutSetter",function(t){return v_(eF(t),t)}),Qk.f=y_,Jk.f=Bd,Xk.f=cF,Aae.f=Yk.f=fF,l_.f=m_,Fae.f=function(t){return v_(tF(t),t)},Lu&&(ya(va,"description",{configurable:!0,get:function(){return iF(this).description}}),Oae||jd(Lr,"propertyIsEnumerable",y_,{unsafe:!0})));Bu({global:!0,wrap:!0,forced:!go,sham:!go},{Symbol:hi});Md(Kk(jae),function(t){xae(t)});Bu({target:Nd,stat:!0,forced:!go},{for:function(e){var r=Gk(e);if(ht(f_,r))return f_[r];var n=hi(r);return f_[r]=n,p_[n]=r,n},keyFor:function(e){if(!a_(e))throw aF(e+" is not a symbol");if(ht(p_,e))return p_[e]},useSetter:function(){d_=!0},useSimple:function(){d_=!1}});Bu({target:"Object",stat:!0,forced:!go,sham:!Lu},{create:Mae,defineProperty:Bd,defineProperties:lF,getOwnPropertyDescriptor:cF});Bu({target:"Object",stat:!0,forced:!go},{getOwnPropertyNames:fF,getOwnPropertySymbols:m_});Bu({target:"Object",stat:!0,forced:i_(function(){l_.f(1)})},{getOwnPropertySymbols:function(e){return l_.f(Tae(e))}});Kl&&(pF=!go||i_(function(){var t=hi();return Kl([t])!="[null]"||Kl({a:t})!="{}"||Kl(Object(t))!="{}"}),Bu({target:"JSON",stat:!0,forced:pF},{stringify:function(e,r,n){var i=Iae(arguments),a=r;if(!(!qae(r)&&e===void 0||a_(e)))return Pae(r)||(r=function(u,s){if(Rae(a)&&(s=Hl(a,this,u,s)),!a_(s))return s}),i[1]=r,wae(Kl,null,i)}}));var pF;va[nF]||(dF=va.valueOf,jd(va,nF,function(t){return Hl(dF,this)}));var dF;Cae(hi,Nd);Zk[dr]=!0;var Nae=P(),Bae=Ee(),Lae=z(),Ld=ie(),zae=Le(),$ae=Te(),Hae=Zt(),Wae=Be(),Vae=Ne().f,Gae=Ed(),yi=Lae.Symbol,bo=yi&&yi.prototype;Bae&&$ae(yi)&&(!("description"in bo)||yi().description!==void 0)&&(g_={},Xl=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:Wae(arguments[0]),r=Hae(bo,this)?new yi(e):e===void 0?yi():yi(e);return e===""&&(g_[r]=!0),r},Gae(Xl,yi),Xl.prototype=bo,bo.constructor=Xl,hF=String(yi("test"))=="Symbol(test)",vF=Ld(bo.toString),yF=Ld(bo.valueOf),mF=/^Symbol\((.*)\)[^)]+$/,gF=Ld("".replace),bF=Ld("".slice),Vae(bo,"description",{configurable:!0,get:function(){var e=yF(this),r=vF(e);if(zae(g_,e))return"";var n=hF?bF(r,7,-1):gF(r,mF,"$1");return n===""?void 0:n}}),Nae({global:!0,forced:!0},{Symbol:Xl}));var g_,Xl,hF,vF,yF,mF,gF,bF;var Kae=at();Kae("asyncIterator");var Yae=at();Yae("hasInstance");var Xae=at();Xae("isConcatSpreadable");var Jae=at();Jae("iterator");var Qae=at();Qae("match");var Zae=at();Zae("matchAll");var eoe=at();eoe("replace");var toe=at();toe("search");var roe=at();roe("species");var noe=at();noe("split");var ioe=at();ioe("toPrimitive");var aoe=at();aoe("toStringTag");var ooe=at();ooe("unscopables");var Dyt=Nr(R_());var Sue=P(),Oue=z(),Pue=ae(),Rue=po(),que=_e(),Eue=xe(),Tue=Ge(),KF=di(),Aue=mo(),Iue=$u(),kue=ge(),Fue=lo(),YF=kue("isConcatSpreadable"),XF=9007199254740991,JF="Maximum allowed index exceeded",QF=Oue.TypeError,xue=Fue>=51||!Pue(function(){var t=[];return t[YF]=!1,t.concat()[0]!==t}),Cue=Iue("concat"),Due=function(e){if(!que(e))return!1;var r=e[YF];return r!==void 0?!!r:Rue(e)},Uue=!xue||!Cue;Sue({target:"Array",proto:!0,forced:Uue},{concat:function(e){var r=Eue(this),n=Aue(r,0),i=0,a,o,u,s,l;for(a=-1,u=arguments.length;a<u;a++)if(l=a===-1?r:arguments[a],Due(l)){if(s=Tue(l),i+s>XF)throw QF(JF);for(o=0;o<s;o++,i++)o in l&&KF(n,i,l[o])}else{if(i>=XF)throw QF(JF);KF(n,i++,l)}return n.length=i,n}});var $ue=P(),Hue=E_(),Wue=Kt();$ue({target:"Array",proto:!0},{copyWithin:Hue});Wue("copyWithin");var Kue=P(),Yue=Xd(),Xue=Kt();Kue({target:"Array",proto:!0},{fill:Yue});Xue("fill");var Jue=P(),Que=At().filter,Zue=$u(),ese=Zue("filter");Jue({target:"Array",proto:!0,forced:!ese},{filter:function(e){return Que(this,e,arguments.length>1?arguments[1]:void 0)}});var tse=P(),rse=At().find,nse=Kt(),I_="find",nx=!0;I_ in[]&&Array(1)[I_](function(){nx=!1});tse({target:"Array",proto:!0,forced:nx},{find:function(e){return rse(this,e,arguments.length>1?arguments[1]:void 0)}});nse(I_);var ise=P(),ase=At().findIndex,ose=Kt(),k_="findIndex",ix=!0;k_ in[]&&Array(1)[k_](function(){ix=!1});ise({target:"Array",proto:!0,forced:ix},{findIndex:function(e){return ase(this,e,arguments.length>1?arguments[1]:void 0)}});ose(k_);var dse=P(),hse=F_(),vse=xe(),yse=Ge(),mse=Gt(),gse=mo();dse({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,r=vse(this),n=yse(r),i=gse(r,0);return i.length=hse(i,r,r,n,0,e===void 0?1:mse(e)),i}});var bse=P(),_se=F_(),wse=pe(),Sse=xe(),Ose=Ge(),Pse=mo();bse({target:"Array",proto:!0},{flatMap:function(e){var r=Sse(this),n=Ose(r),i;return wse(e),i=Pse(r,0),i.length=_se(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}});var Mse=P(),Nse=x_(),Bse=Zl(),Lse=!Bse(function(t){Array.from(t)});Mse({target:"Array",stat:!0,forced:Lse},{from:Nse});var zse=P(),$se=Bl().includes,Hse=Kt();zse({target:"Array",proto:!0},{includes:function(e){return $se(this,e,arguments.length>1?arguments[1]:void 0)}});Hse("includes");var Vyt=Nr(rc());var gle=P(),ble=ie(),_le=so(),wle=Qt(),Sle=nc(),Ole=ble([].join),Ple=_le!=Object,Rle=Sle("join",",");gle({target:"Array",proto:!0,forced:Ple||!Rle},{join:function(e){return Ole(wle(this),e===void 0?",":e)}});var qle=P(),Ele=At().map,Tle=$u(),Ale=Tle("map");qle({target:"Array",proto:!0,forced:!Ale},{map:function(e){return Ele(this,e,arguments.length>1?arguments[1]:void 0)}});var Ile=P(),kle=z(),Fle=ae(),xle=yo(),Cle=di(),xx=kle.Array,Dle=Fle(function(){function t(){}return!(xx.of.call(t)instanceof t)});Ile({target:"Array",stat:!0,forced:Dle},{of:function(){for(var e=0,r=arguments.length,n=new(xle(this)?this:xx)(r);r>e;)Cle(n,e,arguments[e++]);return n.length=r,n}});var Ule=P(),jle=z(),Cx=po(),Mle=yo(),Nle=_e(),Dx=fi(),Ble=Ge(),Lle=Qt(),zle=di(),$le=ge(),Hle=$u(),Wle=da(),Vle=Hle("slice"),Gle=$le("species"),B_=jle.Array,Kle=Math.max;Ule({target:"Array",proto:!0,forced:!Vle},{slice:function(e,r){var n=Lle(this),i=Ble(n),a=Dx(e,i),o=Dx(r===void 0?i:r,i),u,s,l;if(Cx(n)&&(u=n.constructor,Mle(u)&&(u===B_||Cx(u.prototype))?u=void 0:Nle(u)&&(u=u[Gle],u===null&&(u=void 0)),u===B_||u===void 0))return Wle(n,a,o);for(s=new(u===void 0?B_:u)(Kle(o-a,0)),l=0;a<o;a++,l++)a in n&&zle(s,l,n[a]);return s.length=l,s}});var rce=P(),$x=ie(),nce=pe(),ice=xe(),ace=Ge(),Hx=Be(),$_=ae(),oce=th(),uce=nc(),Wx=L_(),sce=z_(),Vx=lo(),Gx=rh(),ga=[],Kx=$x(ga.sort),lce=$x(ga.push),cce=$_(function(){ga.sort(void 0)}),fce=$_(function(){ga.sort(null)}),pce=uce("sort"),Yx=!$_(function(){if(Vx)return Vx<70;if(!(Wx&&Wx>3)){if(sce)return!0;if(Gx)return Gx<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)ga.push({k:r+i,v:n})}for(ga.sort(function(a,o){return o.v-a.v}),i=0;i<ga.length;i++)r=ga[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),dce=cce||!fce||!pce||!Yx,hce=function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:Hx(r)>Hx(n)?1:-1}};rce({target:"Array",proto:!0,forced:dce},{sort:function(e){e!==void 0&&nce(e);var r=ice(this);if(Yx)return e===void 0?Kx(r):Kx(r,e);var n=[],i=ace(r),a,o;for(o=0;o<i;o++)o in r&&lce(n,r[o]);for(oce(n,hce(e)),a=n.length,o=0;o<a;)r[o]=n[o++];for(;o<i;)delete r[o++];return r}});var bce=ba();bce("Array");var _ce=P(),wce=z(),Sce=fi(),Oce=Gt(),Pce=Ge(),Rce=xe(),qce=mo(),Ece=di(),Tce=$u(),Ace=Tce("splice"),Ice=wce.TypeError,kce=Math.max,Fce=Math.min,xce=9007199254740991,Cce="Maximum allowed length exceeded";_ce({target:"Array",proto:!0,forced:!Ace},{splice:function(e,r){var n=Rce(this),i=Pce(n),a=Sce(e,i),o=arguments.length,u,s,l,c,f,p;if(o===0?u=s=0:o===1?(u=0,s=i-a):(u=o-2,s=Fce(kce(Oce(r),0),i-a)),i+u-s>xce)throw Ice(Cce);for(l=qce(n,s),c=0;c<s;c++)f=a+c,f in n&&Ece(l,c,n[f]);if(l.length=s,u<s){for(c=a;c<i-s;c++)f=c+s,p=c+u,f in n?n[p]=n[f]:delete n[p];for(c=i;c>i-s+u;c--)delete n[c-1]}else if(u>s)for(c=i-s;c>a;c--)f=c+s-1,p=c+u-1,f in n?n[p]=n[f]:delete n[p];for(c=0;c<u;c++)n[c+a]=arguments[c+2];return n.length=i-s+u,l}});var Dce=Kt();Dce("flat");var Uce=Kt();Uce("flatMap");var hfe=P(),vfe=z(),yfe=Z_(),mfe=ba(),ew="ArrayBuffer",OC=yfe[ew],gfe=vfe[ew];hfe({global:!0,forced:gfe!==OC},{ArrayBuffer:OC});mfe(ew);var Ofe=Le(),Pfe=ct(),Rfe=RC(),qfe=ge(),qC=qfe("toPrimitive"),EC=Date.prototype;Ofe(EC,qC)||Pfe(EC,qC,Rfe);var Efe=Te(),TC=_e(),Tfe=Ne(),Afe=Ut(),Ife=ge(),AC=Ife("hasInstance"),IC=Function.prototype;AC in IC||Tfe.f(IC,AC,{value:function(e){if(!Efe(this)||!TC(e))return!1;var r=this.prototype;if(!TC(r))return e instanceof this;for(;e=Afe(e);)if(r===e)return!0;return!1}});var kfe=Ee(),Ffe=fa().EXISTS,kC=ie(),xfe=Ne().f,FC=Function.prototype,Cfe=kC(FC.toString),xC=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Dfe=kC(xC.exec),Ufe="name";kfe&&!Ffe&&xfe(FC,Ufe,{configurable:!0,get:function(){try{return Dfe(xC,Cfe(this))[1]}catch(e){return""}}});var omt=Nr(tw());var Nfe=P(),Bfe=z(),Lfe=Fe(),zfe=Ke(),ac=ie(),$fe=ae(),Hfe=Bfe.Array,ch=Lfe("JSON","stringify"),fh=ac(/./.exec),CC=ac("".charAt),Wfe=ac("".charCodeAt),Vfe=ac("".replace),Gfe=ac(1 .toString),Kfe=/[\uD800-\uDFFF]/g,DC=/^[\uD800-\uDBFF]$/,UC=/^[\uDC00-\uDFFF]$/,Yfe=function(e,r,n){var i=CC(n,r-1),a=CC(n,r+1);return fh(DC,e)&&!fh(UC,a)||fh(UC,e)&&!fh(DC,i)?"\\u"+Gfe(Wfe(e,0),16):e},Xfe=$fe(function(){return ch("\uDF06\uD834")!=='"\\udf06\\ud834"'||ch("\uDEAD")!=='"\\udead"'});ch&&Nfe({target:"JSON",stat:!0,forced:Xfe},{stringify:function(e,r,n){for(var i=0,a=arguments.length,o=Hfe(a);i<a;i++)o[i]=arguments[i];var u=zfe(ch,null,o);return typeof u=="string"?Vfe(u,Kfe,Yfe):u}});var Jfe=z(),Qfe=Br();Qfe(Jfe.JSON,"JSON",!0);var lmt=Nr(vh());var zpe=P(),$pe=lw(),cw=Math.acosh,Hpe=Math.log,e3=Math.sqrt,Wpe=Math.LN2,Vpe=!cw||Math.floor(cw(Number.MAX_VALUE))!=710||cw(1/0)!=1/0;zpe({target:"Math",stat:!0,forced:Vpe},{acosh:function(e){return(e=+e)<1?NaN:e>9490626562425156e-8?Hpe(e)+Wpe:$pe(e-1+e3(e-1)*e3(e+1))}});var Gpe=P(),t3=Math.asinh,Kpe=Math.log,Ype=Math.sqrt;function r3(t){return!isFinite(t=+t)||t==0?t:t<0?-r3(-t):Kpe(t+Ype(t*t+1))}Gpe({target:"Math",stat:!0,forced:!(t3&&1/t3(0)>0)},{asinh:r3});var Xpe=P(),n3=Math.atanh,Jpe=Math.log;Xpe({target:"Math",stat:!0,forced:!(n3&&1/n3(-0)<0)},{atanh:function(e){return(e=+e)==0?e:Jpe((1+e)/(1-e))/2}});var Qpe=P(),Zpe=yh(),ede=Math.abs,tde=Math.pow;Qpe({target:"Math",stat:!0},{cbrt:function(e){return Zpe(e=+e)*tde(ede(e),1/3)}});var rde=P(),nde=Math.floor,ide=Math.log,ade=Math.LOG2E;rde({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-nde(ide(e+.5)*ade):32}});var ude=P(),sde=fc(),o3=Math.cosh,lde=Math.abs,fw=Math.E;ude({target:"Math",stat:!0,forced:!o3||o3(710)===1/0},{cosh:function(e){var r=sde(lde(e)-1)+1;return(r+1/(r*fw*fw))*(fw/2)}});var cde=P(),u3=fc();cde({target:"Math",stat:!0,forced:u3!=Math.expm1},{expm1:u3});var vde=P(),yde=hw();vde({target:"Math",stat:!0},{fround:yde});var mde=P(),l3=Math.hypot,gde=Math.abs,bde=Math.sqrt,_de=!!l3&&l3(1/0,NaN)!==1/0;mde({target:"Math",stat:!0,forced:_de},{hypot:function(e,r){for(var n=0,i=0,a=arguments.length,o=0,u,s;i<a;)u=gde(arguments[i++]),o<u?(s=o/u,n=n*s*s+1,o=u):u>0?(s=u/o,n+=s*s):n+=u;return o===1/0?1/0:o*bde(n)}});var wde=P(),Sde=ae(),c3=Math.imul,Ode=Sde(function(){return c3(4294967295,5)!=-5||c3.length!=2});wde({target:"Math",stat:!0,forced:Ode},{imul:function(e,r){var n=65535,i=+e,a=+r,o=n&i,u=n&a;return 0|o*u+((n&i>>>16)*u+o*(n&a>>>16)<<16>>>0)}});var Pde=P(),Rde=Math.log,qde=Math.LOG10E;Pde({target:"Math",stat:!0},{log10:function(e){return Rde(e)*qde}});var Ede=P(),Tde=lw();Ede({target:"Math",stat:!0},{log1p:Tde});var Ade=P(),Ide=Math.log,kde=Math.LN2;Ade({target:"Math",stat:!0},{log2:function(e){return Ide(e)/kde}});var Fde=P(),xde=yh();Fde({target:"Math",stat:!0},{sign:xde});var Cde=P(),Dde=ae(),f3=fc(),Ude=Math.abs,p3=Math.exp,jde=Math.E,Mde=Dde(function(){return Math.sinh(-2e-17)!=-2e-17});Cde({target:"Math",stat:!0,forced:Mde},{sinh:function(e){return Ude(e=+e)<1?(f3(e)-f3(-e))/2:(p3(e-1)-p3(-e-1))*(jde/2)}});var Nde=P(),d3=fc(),h3=Math.exp;Nde({target:"Math",stat:!0},{tanh:function(e){var r=d3(e=+e),n=d3(-e);return r==1/0?1:n==1/0?-1:(r-n)/(h3(e)+h3(-e))}});var Bde=Br();Bde(Math,"Math",!0);var Lde=P(),zde=Math.ceil,$de=Math.floor;Lde({target:"Math",stat:!0},{trunc:function(e){return(e>0?$de:zde)(e)}});var Jde=Ee(),mw=z(),b3=ie(),Qde=Nu(),Zde=ct(),_3=Le(),ehe=uc(),the=Zt(),rhe=xu(),w3=D0(),nhe=ae(),ihe=pi().f,ahe=Ct().f,ohe=Ne().f,uhe=vw(),she=wo().trim,gw="Number",Oa=mw[gw],bw=Oa.prototype,lhe=mw.TypeError,che=b3("".slice),_h=b3("".charCodeAt),fhe=function(e){var r=w3(e,"number");return typeof r=="bigint"?r:phe(r)},phe=function(e){var r=w3(e,"number"),n,i,a,o,u,s,l,c;if(rhe(r))throw lhe("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=she(r),n=_h(r,0),n===43||n===45){if(i=_h(r,2),i===88||i===120)return NaN}else if(n===48){switch(_h(r,1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+r}for(u=che(r,2),s=u.length,l=0;l<s;l++)if(c=_h(u,l),c<48||c>o)return NaN;return parseInt(u,a)}}return+r};if(Qde(gw,!Oa(" 0o1")||!Oa("0b1")||Oa("+0x1"))){for(So=function(e){var r=arguments.length<1?0:Oa(fhe(e)),n=this;return the(bw,n)&&nhe(function(){uhe(n)})?ehe(Object(r),n,So):r},_w=Jde?ihe(Oa):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),wh=0;_w.length>wh;wh++)_3(Oa,dc=_w[wh])&&!_3(So,dc)&&ohe(So,dc,ahe(Oa,dc));So.prototype=bw,bw.constructor=So,Zde(mw,gw,So)}var So,_w,wh,dc;var dhe=P();dhe({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var yhe=P(),mhe=ww();yhe({target:"Number",stat:!0},{isFinite:mhe});var _he=P(),whe=Sh();_he({target:"Number",stat:!0},{isInteger:whe});var She=P();She({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Ohe=P(),Phe=Sh(),Rhe=Math.abs;Ohe({target:"Number",stat:!0},{isSafeInteger:function(e){return Phe(e)&&Rhe(e)<=9007199254740991}});var qhe=P();qhe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var Ehe=P();Ehe({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Dhe=P(),A3=T3();Dhe({target:"Number",stat:!0,forced:Number.parseFloat!=A3},{parseFloat:A3});var zhe=P(),U3=Sw();zhe({target:"Number",stat:!0,forced:Number.parseInt!=U3},{parseInt:U3});var Khe=P(),M3=z(),Ow=ie(),Yhe=Gt(),Xhe=vw(),Jhe=Ph(),N3=ae(),Qhe=M3.RangeError,B3=M3.String,L3=Math.floor,Pw=Ow(Jhe),z3=Ow("".slice),vc=Ow(1 .toFixed),Rh=function t(e,r,n){return r===0?n:r%2==1?t(e,r-1,n*e):t(e*e,r/2,n)},Zhe=function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},Yu=function(e,r,n){for(var i=-1,a=n;++i<6;)a+=r*e[i],e[i]=a%1e7,a=L3(a/1e7)},Rw=function(e,r){for(var n=6,i=0;--n>=0;)i+=e[n],e[n]=L3(i/r),i=i%r*1e7},$3=function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var i=B3(e[r]);n=n===""?i:n+Pw("0",7-i.length)+i}return n},eve=N3(function(){return vc(8e-5,3)!=="0.000"||vc(.9,0)!=="1"||vc(1.255,2)!=="1.25"||vc(1000000000000000100,0)!=="1000000000000000128"})||!N3(function(){vc({})});Khe({target:"Number",proto:!0,forced:eve},{toFixed:function(e){var r=Xhe(this),n=Yhe(e),i=[0,0,0,0,0,0],a="",o="0",u,s,l,c;if(n<0||n>20)throw Qhe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return B3(r);if(r<0&&(a="-",r=-r),r>1e-21)if(u=Zhe(r*Rh(2,69,1))-69,s=u<0?r*Rh(2,-u,1):r/Rh(2,u,1),s*=4503599627370496,u=52-u,u>0){for(Yu(i,0,s),l=n;l>=7;)Yu(i,1e7,0),l-=7;for(Yu(i,Rh(10,l,1),0),l=u-1;l>=23;)Rw(i,1<<23),l-=23;Rw(i,1<<l),Yu(i,1,1),Rw(i,2),o=$3(i)}else Yu(i,0,s),Yu(i,1<<-u,0),o=$3(i)+Pw("0",n);return n>0?(c=o.length,o=a+(c<=n?"0."+Pw("0",n-c)+o:z3(o,0,c-n)+"."+z3(o,c-n))):o=a+o,o}});var lve=P(),G3=Ew();lve({target:"Object",stat:!0,forced:Object.assign!==G3},{assign:G3});var dve=P(),hve=Ee(),vve=yc(),yve=pe(),mve=xe(),gve=Ne();hve&&dve({target:"Object",proto:!0,forced:vve},{__defineGetter__:function(e,r){gve.f(mve(this),e,{get:yve(r),enumerable:!0,configurable:!0})}});var bve=P(),_ve=Ee(),wve=yc(),Sve=pe(),Ove=xe(),Pve=Ne();_ve&&bve({target:"Object",proto:!0,forced:wve},{__defineSetter__:function(e,r){Pve.f(Ove(this),e,{set:Sve(r),enumerable:!0,configurable:!0})}});var kve=P(),Fve=Tw().entries;kve({target:"Object",stat:!0},{entries:function(e){return Fve(e)}});var xve=P(),Cve=Ku(),Dve=ae(),Uve=_e(),jve=Sa().onFreeze,Aw=Object.freeze,Mve=Dve(function(){Aw(1)});xve({target:"Object",stat:!0,forced:Mve,sham:!Cve},{freeze:function(e){return Aw&&Uve(e)?Aw(jve(e)):e}});var Nve=P(),Bve=ye(),Lve=di();Nve({target:"Object",stat:!0},{fromEntries:function(e){var r={};return Bve(e,function(n,i){Lve(r,n,i)},{AS_ENTRIES:!0}),r}});var zve=P(),$ve=ae(),Hve=Qt(),Z3=Ct().f,eD=Ee(),Wve=$ve(function(){Z3(1)}),Vve=!eD||Wve;zve({target:"Object",stat:!0,forced:Vve,sham:!eD},{getOwnPropertyDescriptor:function(e,r){return Z3(Hve(e),r)}});var Gve=P(),Kve=Ee(),Yve=qd(),Xve=Qt(),Jve=Ct(),Qve=di();Gve({target:"Object",stat:!0,sham:!Kve},{getOwnPropertyDescriptors:function(e){for(var r=Xve(e),n=Jve.f,i=Yve(r),a={},o=0,u,s;i.length>o;)s=n(r,u=i[o++]),s!==void 0&&Qve(a,u,s);return a}});var Zve=P(),eye=ae(),tye=Dd().f,rye=eye(function(){return!Object.getOwnPropertyNames(1)});Zve({target:"Object",stat:!0,forced:rye},{getOwnPropertyNames:tye});var nye=P(),iye=ae(),aye=xe(),tD=Ut(),oye=zd(),uye=iye(function(){tD(1)});nye({target:"Object",stat:!0,forced:uye,sham:!oye},{getPrototypeOf:function(e){return tD(aye(e))}});var sye=P(),lye=Iw();sye({target:"Object",stat:!0},{is:lye});var cye=P(),nD=oc();cye({target:"Object",stat:!0,forced:Object.isExtensible!==nD},{isExtensible:nD});var fye=P(),pye=ae(),dye=_e(),hye=pr(),iD=ph(),kw=Object.isFrozen,vye=pye(function(){kw(1)});fye({target:"Object",stat:!0,forced:vye||iD},{isFrozen:function(e){return!dye(e)||iD&&hye(e)=="ArrayBuffer"?!0:kw?kw(e):!1}});var yye=P(),mye=ae(),gye=_e(),bye=pr(),aD=ph(),Fw=Object.isSealed,_ye=mye(function(){Fw(1)});yye({target:"Object",stat:!0,forced:_ye||aD},{isSealed:function(e){return!gye(e)||aD&&bye(e)=="ArrayBuffer"?!0:Fw?Fw(e):!1}});var wye=P(),Sye=xe(),oD=ho(),Oye=ae(),Pye=Oye(function(){oD(1)});wye({target:"Object",stat:!0,forced:Pye},{keys:function(e){return oD(Sye(e))}});var Rye=P(),qye=Ee(),Eye=yc(),Tye=xe(),Aye=ci(),Iye=Ut(),kye=Ct().f;qye&&Rye({target:"Object",proto:!0,forced:Eye},{__lookupGetter__:function(e){var r=Tye(this),n=Aye(e),i;do if(i=kye(r,n))return i.get;while(r=Iye(r))}});var Fye=P(),xye=Ee(),Cye=yc(),Dye=xe(),Uye=ci(),jye=Ut(),Mye=Ct().f;xye&&Fye({target:"Object",proto:!0,forced:Cye},{__lookupSetter__:function(e){var r=Dye(this),n=Uye(e),i;do if(i=Mye(r,n))return i.set;while(r=jye(r))}});var Nye=P(),Bye=_e(),Lye=Sa().onFreeze,zye=Ku(),$ye=ae(),xw=Object.preventExtensions,Hye=$ye(function(){xw(1)});Nye({target:"Object",stat:!0,forced:Hye,sham:!zye},{preventExtensions:function(e){return xw&&Bye(e)?xw(Lye(e)):e}});var Wye=P(),Vye=_e(),Gye=Sa().onFreeze,Kye=Ku(),Yye=ae(),Cw=Object.seal,Xye=Yye(function(){Cw(1)});Wye({target:"Object",stat:!0,forced:Xye,sham:!Kye},{seal:function(e){return Cw&&Vye(e)?Cw(Gye(e)):e}});var Zye=Ad(),eme=ct(),tme=sD();Zye||eme(Object.prototype,"toString",tme,{unsafe:!0});var rme=P(),nme=Tw().values;rme({target:"Object",stat:!0},{values:function(e){return nme(e)}});var Ah=P(),Ih=de(),Si=z(),jme=Fe(),Oi=le(),kh=Dw(),zD=ct(),Mme=fn(),$D=mi(),Nme=Br(),Bme=ba(),Zw=pe(),Pc=Te(),Lme=_e(),zme=zr(),$me=jl(),HD=ye(),Hme=Zl(),Wme=er(),WD=Ww().set,VD=Xw(),Vme=Jw(),Gme=Qw(),GD=Qu(),eS=Oc(),tS=Ve(),Kme=Nu(),Yme=ge(),Xme=LD(),Fh=gc(),KD=lo(),Jme=Yme("species"),Nn="Promise",YD=tS.getterFor(Nn),Qme=tS.set,Zme=tS.getterFor(Nn),qo=kh&&kh.prototype,$r=kh,Zu=qo,XD=Si.TypeError,rS=Si.document,nS=Si.process,es=GD.f,ege=es,tge=!!(rS&&rS.createEvent&&Si.dispatchEvent),JD=Pc(Si.PromiseRejectionEvent),QD="unhandledrejection",rge="rejectionhandled",ZD=0,eU=1,nge=2,iS=1,tU=2,aS=!1,xh,rU,oS,nU,Rc=Kme(Nn,function(){var t=$me($r),e=t!==String($r);if(!e&&KD===66||Ih&&!Zu.finally)return!0;if(KD>=51&&/native code/.test(t))return!1;var r=new $r(function(a){a(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};return i[Jme]=n,aS=r.then(function(){})instanceof n,aS?!e&&Xme&&!JD:!0}),ige=Rc||!Hme(function(t){$r.all(t).catch(function(){})}),iU=function(e){var r;return Lme(e)&&Pc(r=e.then)?r:!1},uS=function(e,r){if(!e.notified){e.notified=!0;var n=e.reactions;VD(function(){for(var i=e.value,a=e.state==eU,o=0;n.length>o;){var u=n[o++],s=a?u.ok:u.fail,l=u.resolve,c=u.reject,f=u.domain,p,d,v;try{s?(a||(e.rejection===tU&&oge(e),e.rejection=iS),s===!0?p=i:(f&&f.enter(),p=s(i),f&&(f.exit(),v=!0)),p===u.promise?c(XD("Promise-chain cycle")):(d=iU(p))?Oi(d,p,l,c):l(p)):c(i)}catch(m){f&&!v&&f.exit(),c(m)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&age(e)})}},aU=function(e,r,n){var i,a;tge?(i=rS.createEvent("Event"),i.promise=r,i.reason=n,i.initEvent(e,!1,!0),Si.dispatchEvent(i)):i={promise:r,reason:n},!JD&&(a=Si["on"+e])?a(i):e===QD&&Gme("Unhandled promise rejection",n)},age=function(e){Oi(WD,Si,function(){var r=e.facade,n=e.value,i=oU(e),a;if(i&&(a=eS(function(){Fh?nS.emit("unhandledRejection",n,r):aU(QD,r,n)}),e.rejection=Fh||oU(e)?tU:iS,a.error))throw a.value})},oU=function(e){return e.rejection!==iS&&!e.parent},oge=function(e){Oi(WD,Si,function(){var r=e.facade;Fh?nS.emit("rejectionHandled",r):aU(rge,r,e.value)})},ts=function(e,r,n){return function(i){e(r,i,n)}},rs=function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=nge,uS(e,!0))},uU=function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw XD("Promise can't be resolved itself");var i=iU(r);i?VD(function(){var a={done:!1};try{Oi(i,r,ts(t,a,e),ts(rs,a,e))}catch(o){rs(a,o,e)}}):(e.value=r,e.state=eU,uS(e,!1))}catch(a){rs({done:!1},a,e)}}};if(Rc&&($r=function(e){zme(this,Zu),Zw(e),Oi(xh,this);var r=YD(this);try{e(ts(uU,r),ts(rs,r))}catch(n){rs(r,n)}},Zu=$r.prototype,xh=function(e){Qme(this,{type:Nn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:ZD,value:void 0})},xh.prototype=Mme(Zu,{then:function(e,r){var n=Zme(this),i=n.reactions,a=es(Wme(this,$r));return a.ok=Pc(e)?e:!0,a.fail=Pc(r)&&r,a.domain=Fh?nS.domain:void 0,n.parent=!0,i[i.length]=a,n.state!=ZD&&uS(n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),rU=function(){var e=new xh,r=YD(e);this.promise=e,this.resolve=ts(uU,r),this.reject=ts(rs,r)},GD.f=es=function(e){return e===$r||e===oS?new rU(e):ege(e)},!Ih&&Pc(kh)&&qo!==Object.prototype)){nU=qo.then,aS||(zD(qo,"then",function(e,r){var n=this;return new $r(function(i,a){Oi(nU,n,i,a)}).then(e,r)},{unsafe:!0}),zD(qo,"catch",Zu.catch,{unsafe:!0}));try{delete qo.constructor}catch(t){}$D&&$D(qo,Zu)}Ah({global:!0,wrap:!0,forced:Rc},{Promise:$r});Nme($r,Nn,!1,!0);Bme(Nn);oS=jme(Nn);Ah({target:Nn,stat:!0,forced:Rc},{reject:function(e){var r=es(this);return Oi(r.reject,void 0,e),r.promise}});Ah({target:Nn,stat:!0,forced:Ih||Rc},{resolve:function(e){return Vme(Ih&&this===oS?$r:this,e)}});Ah({target:Nn,stat:!0,forced:ige},{all:function(e){var r=this,n=es(r),i=n.resolve,a=n.reject,o=eS(function(){var u=Zw(r.resolve),s=[],l=0,c=1;HD(e,function(f){var p=l++,d=!1;c++,Oi(u,r,f).then(function(v){d||(d=!0,s[p]=v,--c||i(s))},a)}),--c||i(s)});return o.error&&a(o.value),n.promise},race:function(e){var r=this,n=es(r),i=n.reject,a=eS(function(){var o=Zw(r.resolve);HD(e,function(u){Oi(o,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var ugt=Nr(sS()),sgt=Nr(lS());var _ge=P(),wge=de(),qc=Dw(),Sge=ae(),lU=Fe(),cU=Te(),Oge=er(),fU=Jw(),Pge=ct(),Rge=!!qc&&Sge(function(){qc.prototype.finally.call({then:function(){}},function(){})});_ge({target:"Promise",proto:!0,real:!0,forced:Rge},{finally:function(e){var r=Oge(this,lU("Promise")),n=cU(e);return this.then(n?function(i){return fU(r,e()).then(function(){return i})}:e,n?function(i){return fU(r,e()).then(function(){throw i})}:e)}});!wge&&cU(qc)&&(cS=lU("Promise").prototype.finally,qc.prototype.finally!==cS&&Pge(qc.prototype,"finally",cS,{unsafe:!0}));var cS;var qge=P(),Ege=Ke(),Tge=pe(),Age=V(),Ige=ae(),kge=!Ige(function(){Reflect.apply(function(){})});qge({target:"Reflect",stat:!0,forced:kge},{apply:function(e,r,n){return Ege(Tge(e),r,Age(n))}});var Nge=P(),Bge=Fe(),pS=Ke(),Lge=yU(),mU=mc(),zge=V(),gU=_e(),$ge=Dt(),bU=ae(),dS=Bge("Reflect","construct"),Hge=Object.prototype,Wge=[].push,_U=bU(function(){function t(){}return!(dS(function(){},[],t)instanceof t)}),wU=!bU(function(){dS(function(){})}),SU=_U||wU;Nge({target:"Reflect",stat:!0,forced:SU,sham:SU},{construct:function(e,r){mU(e),zge(r);var n=arguments.length<3?e:mU(arguments[2]);if(wU&&!_U)return dS(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return pS(Wge,i,r),new(pS(Lge,e,i))}var a=n.prototype,o=$ge(gU(a)?a:Hge),u=pS(e,o,r);return gU(u)?u:o}});var Vge=P(),Gge=Ee(),OU=V(),Kge=ci(),PU=Ne(),Yge=ae(),Xge=Yge(function(){Reflect.defineProperty(PU.f({},1,{value:1}),1,{value:2})});Vge({target:"Reflect",stat:!0,forced:Xge,sham:!Gge},{defineProperty:function(e,r,n){OU(e);var i=Kge(r);OU(n);try{return PU.f(e,i,n),!0}catch(a){return!1}}});var Jge=P(),Qge=V(),Zge=Ct().f;Jge({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=Zge(Qge(e),r);return n&&!n.configurable?!1:delete e[r]}});var ebe=P(),tbe=le(),rbe=_e(),nbe=V(),ibe=hS(),abe=Ct(),obe=Ut();function EU(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(nbe(t)===r)return t[e];if(n=abe.f(t,e),n)return ibe(n)?n.value:n.get===void 0?void 0:tbe(n.get,r);if(rbe(i=obe(t)))return EU(i,e,r)}ebe({target:"Reflect",stat:!0},{get:EU});var ube=P(),sbe=Ee(),lbe=V(),cbe=Ct();ube({target:"Reflect",stat:!0,sham:!sbe},{getOwnPropertyDescriptor:function(e,r){return cbe.f(lbe(e),r)}});var fbe=P(),pbe=V(),dbe=Ut(),hbe=zd();fbe({target:"Reflect",stat:!0,sham:!hbe},{getPrototypeOf:function(e){return dbe(pbe(e))}});var vbe=P();vbe({target:"Reflect",stat:!0},{has:function(e,r){return r in e}});var ybe=P(),mbe=V(),gbe=oc();ybe({target:"Reflect",stat:!0},{isExtensible:function(e){return mbe(e),gbe(e)}});var bbe=P(),_be=qd();bbe({target:"Reflect",stat:!0},{ownKeys:_be});var wbe=P(),Sbe=Fe(),Obe=V(),Pbe=Ku();wbe({target:"Reflect",stat:!0,sham:!Pbe},{preventExtensions:function(e){Obe(e);try{var r=Sbe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}}});var Rbe=P(),qbe=le(),Ebe=V(),TU=_e(),Tbe=hS(),Abe=ae(),vS=Ne(),AU=Ct(),Ibe=Ut(),IU=sn();function kU(t,e,r){var n=arguments.length<4?t:arguments[3],i=AU.f(Ebe(t),e),a,o,u;if(!i){if(TU(o=Ibe(t)))return kU(o,e,r,n);i=IU(0)}if(Tbe(i)){if(i.writable===!1||!TU(n))return!1;if(a=AU.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,vS.f(n,e,a)}else vS.f(n,e,IU(0,r))}else{if(u=i.set,u===void 0)return!1;qbe(u,n,r)}return!0}var kbe=Abe(function(){var t=function(){},e=vS.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});Rbe({target:"Reflect",stat:!0,forced:kbe},{set:kU});var Fbe=P(),xbe=V(),Cbe=__(),FU=mi();FU&&Fbe({target:"Reflect",stat:!0},{setPrototypeOf:function(e,r){xbe(e),Cbe(r);try{return FU(e,r),!0}catch(n){return!1}}});var Dbe=P(),Ube=z(),jbe=Br();Dbe({global:!0},{Reflect:{}});jbe(Ube.Reflect,"Reflect",!0);var Qbe=Ee(),_S=z(),is=ie(),Zbe=Nu(),e0e=uc(),t0e=Tt(),r0e=Ne().f,n0e=pi().f,MU=Zt(),i0e=ns(),NU=Be(),a0e=Eo(),BU=Ec(),o0e=ct(),u0e=ae(),s0e=Le(),l0e=Ve().enforce,c0e=ba(),f0e=ge(),LU=Ch(),zU=bS(),p0e=f0e("match"),Pi=_S.RegExp,as=Pi.prototype,d0e=_S.SyntaxError,h0e=is(a0e),v0e=is(as.exec),Dh=is("".charAt),$U=is("".replace),HU=is("".indexOf),y0e=is("".slice),m0e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,To=/a/g,wS=/a/g,g0e=new Pi(To)!==To,WU=BU.MISSED_STICKY,b0e=BU.UNSUPPORTED_Y,_0e=Qbe&&(!g0e||WU||LU||zU||u0e(function(){return wS[p0e]=!1,Pi(To)!=To||Pi(wS)==wS||Pi(To,"i")!="/a/i"})),w0e=function(e){for(var r=e.length,n=0,i="",a=!1,o;n<=r;n++){if(o=Dh(e,n),o==="\\"){i+=o+Dh(e,++n);continue}!a&&o==="."?i+="[\\s\\S]":(o==="["?a=!0:o==="]"&&(a=!1),i+=o)}return i},S0e=function(e){for(var r=e.length,n=0,i="",a=[],o={},u=!1,s=!1,l=0,c="",f;n<=r;n++){if(f=Dh(e,n),f==="\\")f=f+Dh(e,++n);else if(f==="]")u=!1;else if(!u)switch(!0){case f==="[":u=!0;break;case f==="(":v0e(m0e,y0e(e,n+1))&&(n+=2,s=!0),i+=f,l++;continue;case(f===">"&&s):if(c===""||s0e(o,c))throw new d0e("Invalid capture group name");o[c]=!0,a[a.length]=[c,l],s=!1,c="";continue}s?c+=f:i+=f}return[i,a]};if(Zbe("RegExp",_0e)){for(Ri=function(e,r){var n=MU(as,this),i=i0e(e),a=r===void 0,o=[],u=e,s,l,c,f,p,d;if(!n&&i&&a&&e.constructor===Ri)return e;if((i||MU(as,e))&&(e=e.source,a&&(r="flags"in u?u.flags:h0e(u))),e=e===void 0?"":NU(e),r=r===void 0?"":NU(r),u=e,LU&&"dotAll"in To&&(l=!!r&&HU(r,"s")>-1,l&&(r=$U(r,/s/g,""))),s=r,WU&&"sticky"in To&&(c=!!r&&HU(r,"y")>-1,c&&b0e&&(r=$U(r,/y/g,""))),zU&&(f=S0e(e),e=f[0],o=f[1]),p=e0e(Pi(e,r),n?this:as,Ri),(l||c||o.length)&&(d=l0e(p),l&&(d.dotAll=!0,d.raw=Ri(w0e(e),s)),c&&(d.sticky=!0),o.length&&(d.groups=o)),e!==u)try{t0e(p,"source",u===""?"(?:)":u)}catch(v){}return p},VU=function(e){e in Ri||r0e(Ri,e,{configurable:!0,get:function(){return Pi[e]},set:function(n){Pi[e]=n}})},SS=n0e(Pi),OS=0;SS.length>OS;)VU(SS[OS++]);as.constructor=Ri,Ri.prototype=as,o0e(_S,"RegExp",Ri)}var Ri,VU,SS,OS;c0e("RegExp");var O0e=z(),P0e=Ee(),R0e=Ch(),q0e=pr(),E0e=Ne().f,T0e=Ve().get,GU=RegExp.prototype,A0e=O0e.TypeError;P0e&&R0e&&E0e(GU,"dotAll",{configurable:!0,get:function(){if(this!==GU){if(q0e(this)==="RegExp")return!!T0e(this).dotAll;throw A0e("Incompatible receiver, RegExp required")}}});var qgt=Nr(Mh());var H0e=Ee(),W0e=Ne(),V0e=Eo(),G0e=ae(),JU=RegExp.prototype,K0e=H0e&&G0e(function(){return Object.getOwnPropertyDescriptor(JU,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});K0e&&W0e.f(JU,"flags",{configurable:!0,get:V0e});var Y0e=z(),X0e=Ee(),J0e=Ec().MISSED_STICKY,Q0e=pr(),Z0e=Ne().f,e_e=Ve().get,QU=RegExp.prototype,t_e=Y0e.TypeError;X0e&&J0e&&Z0e(QU,"sticky",{configurable:!0,get:function(){if(this!==QU){if(Q0e(this)==="RegExp")return!!e_e(this).sticky;throw t_e("Incompatible receiver, RegExp required")}}});Mh();var r_e=P(),n_e=z(),i_e=le(),a_e=ie(),o_e=Te(),u_e=_e(),s_e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),l_e=n_e.Error,c_e=a_e(/./.test);r_e({target:"RegExp",proto:!0,forced:!s_e},{test:function(e){var r=this.exec;if(!o_e(r))return c_e(this,e);var n=i_e(r,this,e);if(n!==null&&!u_e(n))throw new l_e("RegExp exec method returned something other than an Object or null");return!!n}});var f_e=ie(),p_e=fa().PROPER,d_e=ct(),h_e=V(),v_e=Zt(),ZU=Be(),y_e=ae(),m_e=Eo(),TS="toString",AS=RegExp.prototype,ej=AS[TS],g_e=f_e(m_e),b_e=y_e(function(){return ej.call({source:"a",flags:"b"})!="/a/b"}),__e=p_e&&ej.name!=TS;(b_e||__e)&&d_e(RegExp.prototype,TS,function(){var e=h_e(this),r=ZU(e.source),n=e.flags,i=ZU(n===void 0&&v_e(AS,e)&&!("flags"in AS)?g_e(e):n);return"/"+r+"/"+i},{unsafe:!0});var w_e=sc(),S_e=sw();w_e("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S_e);var T_e=P(),A_e=Ao().codeAt;T_e({target:"String",proto:!0},{codePointAt:function(e){return A_e(this,e)}});var D_e=P(),oj=ie(),U_e=Ct().f,j_e=Or(),uj=Be(),M_e=Nh(),N_e=Et(),B_e=Bh(),L_e=de(),sj=oj("".endsWith),z_e=oj("".slice),$_e=Math.min,lj=B_e("endsWith"),H_e=!L_e&&!lj&&!!function(){var t=U_e(String.prototype,"endsWith");return t&&!t.writable}();D_e({target:"String",proto:!0,forced:!H_e&&!lj},{endsWith:function(e){var r=uj(N_e(this));M_e(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:$_e(j_e(n),i),o=uj(e);return sj?sj(r,o,a):z_e(r,a-o.length,a)===o}});var W_e=P(),V_e=z(),G_e=ie(),K_e=fi(),Y_e=V_e.RangeError,cj=String.fromCharCode,fj=String.fromCodePoint,X_e=G_e([].join),J_e=!!fj&&fj.length!=1;W_e({target:"String",stat:!0,forced:J_e},{fromCodePoint:function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],K_e(a,1114111)!==a)throw Y_e(a+" is not a valid code point");r[i]=a<65536?cj(a):cj(((a-=65536)>>10)+55296,a%1024+56320)}return X_e(r,"")}});var Q_e=P(),Z_e=ie(),ewe=Nh(),twe=Et(),pj=Be(),rwe=Bh(),nwe=Z_e("".indexOf);Q_e({target:"String",proto:!0,forced:!rwe("includes")},{includes:function(e){return!!~nwe(pj(twe(this)),pj(ewe(e)),arguments.length>1?arguments[1]:void 0)}});var Ugt=Nr(kS());var bwe=le(),_we=Ac(),wwe=V(),Swe=Or(),xS=Be(),Owe=Et(),Pwe=xt(),Rwe=Ic(),Oj=us();_we("match",function(t,e,r){return[function(i){var a=Owe(this),o=i==null?void 0:Pwe(i,t);return o?bwe(o,i,a):new RegExp(i)[t](xS(a))},function(n){var i=wwe(this),a=xS(n),o=r(e,i,a);if(o.done)return o.value;if(!i.global)return Oj(i,a);var u=i.unicode;i.lastIndex=0;for(var s=[],l=0,c;(c=Oj(i,a))!==null;){var f=xS(c[0]);s[l]=f,f===""&&(i.lastIndex=Rwe(a,Swe(i.lastIndex),u)),l++}return l===0?null:s}]});var Mgt=Nr(NS());var Qwe=P(),Zwe=BS().end,eSe=LS();Qwe({target:"String",proto:!0,forced:eSe},{padEnd:function(e){return Zwe(this,e,arguments.length>1?arguments[1]:void 0)}});var tSe=P(),rSe=BS().start,nSe=LS();tSe({target:"String",proto:!0,forced:nSe},{padStart:function(e){return rSe(this,e,arguments.length>1?arguments[1]:void 0)}});var iSe=P(),Uj=ie(),aSe=Qt(),oSe=xe(),jj=Be(),uSe=Ge(),Mj=Uj([].push),sSe=Uj([].join);iSe({target:"String",stat:!0},{raw:function(e){for(var r=aSe(oSe(e).raw),n=uSe(r),i=arguments.length,a=[],o=0;n>o;){if(Mj(a,jj(r[o++])),o===n)return sSe(a,"");o<i&&Mj(a,jj(arguments[o]))}}});var lSe=P(),cSe=Ph();lSe({target:"String",proto:!0},{repeat:cSe});var ySe=Ke(),Bj=le(),$h=ie(),mSe=Ac(),gSe=ae(),bSe=V(),_Se=Te(),wSe=Gt(),SSe=Or(),ss=Be(),OSe=Et(),PSe=Ic(),RSe=xt(),qSe=WS(),ESe=us(),TSe=ge(),VS=TSe("replace"),ASe=Math.max,ISe=Math.min,kSe=$h([].concat),GS=$h([].push),Lj=$h("".indexOf),zj=$h("".slice),FSe=function(e){return e===void 0?e:String(e)},xSe=function(){return"a".replace(/./,"$0")==="$0"}(),$j=function(){return/./[VS]?/./[VS]("a","$0")==="":!1}(),CSe=!gSe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});mSe("replace",function(t,e,r){var n=$j?"$":"$0";return[function(a,o){var u=OSe(this),s=a==null?void 0:RSe(a,VS);return s?Bj(s,a,u,o):Bj(e,ss(u),a,o)},function(i,a){var o=bSe(this),u=ss(i);if(typeof a=="string"&&Lj(a,n)===-1&&Lj(a,"$<")===-1){var s=r(e,o,u,a);if(s.done)return s.value}var l=_Se(a);l||(a=ss(a));var c=o.global;if(c){var f=o.unicode;o.lastIndex=0}for(var p=[];;){var d=ESe(o,u);if(d===null||(GS(p,d),!c))break;var v=ss(d[0]);v===""&&(o.lastIndex=PSe(u,SSe(o.lastIndex),f))}for(var m="",g=0,w=0;w<p.length;w++){d=p[w];for(var _=ss(d[0]),O=ASe(ISe(wSe(d.index),u.length),0),T=[],C=1;C<d.length;C++)GS(T,FSe(d[C]));var F=d.groups;if(l){var $=kSe([_],T,O,u);F!==void 0&&GS($,F);var G=ss(ySe(a,void 0,$))}else G=qSe(_,u,O,T,F,a);O>=g&&(m+=zj(u,g,O)+G,g=O+_.length)}return m+zj(u,g)}]},!CSe||!xSe||$j);var Hgt=Nr(KS());var JSe=le(),QSe=Ac(),ZSe=V(),eOe=Et(),Kj=Iw(),Yj=Be(),tOe=xt(),rOe=us();QSe("search",function(t,e,r){return[function(i){var a=eOe(this),o=i==null?void 0:tOe(i,t);return o?JSe(o,i,a):new RegExp(i)[t](Yj(a))},function(n){var i=ZSe(this),a=Yj(n),o=r(e,i,a);if(o.done)return o.value;var u=i.lastIndex;Kj(u,0)||(i.lastIndex=0);var s=rOe(i,a);return Kj(i.lastIndex,u)||(i.lastIndex=u),s===null?-1:s.index}]});var nOe=Ke(),xc=le(),YS=ie(),iOe=Ac(),aOe=ns(),oOe=V(),Xj=Et(),uOe=er(),sOe=Ic(),lOe=Or(),XS=Be(),cOe=xt(),Jj=vo(),Qj=us(),fOe=Tc(),pOe=Ec(),dOe=ae(),cs=pOe.UNSUPPORTED_Y,Zj=4294967295,hOe=Math.min,eM=[].push,vOe=YS(/./.exec),fs=YS(eM),Cc=YS("".slice),yOe=!dOe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});iOe("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var u=XS(Xj(this)),s=o===void 0?Zj:o>>>0;if(s===0)return[];if(a===void 0)return[u];if(!aOe(a))return xc(e,u,a,s);for(var l=[],c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),f=0,p=new RegExp(a.source,c+"g"),d,v,m;(d=xc(fOe,p,u))&&(v=p.lastIndex,!(v>f&&(fs(l,Cc(u,f,d.index)),d.length>1&&d.index<u.length&&nOe(eM,l,Jj(d,1)),m=d[0].length,f=v,l.length>=s)));)p.lastIndex===d.index&&p.lastIndex++;return f===u.length?(m||!vOe(p,""))&&fs(l,""):fs(l,Cc(u,f)),l.length>s?Jj(l,0,s):l}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:xc(e,this,a,o)}:n=e,[function(a,o){var u=Xj(this),s=a==null?void 0:cOe(a,t);return s?xc(s,a,u,o):xc(n,XS(u),a,o)},function(i,a){var o=oOe(this),u=XS(i),s=r(n,o,u,a,n!==e);if(s.done)return s.value;var l=uOe(o,RegExp),c=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(cs?"g":"y"),p=new l(cs?"^(?:"+o.source+")":o,f),d=a===void 0?Zj:a>>>0;if(d===0)return[];if(u.length===0)return Qj(p,u)===null?[u]:[];for(var v=0,m=0,g=[];m<u.length;){p.lastIndex=cs?0:m;var w=Qj(p,cs?Cc(u,m):u),_;if(w===null||(_=hOe(lOe(p.lastIndex+(cs?m:0)),u.length))===v)m=sOe(u,m,c);else{if(fs(g,Cc(u,v,m)),g.length===d)return g;for(var O=1;O<=w.length-1;O++)if(fs(g,w[O]),g.length===d)return g;m=v=_}}return fs(g,Cc(u,v)),g}]},!yOe,cs);var mOe=P(),tM=ie(),gOe=Ct().f,bOe=Or(),rM=Be(),_Oe=Nh(),wOe=Et(),SOe=Bh(),OOe=de(),nM=tM("".startsWith),POe=tM("".slice),ROe=Math.min,iM=SOe("startsWith"),qOe=!OOe&&!iM&&!!function(){var t=gOe(String.prototype,"startsWith");return t&&!t.writable}();mOe({target:"String",proto:!0,forced:!qOe&&!iM},{startsWith:function(e){var r=rM(wOe(this));_Oe(e);var n=bOe(ROe(arguments.length>1?arguments[1]:void 0,r.length)),i=rM(e);return nM?nM(r,i,n):POe(r,n,n+i.length)===i}});var AOe=P(),IOe=wo().trim,kOe=Wh();AOe({target:"String",proto:!0,forced:kOe("trim")},{trim:function(){return IOe(this)}});var FOe=P(),xOe=wo().end,COe=Wh(),sM=COe("trimEnd"),lM=sM?function(){return xOe(this)}:"".trimEnd;FOe({target:"String",proto:!0,name:"trimEnd",forced:sM},{trimEnd:lM,trimRight:lM});var DOe=P(),UOe=wo().start,jOe=Wh(),cM=jOe("trimStart"),fM=cM?function(){return UOe(this)}:"".trimStart;DOe({target:"String",proto:!0,name:"trimStart",forced:cM},{trimStart:fM,trimLeft:fM});var $Oe=P(),HOe=hr(),WOe=vr();$Oe({target:"String",proto:!0,forced:WOe("anchor")},{anchor:function(e){return HOe(this,"a","name",e)}});var VOe=P(),GOe=hr(),KOe=vr();VOe({target:"String",proto:!0,forced:KOe("big")},{big:function(){return GOe(this,"big","","")}});var YOe=P(),XOe=hr(),JOe=vr();YOe({target:"String",proto:!0,forced:JOe("blink")},{blink:function(){return XOe(this,"blink","","")}});var QOe=P(),ZOe=hr(),e1e=vr();QOe({target:"String",proto:!0,forced:e1e("bold")},{bold:function(){return ZOe(this,"b","","")}});var t1e=P(),r1e=hr(),n1e=vr();t1e({target:"String",proto:!0,forced:n1e("fixed")},{fixed:function(){return r1e(this,"tt","","")}});var i1e=P(),a1e=hr(),o1e=vr();i1e({target:"String",proto:!0,forced:o1e("fontcolor")},{fontcolor:function(e){return a1e(this,"font","color",e)}});var u1e=P(),s1e=hr(),l1e=vr();u1e({target:"String",proto:!0,forced:l1e("fontsize")},{fontsize:function(e){return s1e(this,"font","size",e)}});var c1e=P(),f1e=hr(),p1e=vr();c1e({target:"String",proto:!0,forced:p1e("italics")},{italics:function(){return f1e(this,"i","","")}});var d1e=P(),h1e=hr(),v1e=vr();d1e({target:"String",proto:!0,forced:v1e("link")},{link:function(e){return h1e(this,"a","href",e)}});var y1e=P(),m1e=hr(),g1e=vr();y1e({target:"String",proto:!0,forced:g1e("small")},{small:function(){return m1e(this,"small","","")}});var b1e=P(),_1e=hr(),w1e=vr();b1e({target:"String",proto:!0,forced:w1e("strike")},{strike:function(){return _1e(this,"strike","","")}});var S1e=P(),O1e=hr(),P1e=vr();S1e({target:"String",proto:!0,forced:P1e("sub")},{sub:function(){return O1e(this,"sub","","")}});var R1e=P(),q1e=hr(),E1e=vr();R1e({target:"String",proto:!0,forced:E1e("sup")},{sup:function(){return q1e(this,"sup","","")}});var OPe=Ln();OPe("Float32",function(t){return function(r,n,i){return t(this,r,n,i)}});var PPe=Ln();PPe("Float64",function(t){return function(r,n,i){return t(this,r,n,i)}});var RPe=Ln();RPe("Int8",function(t){return function(r,n,i){return t(this,r,n,i)}});var qPe=Ln();qPe("Int16",function(t){return function(r,n,i){return t(this,r,n,i)}});var EPe=Ln();EPe("Int32",function(t){return function(r,n,i){return t(this,r,n,i)}});var TPe=Ln();TPe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}});var APe=Ln();APe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}},!0);var IPe=Ln();IPe("Uint16",function(t){return function(r,n,i){return t(this,r,n,i)}});var kPe=Ln();kPe("Uint32",function(t){return function(r,n,i){return t(this,r,n,i)}});var FPe=ie(),GM=Ae(),xPe=E_(),CPe=FPe(xPe),DPe=GM.aTypedArray,UPe=GM.exportTypedArrayMethod;UPe("copyWithin",function(e,r){return CPe(DPe(this),e,r,arguments.length>2?arguments[2]:void 0)});var KM=Ae(),jPe=At().every,MPe=KM.aTypedArray,NPe=KM.exportTypedArrayMethod;NPe("every",function(e){return jPe(MPe(this),e,arguments.length>1?arguments[1]:void 0)});var YM=Ae(),BPe=le(),LPe=Xd(),zPe=YM.aTypedArray,$Pe=YM.exportTypedArrayMethod;$Pe("fill",function(e){var r=arguments.length;return BPe(LPe,zPe(this),e,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)});var tN=Ae(),YPe=At().filter,XPe=Qh(),JPe=tN.aTypedArray,QPe=tN.exportTypedArrayMethod;QPe("filter",function(e){var r=YPe(JPe(this),e,arguments.length>1?arguments[1]:void 0);return XPe(this,r)});var rN=Ae(),ZPe=At().find,eRe=rN.aTypedArray,tRe=rN.exportTypedArrayMethod;tRe("find",function(e){return ZPe(eRe(this),e,arguments.length>1?arguments[1]:void 0)});var nN=Ae(),rRe=At().findIndex,nRe=nN.aTypedArray,iRe=nN.exportTypedArrayMethod;iRe("findIndex",function(e){return rRe(nRe(this),e,arguments.length>1?arguments[1]:void 0)});var iN=Ae(),aRe=At().forEach,oRe=iN.aTypedArray,uRe=iN.exportTypedArrayMethod;uRe("forEach",function(e){aRe(oRe(this),e,arguments.length>1?arguments[1]:void 0)});var sRe=Gh(),lRe=Ae().exportTypedArrayStaticMethod,cRe=cO();lRe("from",cRe,sRe);var aN=Ae(),fRe=Bl().includes,pRe=aN.aTypedArray,dRe=aN.exportTypedArrayMethod;dRe("includes",function(e){return fRe(pRe(this),e,arguments.length>1?arguments[1]:void 0)});var oN=Ae(),hRe=Bl().indexOf,vRe=oN.aTypedArray,yRe=oN.exportTypedArrayMethod;yRe("indexOf",function(e){return hRe(vRe(this),e,arguments.length>1?arguments[1]:void 0)});var mRe=z(),bO=ie(),uN=fa().PROPER,sN=Ae(),_O=rc(),gRe=ge(),lN=gRe("iterator"),cN=mRe.Uint8Array,bRe=bO(_O.values),_Re=bO(_O.keys),wRe=bO(_O.entries),wO=sN.aTypedArray,Zh=sN.exportTypedArrayMethod,fN=cN&&cN.prototype[lN],pN=!!fN&&fN.name==="values",dN=function(){return bRe(wO(this))};Zh("entries",function(){return wRe(wO(this))});Zh("keys",function(){return _Re(wO(this))});Zh("values",dN,uN&&!pN);Zh(lN,dN,uN&&!pN);var hN=Ae(),SRe=ie(),ORe=hN.aTypedArray,PRe=hN.exportTypedArrayMethod,RRe=SRe([].join);PRe("join",function(e){return RRe(ORe(this),e)});var gN=Ae(),CRe=Ke(),DRe=mN(),URe=gN.aTypedArray,jRe=gN.exportTypedArrayMethod;jRe("lastIndexOf",function(e){var r=arguments.length;return CRe(DRe,URe(this),r>1?[e,arguments[1]]:[e])});var bN=Ae(),MRe=At().map,NRe=jc(),BRe=bN.aTypedArray,LRe=bN.exportTypedArrayMethod;LRe("map",function(e){return MRe(BRe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(NRe(r))(n)})});var _N=Ae(),zRe=Gh(),$Re=_N.aTypedArrayConstructor,HRe=_N.exportTypedArrayStaticMethod;HRe("of",function(){for(var e=0,r=arguments.length,n=new($Re(this))(r);r>e;)n[e]=arguments[e++];return n},zRe);var ON=Ae(),JRe=OO().left,QRe=ON.aTypedArray,ZRe=ON.exportTypedArrayMethod;ZRe("reduce",function(e){var r=arguments.length;return JRe(QRe(this),e,r,r>1?arguments[1]:void 0)});var PN=Ae(),eqe=OO().right,tqe=PN.aTypedArray,rqe=PN.exportTypedArrayMethod;rqe("reduceRight",function(e){var r=arguments.length;return eqe(tqe(this),e,r,r>1?arguments[1]:void 0)});var RN=Ae(),nqe=RN.aTypedArray,iqe=RN.exportTypedArrayMethod,aqe=Math.floor;iqe("reverse",function(){for(var e=this,r=nqe(e).length,n=aqe(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e});var oqe=z(),qN=Ae(),uqe=Ge(),sqe=lO(),lqe=xe(),cqe=ae(),fqe=oqe.RangeError,pqe=qN.aTypedArray,dqe=qN.exportTypedArrayMethod,hqe=cqe(function(){new Int8Array(1).set({})});dqe("set",function(e){pqe(this);var r=sqe(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=lqe(e),a=uqe(i),o=0;if(a+r>n)throw fqe("Wrong length");for(;o<a;)this[r+o]=i[o++]},hqe);var EN=Ae(),vqe=jc(),yqe=ae(),mqe=da(),gqe=EN.aTypedArray,bqe=EN.exportTypedArrayMethod,_qe=yqe(function(){new Int8Array(1).slice()});bqe("slice",function(e,r){for(var n=mqe(gqe(this),e,r),i=vqe(this),a=0,o=n.length,u=new i(o);o>a;)u[a]=n[a++];return u},_qe);var TN=Ae(),wqe=At().some,Sqe=TN.aTypedArray,Oqe=TN.exportTypedArrayMethod;Oqe("some",function(e){return wqe(Sqe(this),e,arguments.length>1?arguments[1]:void 0)});var AN=z(),Pqe=ie(),PO=ae(),Rqe=pe(),qqe=th(),IN=Ae(),kN=L_(),Eqe=z_(),FN=lo(),xN=rh(),Tqe=AN.Array,Aqe=IN.aTypedArray,Iqe=IN.exportTypedArrayMethod,Mc=AN.Uint16Array,ys=Mc&&Pqe(Mc.prototype.sort),kqe=!!ys&&!(PO(function(){ys(new Mc(2),null)})&&PO(function(){ys(new Mc(2),{})})),CN=!!ys&&!PO(function(){if(FN)return FN<74;if(kN)return kN<67;if(Eqe)return!0;if(xN)return xN<602;var t=new Mc(516),e=Tqe(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(ys(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),Fqe=function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}};Iqe("sort",function(e){return e!==void 0&&Rqe(e),CN?ys(this,e):qqe(Aqe(this),Fqe(e))},!CN||kqe);var DN=Ae(),xqe=Or(),UN=fi(),Cqe=jc(),Dqe=DN.aTypedArray,Uqe=DN.exportTypedArrayMethod;Uqe("subarray",function(e,r){var n=Dqe(this),i=n.length,a=UN(e,i),o=Cqe(n);return new o(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,xqe((r===void 0?i:UN(r,i))-a))});var jqe=z(),Mqe=Ke(),jN=Ae(),RO=ae(),MN=da(),ev=jqe.Int8Array,NN=jN.aTypedArray,Nqe=jN.exportTypedArrayMethod,BN=[].toLocaleString,Bqe=!!ev&&RO(function(){BN.call(new ev(1))}),Lqe=RO(function(){return[1,2].toLocaleString()!=new ev([1,2]).toLocaleString()})||!RO(function(){ev.prototype.toLocaleString.call([1,2])});Nqe("toLocaleString",function(){return Mqe(BN,Bqe?MN(NN(this)):NN(this),MN(arguments))},Lqe);var zqe=Ae().exportTypedArrayMethod,$qe=ae(),Hqe=z(),Wqe=ie(),LN=Hqe.Uint8Array,Vqe=LN&&LN.prototype||{},tv=[].toString,Gqe=Wqe([].join);$qe(function(){tv.call({})})&&(tv=function(){return Gqe(this)});var Kqe=Vqe.toString!=tv;zqe("toString",tv,Kqe);var Hbt=Nr(sv());var fEe=sc(),pEe=TO();fEe("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},pEe);R_();JN();var gEe=P(),bEe=At().filterReject,_Ee=Kt();gEe({target:"Array",proto:!0},{filterOut:function(e){return bEe(this,e,arguments.length>1?arguments[1]:void 0)}});_Ee("filterOut");var REe=P(),qEe=Lc().findLast,EEe=Kt();REe({target:"Array",proto:!0},{findLast:function(e){return qEe(this,e,arguments.length>1?arguments[1]:void 0)}});EEe("findLast");var TEe=P(),AEe=Lc().findLastIndex,IEe=Kt();TEe({target:"Array",proto:!0},{findLastIndex:function(e){return AEe(this,e,arguments.length>1?arguments[1]:void 0)}});IEe("findLastIndex");var kEe=P(),FEe=po(),e5=Object.isFrozen,t5=function(e,r){if(!e5||!FEe(e)||!e5(e))return!1;for(var n=0,i=e.length,a;n<i;)if(a=e[n++],!(typeof a=="string"||r&&typeof a=="undefined"))return!1;return i!==0};kEe({target:"Array",stat:!0},{isTemplateObject:function(e){if(!t5(e,!0))return!1;var r=e.raw;return!(r.length!==e.length||!t5(r,!1))}});var xEe=Ee(),CEe=Kt(),DEe=xe(),UEe=Ge(),jEe=Ne().f;xEe&&!("lastIndex"in[])&&(jEe(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=DEe(this),r=UEe(e);return r==0?0:r-1}}),CEe("lastIndex"));var MEe=Ee(),NEe=Kt(),r5=xe(),n5=Ge(),BEe=Ne().f;MEe&&!("lastItem"in[])&&(BEe(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=r5(this),r=n5(e);return r==0?void 0:e[r-1]},set:function(e){var r=r5(this),n=n5(r);return r[n==0?0:n-1]=e}}),NEe("lastItem"));var XEe=P(),JEe=Kt(),QEe=cv();XEe({target:"Array",proto:!0},{uniqueBy:QEe});JEe("uniqueBy");var nTe=P(),iTe=zr(),h5=Tt(),v5=Le(),aTe=ge(),xo=zc(),y5=de(),m5=aTe("toStringTag"),CO=function(){iTe(this,xo)};CO.prototype=xo;v5(xo,m5)||h5(xo,m5,"AsyncIterator");(y5||!v5(xo,"constructor")||xo.constructor===Object)&&h5(xo,"constructor",CO);nTe({global:!0,forced:y5},{AsyncIterator:CO});var vTe=P(),yTe=Ke(),jO=V(),mTe=Ra(),gTe=mTe(function(t,e){var r=this,n=r.iterator;return t.resolve(jO(yTe(r.next,n,e))).then(function(i){return jO(i).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,i.value]}})});vTe({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new gTe({iterator:jO(this),index:0})}});var bTe=P(),_Te=Ke(),MO=V(),wTe=hs(),STe=Ra(),OTe=STe(function(t,e){var r=this;return new t(function(n,i){var a=function o(){try{t.resolve(MO(_Te(r.next,r.iterator,r.remaining?[]:e))).then(function(u){try{MO(u).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:u.value})}catch(s){i(s)}},i)}catch(u){i(u)}};a()})});bTe({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new OTe({iterator:MO(this),remaining:wTe(e)})}});var ATe=P(),ITe=gs().every;ATe({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return ITe(this,e)}});var kTe=P(),FTe=Ke(),xTe=pe(),BO=V(),CTe=Ra(),DTe=CTe(function(t,e){var r=this,n=r.filterer;return new t(function(i,a){var o=function u(){try{t.resolve(BO(FTe(r.next,r.iterator,e))).then(function(s){try{if(BO(s).done)r.done=!0,i({done:!0,value:void 0});else{var l=s.value;t.resolve(n(l)).then(function(c){c?i({done:!1,value:l}):u()},a)}}catch(c){a(c)}},a)}catch(s){a(s)}};o()})});kTe({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new DTe({iterator:BO(this),filterer:xTe(e)})}});var UTe=P(),jTe=gs().find;UTe({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return jTe(this,e)}});var XTe=P(),F5=le(),x5=pe(),Wc=V(),JTe=Ra(),QTe=WO(),ZTe=JTe(function(t){var e=this,r=e.mapper,n;return new t(function(i,a){var o=function(){try{t.resolve(Wc(F5(e.next,e.iterator))).then(function(l){try{Wc(l).done?(e.done=!0,i({done:!0,value:void 0})):t.resolve(r(l.value)).then(function(c){try{return e.innerIterator=n=QTe(c),e.innerNext=x5(n.next),u()}catch(f){a(f)}},a)}catch(c){a(c)}},a)}catch(l){a(l)}},u=function(){if(n=e.innerIterator)try{t.resolve(Wc(F5(e.innerNext,n))).then(function(l){try{Wc(l).done?(e.innerIterator=e.innerNext=null,o()):i({done:!1,value:l.value})}catch(c){a(c)}},a)}catch(l){a(l)}else o()};u()})});XTe({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new ZTe({iterator:Wc(this),mapper:x5(e),innerIterator:null,innerNext:null})}});var eAe=P(),tAe=gs().forEach;eAe({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return tAe(this,e)}});var rAe=P(),nAe=Ke(),iAe=V(),aAe=xe(),oAe=Zt(),uAe=zc(),sAe=Ra(),lAe=WO(),cAe=cn(),fAe=gi(),pAe=xt(),dAe=ge(),hAe=HO(),vAe=dAe("asyncIterator"),yAe=sAe(function(t,e){return iAe(nAe(this.next,this.iterator,e))},!0);rAe({target:"AsyncIterator",stat:!0},{from:function(e){var r=aAe(e),n=pAe(r,vAe),i;return n&&(i=lAe(r,n),oAe(uAe,i))?i:i===void 0&&(n=fAe(r),n)?new hAe(cAe(r,n)):new yAe({iterator:i!==void 0?i:r})}});var mAe=P(),gAe=Ke(),bAe=pe(),VO=V(),_Ae=Ra(),wAe=_Ae(function(t,e){var r=this,n=r.mapper;return t.resolve(VO(gAe(r.next,r.iterator,e))).then(function(i){return VO(i).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(i.value)).then(function(a){return{done:!1,value:a}})})});mAe({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new wAe({iterator:VO(this),mapper:bAe(e)})}});var SAe=P(),OAe=z(),PAe=le(),C5=pe(),GO=V(),RAe=Fe(),KO=RAe("Promise"),qAe=OAe.TypeError;SAe({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var r=GO(this),n=C5(r.next),i=arguments.length<2,a=i?void 0:arguments[1];return C5(e),new KO(function(o,u){var s=function l(){try{KO.resolve(GO(PAe(n,r))).then(function(c){try{if(GO(c).done)i?u(qAe("Reduce of empty iterator with no initial value")):o(a);else{var f=c.value;i?(i=!1,a=f,l()):KO.resolve(e(a,f)).then(function(p){a=p,l()},u)}}catch(p){u(p)}},u)}catch(c){u(c)}};s()})}});var EAe=P(),TAe=gs().some;EAe({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return TAe(this,e)}});var AAe=P(),IAe=Ke(),kAe=le(),FAe=V(),xAe=hs(),CAe=Ra(),DAe=CAe(function(t,e){var r=this.iterator,n,i;return this.remaining--?IAe(this.next,r,e):(i={done:!0,value:void 0},this.done=!0,n=r.return,n!==void 0?t.resolve(kAe(n,r)).then(function(){return i}):i)});AAe({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new DAe({iterator:FAe(this),remaining:xAe(e)})}});var UAe=P(),jAe=gs().toArray;UAe({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return jAe(this,void 0,[])}});var zAe=P(),$Ae=JO();typeof BigInt=="function"&&zAe({target:"BigInt",stat:!0},{range:function(e,r,n){return new $Ae(e,r,n,"bigint",BigInt(0),BigInt(1))}});var YAe=P(),XAe=z(),JAe=Ke(),QAe=QO(),ZAe=Fe(),V5=Dt(),eIe=XAe.Object,tIe=function(){var e=ZAe("Object","freeze");return e?e(V5(null)):V5(null)};YAe({global:!0},{compositeKey:function(){return JAe(QAe,eIe,arguments).get("object",tIe)}});var rIe=P(),nIe=QO(),G5=Fe(),iIe=Ke();rIe({global:!0},{compositeSymbol:function(){return arguments.length==1&&typeof arguments[0]=="string"?G5("Symbol").for(arguments[0]):iIe(nIe,null,arguments).get("symbol",G5("Symbol"))}});tw();var aIe=P(),oIe=z(),uIe=zr(),sIe=Te(),K5=Tt(),lIe=ae(),Y5=Le(),cIe=ge(),qa=Hu().IteratorPrototype,fIe=de(),X5=cIe("toStringTag"),ZO=oIe.Iterator,J5=fIe||!sIe(ZO)||ZO.prototype!==qa||!lIe(function(){ZO({})}),e1=function(){uIe(this,qa)};Y5(qa,X5)||K5(qa,X5,"Iterator");(J5||!Y5(qa,"constructor")||qa.constructor===Object)&&K5(qa,"constructor",e1);e1.prototype=qa;aIe({global:!0,forced:J5},{Iterator:e1});var wIe=P(),SIe=Ke(),r8=V(),OIe=Ea(),PIe=OIe(function(t){var e=r8(SIe(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return[this.index++,e.value]});wIe({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new PIe({iterator:r8(this),index:0})}});var RIe=P(),qIe=Ke(),EIe=le(),n1=V(),TIe=hs(),AIe=Ea(),IIe=AIe(function(t){for(var e=this.iterator,r=this.next,n,i;this.remaining;)if(this.remaining--,n=n1(EIe(r,e)),i=this.done=!!n.done,i)return;if(n=n1(qIe(r,e,t)),i=this.done=!!n.done,!i)return n.value});RIe({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new IIe({iterator:n1(this),remaining:TIe(e)})}});var kIe=P(),FIe=ye(),xIe=pe(),CIe=V();kIe({target:"Iterator",proto:!0,real:!0},{every:function(e){return CIe(this),xIe(e),!FIe(this,function(r,n){if(!e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var DIe=P(),UIe=Ke(),jIe=pe(),n8=V(),MIe=Ea(),NIe=Jd(),BIe=MIe(function(t){for(var e=this.iterator,r=this.filterer,n=this.next,i,a,o;;){if(i=n8(UIe(n,e,t)),a=this.done=!!i.done,a)return;if(o=i.value,NIe(e,r,o))return o}});DIe({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new BIe({iterator:n8(this),filterer:jIe(e)})}});var LIe=P(),zIe=ye(),$Ie=pe(),HIe=V();LIe({target:"Iterator",proto:!0,real:!0},{find:function(e){return HIe(this),$Ie(e),zIe(this,function(r,n){if(e(r))return n(r)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var WIe=P(),VIe=z(),i1=le(),i8=pe(),yv=V(),GIe=gi(),KIe=Ea(),YIe=Jl(),XIe=VIe.TypeError,JIe=KIe(function(){for(var t=this.iterator,e=this.mapper,r,n,i,a;;)try{if(a=this.innerIterator){if(r=yv(i1(this.innerNext,a)),!r.done)return r.value;this.innerIterator=this.innerNext=null}if(r=yv(i1(this.next,t)),this.done=!!r.done)return;if(n=e(r.value),i=GIe(n),!i)throw XIe(".flatMap callback should return an iterable object");this.innerIterator=a=yv(i1(i,n)),this.innerNext=i8(a.next)}catch(o){YIe(t,"throw",o)}});WIe({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new JIe({iterator:yv(this),mapper:i8(e),innerIterator:null,innerNext:null})}});var QIe=P(),ZIe=ye(),e2e=V();QIe({target:"Iterator",proto:!0,real:!0},{forEach:function(e){ZIe(e2e(this),e,{IS_ITERATOR:!0})}});var t2e=P(),r2e=Ke(),n2e=V(),i2e=xe(),a2e=Zt(),o2e=Hu().IteratorPrototype,u2e=Ea(),s2e=cn(),l2e=gi(),c2e=u2e(function(t){var e=n2e(r2e(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return e.value},!0);t2e({target:"Iterator",stat:!0},{from:function(e){var r=i2e(e),n=l2e(r),i;if(n){if(i=s2e(r,n),a2e(o2e,i))return i}else i=r;return new c2e({iterator:i})}});var f2e=P(),p2e=Ke(),d2e=pe(),a8=V(),h2e=Ea(),v2e=Jd(),y2e=h2e(function(t){var e=this.iterator,r=a8(p2e(this.next,e,t)),n=this.done=!!r.done;if(!n)return v2e(e,this.mapper,r.value)});f2e({target:"Iterator",proto:!0,real:!0},{map:function(e){return new y2e({iterator:a8(this),mapper:d2e(e)})}});var m2e=P(),g2e=z(),b2e=ye(),_2e=pe(),w2e=V(),S2e=g2e.TypeError;m2e({target:"Iterator",proto:!0,real:!0},{reduce:function(e){w2e(this),_2e(e);var r=arguments.length<2,n=r?void 0:arguments[1];if(b2e(this,function(i){r?(r=!1,n=i):n=e(n,i)},{IS_ITERATOR:!0}),r)throw S2e("Reduce of empty iterator with no initial value");return n}});var O2e=P(),P2e=ye(),R2e=pe(),q2e=V();O2e({target:"Iterator",proto:!0,real:!0},{some:function(e){return q2e(this),R2e(e),P2e(this,function(r,n){if(e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var E2e=P(),T2e=Ke(),o8=V(),A2e=hs(),I2e=Ea(),k2e=Jl(),F2e=I2e(function(t){var e=this.iterator;if(!this.remaining--)return this.done=!0,k2e(e,"normal",void 0);var r=o8(T2e(this.next,e,t)),n=this.done=!!r.done;if(!n)return r.value});E2e({target:"Iterator",proto:!0,real:!0},{take:function(e){return new F2e({iterator:o8(this),remaining:A2e(e)})}});var x2e=P(),C2e=ye(),D2e=V(),U2e=[].push;x2e({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return C2e(D2e(this),U2e,{that:e,IS_ITERATOR:!0}),e}});var B2e=P(),L2e=de(),z2e=Kc();B2e({target:"Map",proto:!0,real:!0,forced:L2e},{deleteAll:z2e});var H2e=P(),W2e=de(),V2e=u1();H2e({target:"Map",proto:!0,real:!0,forced:W2e},{emplace:V2e});var K2e=P(),Y2e=de(),X2e=V(),J2e=Ye(),Q2e=hn(),Z2e=ye();K2e({target:"Map",proto:!0,real:!0,forced:Y2e},{every:function(e){var r=X2e(this),n=Q2e(r),i=J2e(e,arguments.length>1?arguments[1]:void 0);return!Z2e(n,function(a,o,u){if(!i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var eke=de(),tke=P(),rke=Fe(),nke=Ye(),ike=le(),ake=pe(),oke=V(),uke=er(),ske=hn(),lke=ye();tke({target:"Map",proto:!0,real:!0,forced:eke},{filter:function(e){var r=oke(this),n=ske(r),i=nke(e,arguments.length>1?arguments[1]:void 0),a=new(uke(r,rke("Map"))),o=ake(a.set);return lke(n,function(u,s){i(s,u,r)&&ike(o,a,u,s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var cke=P(),fke=de(),pke=V(),dke=Ye(),hke=hn(),vke=ye();cke({target:"Map",proto:!0,real:!0,forced:fke},{find:function(e){var r=pke(this),n=hke(r),i=dke(e,arguments.length>1?arguments[1]:void 0);return vke(n,function(a,o,u){if(i(o,a,r))return u(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var yke=P(),mke=de(),gke=V(),bke=Ye(),_ke=hn(),wke=ye();yke({target:"Map",proto:!0,real:!0,forced:mke},{findKey:function(e){var r=gke(this),n=_ke(r),i=bke(e,arguments.length>1?arguments[1]:void 0);return wke(n,function(a,o,u){if(i(o,a,r))return u(a)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var qke=P(),Eke=Yc();qke({target:"Map",stat:!0},{from:Eke});var Tke=P(),s1=le(),Ake=ie(),mv=pe(),Ike=cn(),kke=ye(),Fke=Ake([].push);Tke({target:"Map",stat:!0},{groupBy:function(e,r){mv(r);var n=Ike(e),i=new this,a=mv(i.has),o=mv(i.get),u=mv(i.set);return kke(n,function(s){var l=r(s);s1(a,i,l)?Fke(s1(o,i,l),s):s1(u,i,l,[s])},{IS_ITERATOR:!0}),i}});var xke=de(),Cke=P(),Dke=V(),Uke=hn(),jke=h8(),Mke=ye();Cke({target:"Map",proto:!0,real:!0,forced:xke},{includes:function(e){return Mke(Uke(Dke(this)),function(r,n,i){if(jke(n,e))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Nke=P(),Bke=le(),Lke=ye(),v8=pe();Nke({target:"Map",stat:!0},{keyBy:function(e,r){var n=new this;v8(r);var i=v8(n.set);return Lke(e,function(a){Bke(i,n,r(a),a)}),n}});var zke=P(),$ke=de(),Hke=V(),Wke=hn(),Vke=ye();zke({target:"Map",proto:!0,real:!0,forced:$ke},{keyOf:function(e){return Vke(Wke(Hke(this)),function(r,n,i){if(n===e)return i(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Gke=de(),Kke=P(),Yke=Fe(),Xke=Ye(),Jke=le(),Qke=pe(),Zke=V(),eFe=er(),tFe=hn(),rFe=ye();Kke({target:"Map",proto:!0,real:!0,forced:Gke},{mapKeys:function(e){var r=Zke(this),n=tFe(r),i=Xke(e,arguments.length>1?arguments[1]:void 0),a=new(eFe(r,Yke("Map"))),o=Qke(a.set);return rFe(n,function(u,s){Jke(o,a,i(s,u,r),s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var nFe=de(),iFe=P(),aFe=Fe(),oFe=Ye(),uFe=le(),sFe=pe(),lFe=V(),cFe=er(),fFe=hn(),pFe=ye();iFe({target:"Map",proto:!0,real:!0,forced:nFe},{mapValues:function(e){var r=lFe(this),n=fFe(r),i=oFe(e,arguments.length>1?arguments[1]:void 0),a=new(cFe(r,aFe("Map"))),o=sFe(a.set);return pFe(n,function(u,s){uFe(o,a,u,i(s,u,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var dFe=P(),hFe=de(),vFe=pe(),yFe=V(),mFe=ye();dFe({target:"Map",proto:!0,real:!0,forced:hFe},{merge:function(e){for(var r=yFe(this),n=vFe(r.set),i=arguments.length,a=0;a<i;)mFe(arguments[a++],n,{that:r,AS_ENTRIES:!0});return r}});var bFe=P(),_Fe=Xc();bFe({target:"Map",stat:!0},{of:_Fe});var wFe=P(),SFe=z(),OFe=de(),PFe=V(),RFe=pe(),qFe=hn(),EFe=ye(),TFe=SFe.TypeError;wFe({target:"Map",proto:!0,real:!0,forced:OFe},{reduce:function(e){var r=PFe(this),n=qFe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(RFe(e),EFe(n,function(o,u){i?(i=!1,a=u):a=e(a,u,o,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw TFe("Reduce of empty map with no initial value");return a}});var AFe=P(),IFe=de(),kFe=V(),FFe=Ye(),xFe=hn(),CFe=ye();AFe({target:"Map",proto:!0,real:!0,forced:IFe},{some:function(e){var r=kFe(this),n=xFe(r),i=FFe(e,arguments.length>1?arguments[1]:void 0);return CFe(n,function(a,o,u){if(i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var DFe=de(),UFe=P(),jFe=z(),l1=le(),MFe=V(),Jc=pe(),NFe=jFe.TypeError;UFe({target:"Map",proto:!0,real:!0,forced:DFe},{update:function(e,r){var n=MFe(this),i=Jc(n.get),a=Jc(n.has),o=Jc(n.set),u=arguments.length;Jc(r);var s=l1(a,n,e);if(!s&&u<3)throw NFe("Updating absent value");var l=s?l1(i,n,e):Jc(u>2?arguments[2]:void 0)(e,n);return l1(o,n,e,r(l,e,n)),n}});var $Fe=P(),HFe=de(),WFe=_v();$Fe({target:"Map",proto:!0,real:!0,name:"upsert",forced:HFe},{updateOrInsert:WFe});var VFe=P(),GFe=de(),KFe=_v();VFe({target:"Map",proto:!0,real:!0,forced:GFe},{upsert:KFe});var YFe=P(),XFe=Math.min,JFe=Math.max;YFe({target:"Math",stat:!0},{clamp:function(e,r,n){return XFe(n,JFe(r,e))}});var QFe=P();QFe({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var ZFe=P(),exe=180/Math.PI;ZFe({target:"Math",stat:!0},{degrees:function(e){return e*exe}});var txe=P(),rxe=f1(),nxe=hw();txe({target:"Math",stat:!0},{fscale:function(e,r,n,i,a){return nxe(rxe(e,r,n,i,a))}});var ixe=P();ixe({target:"Math",stat:!0},{iaddh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0}});var axe=P();axe({target:"Math",stat:!0},{imulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>16,l=a>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}});var oxe=P();oxe({target:"Math",stat:!0},{isubh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0}});var uxe=P();uxe({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var sxe=P(),lxe=Math.PI/180;sxe({target:"Math",stat:!0},{radians:function(e){return e*lxe}});var cxe=P(),fxe=f1();cxe({target:"Math",stat:!0},{scale:fxe});var pxe=P(),dxe=z(),hxe=V(),vxe=ww(),yxe=ma(),b8=Ve(),_8="Seeded Random",w8=_8+" Generator",mxe='Math.seededPRNG() argument should have a "seed" field with a finite value.',gxe=b8.set,bxe=b8.getterFor(w8),_xe=dxe.TypeError,wxe=yxe(function(e){gxe(this,{type:w8,seed:e%2147483647})},_8,function(){var e=bxe(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}});pxe({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var r=hxe(e).seed;if(!vxe(r))throw _xe(mxe);return new wxe(r)}});var Sxe=P();Sxe({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&e==0?1/e==-1/0:e<0}});var Oxe=P();Oxe({target:"Math",stat:!0},{umulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>>16,l=a>>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}});var Pxe=P(),p1=z(),wv=ie(),Rxe=Gt(),qxe=Sw(),Sv="Invalid number representation",Exe="Invalid radix",Txe=p1.RangeError,d1=p1.SyntaxError,Axe=p1.TypeError,S8=/^[\da-z]+$/,Ixe=wv("".charAt),kxe=wv(S8.exec),Fxe=wv(1 .toString),xxe=wv("".slice);Pxe({target:"Number",stat:!0},{fromString:function(e,r){var n=1,i,a;if(typeof e!="string")throw Axe(Sv);if(!e.length||Ixe(e,0)=="-"&&(n=-1,e=xxe(e,1),!e.length))throw d1(Sv);if(i=r===void 0?10:Rxe(r),i<2||i>36)throw Txe(Exe);if(!kxe(S8,e)||Fxe(a=qxe(e,i),i)!==e)throw d1(Sv);return n*a}});var Cxe=P(),Dxe=JO();Cxe({target:"Number",stat:!0},{range:function(e,r,n){return new Dxe(e,r,n,"number",0,1)}});O8();var Hxe=P(),Wxe=Ov();Hxe({target:"Object",stat:!0},{iterateEntries:function(e){return new Wxe(e,"entries")}});var Vxe=P(),Gxe=Ov();Vxe({target:"Object",stat:!0},{iterateKeys:function(e){return new Gxe(e,"keys")}});var Kxe=P(),Yxe=Ov();Kxe({target:"Object",stat:!0},{iterateValues:function(e){return new Yxe(e,"values")}});var Xxe=P(),Jxe=z(),Qc=le(),Zc=Ee(),Qxe=ba(),E8=pe(),T8=Te(),A8=yo(),h1=V(),Zxe=_e(),eCe=zr(),I8=Ne().f,tCe=ct(),Pv=fn(),rCe=cn(),ef=xt(),nCe=ye(),bs=Qw(),iCe=ge(),k8=Ve(),F8=iCe("observable"),v1="Observable",x8="Subscription",C8="SubscriptionObserver",y1=k8.getterFor,m1=k8.set,aCe=y1(v1),D8=y1(x8),Rv=y1(C8),oCe=Jxe.Array,U8=function(e){this.observer=h1(e),this.cleanup=void 0,this.subscriptionObserver=void 0};U8.prototype={type:x8,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){bs(r)}}},close:function(){if(!Zc){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var g1=function(e,r){var n=m1(this,new U8(e)),i;Zc||(this.closed=!1);try{(i=ef(e,"start"))&&Qc(i,e,this)}catch(s){bs(s)}if(!n.isClosed()){var a=n.subscriptionObserver=new b1(n);try{var o=r(a),u=o;o!=null&&(n.cleanup=T8(o.unsubscribe)?function(){u.unsubscribe()}:E8(o))}catch(s){a.error(s);return}n.isClosed()&&n.clean()}};g1.prototype=Pv({},{unsubscribe:function(){var e=D8(this);e.isClosed()||(e.close(),e.clean())}});Zc&&I8(g1.prototype,"closed",{configurable:!0,get:function(){return D8(this).isClosed()}});var b1=function(e){m1(this,{type:C8,subscriptionState:e}),Zc||(this.closed=!1)};b1.prototype=Pv({},{next:function(e){var r=Rv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=ef(n,"next");i&&Qc(i,n,e)}catch(a){bs(a)}}},error:function(e){var r=Rv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=ef(n,"error");i?Qc(i,n,e):bs(e)}catch(a){bs(a)}r.clean()}},complete:function(){var e=Rv(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=ef(r,"complete");n&&Qc(n,r)}catch(i){bs(i)}e.clean()}}});Zc&&I8(b1.prototype,"closed",{configurable:!0,get:function(){return Rv(this).subscriptionState.isClosed()}});var tf=function(e){eCe(this,_1),m1(this,{type:v1,subscriber:E8(e)})},_1=tf.prototype;Pv(_1,{subscribe:function(e){var r=arguments.length;return new g1(T8(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:Zxe(e)?e:{},aCe(this).subscriber)}});Pv(tf,{from:function(e){var r=A8(this)?this:tf,n=ef(h1(e),F8);if(n){var i=h1(Qc(n,e));return i.constructor===r?i:new r(function(o){return i.subscribe(o)})}var a=rCe(e);return new r(function(o){nCe(a,function(u,s){if(o.next(u),o.closed)return s()},{IS_ITERATOR:!0,INTERRUPTED:!0}),o.complete()})},of:function(){for(var e=A8(this)?this:tf,r=arguments.length,n=oCe(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(a){for(var o=0;o<r;o++)if(a.next(n[o]),a.closed)return;a.complete()})}});tCe(_1,F8,function(){return this});Xxe({global:!0},{Observable:tf});Qxe(v1);sS();lS();var uCe=P(),sCe=Qu(),lCe=Oc();uCe({target:"Promise",stat:!0},{try:function(e){var r=sCe.f(this),n=lCe(e);return(n.error?r.reject:r.resolve)(n.value),r.promise}});var bCe=P(),L8=$n(),_Ce=V(),wCe=L8.toKey,SCe=L8.set;bCe({target:"Reflect",stat:!0},{defineMetadata:function(e,r,n){var i=arguments.length<4?void 0:wCe(arguments[3]);SCe(e,r,_Ce(n),i)}});var OCe=P(),S1=$n(),PCe=V(),RCe=S1.toKey,qCe=S1.getMap,z8=S1.store;OCe({target:"Reflect",stat:!0},{deleteMetadata:function(e,r){var n=arguments.length<3?void 0:RCe(arguments[2]),i=qCe(PCe(r),n,!1);if(i===void 0||!i.delete(e))return!1;if(i.size)return!0;var a=z8.get(r);return a.delete(n),!!a.size||z8.delete(r)}});var ECe=P(),O1=$n(),TCe=V(),ACe=Ut(),ICe=O1.has,kCe=O1.get,FCe=O1.toKey,xCe=function t(e,r,n){var i=ICe(e,r,n);if(i)return kCe(e,r,n);var a=ACe(r);return a!==null?t(e,a,n):void 0};ECe({target:"Reflect",stat:!0},{getMetadata:function(e,r){var n=arguments.length<3?void 0:FCe(arguments[2]);return xCe(e,TCe(r),n)}});var CCe=P(),$8=ie(),H8=$n(),DCe=V(),UCe=Ut(),jCe=cv(),MCe=$8(jCe),NCe=$8([].concat),BCe=H8.keys,LCe=H8.toKey,zCe=function t(e,r){var n=BCe(e,r),i=UCe(e);if(i===null)return n;var a=t(i,r);return a.length?n.length?MCe(NCe(n,a)):a:n};CCe({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var r=arguments.length<2?void 0:LCe(arguments[1]);return zCe(DCe(e),r)}});var $Ce=P(),W8=$n(),HCe=V(),WCe=W8.get,VCe=W8.toKey;$Ce({target:"Reflect",stat:!0},{getOwnMetadata:function(e,r){var n=arguments.length<3?void 0:VCe(arguments[2]);return WCe(e,HCe(r),n)}});var GCe=P(),V8=$n(),KCe=V(),YCe=V8.keys,XCe=V8.toKey;GCe({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var r=arguments.length<2?void 0:XCe(arguments[1]);return YCe(KCe(e),r)}});var JCe=P(),G8=$n(),QCe=V(),ZCe=Ut(),e3e=G8.has,t3e=G8.toKey,r3e=function t(e,r,n){var i=e3e(e,r,n);if(i)return!0;var a=ZCe(r);return a!==null?t(e,a,n):!1};JCe({target:"Reflect",stat:!0},{hasMetadata:function(e,r){var n=arguments.length<3?void 0:t3e(arguments[2]);return r3e(e,QCe(r),n)}});var n3e=P(),K8=$n(),i3e=V(),a3e=K8.has,o3e=K8.toKey;n3e({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,r){var n=arguments.length<3?void 0:o3e(arguments[2]);return a3e(e,i3e(r),n)}});var u3e=P(),Y8=$n(),s3e=V(),l3e=Y8.toKey,c3e=Y8.set;u3e({target:"Reflect",stat:!0},{metadata:function(e,r){return function(i,a){c3e(e,r,s3e(i),l3e(a))}}});var h3e=P(),v3e=de(),y3e=P1();h3e({target:"Set",proto:!0,real:!0,forced:v3e},{addAll:y3e});var m3e=P(),g3e=de(),b3e=Kc();m3e({target:"Set",proto:!0,real:!0,forced:g3e},{deleteAll:b3e});var _3e=de(),w3e=P(),S3e=Fe(),O3e=le(),P3e=pe(),R3e=V(),q3e=er(),E3e=ye();w3e({target:"Set",proto:!0,real:!0,forced:_3e},{difference:function(e){var r=R3e(this),n=new(q3e(r,S3e("Set")))(r),i=P3e(n.delete);return E3e(e,function(a){O3e(i,n,a)}),n}});var A3e=P(),I3e=de(),k3e=V(),F3e=Ye(),x3e=Ta(),C3e=ye();A3e({target:"Set",proto:!0,real:!0,forced:I3e},{every:function(e){var r=k3e(this),n=x3e(r),i=F3e(e,arguments.length>1?arguments[1]:void 0);return!C3e(n,function(a,o){if(!i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var D3e=de(),U3e=P(),j3e=Fe(),M3e=le(),N3e=pe(),B3e=V(),L3e=Ye(),z3e=er(),$3e=Ta(),H3e=ye();U3e({target:"Set",proto:!0,real:!0,forced:D3e},{filter:function(e){var r=B3e(this),n=$3e(r),i=L3e(e,arguments.length>1?arguments[1]:void 0),a=new(z3e(r,j3e("Set"))),o=N3e(a.add);return H3e(n,function(u){i(u,u,r)&&M3e(o,a,u)},{IS_ITERATOR:!0}),a}});var W3e=P(),V3e=de(),G3e=V(),K3e=Ye(),Y3e=Ta(),X3e=ye();W3e({target:"Set",proto:!0,real:!0,forced:V3e},{find:function(e){var r=G3e(this),n=Y3e(r),i=K3e(e,arguments.length>1?arguments[1]:void 0);return X3e(n,function(a,o){if(i(a,a,r))return o(a)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var J3e=P(),Q3e=Yc();J3e({target:"Set",stat:!0},{from:Q3e});var Z3e=de(),eDe=P(),tDe=Fe(),Q8=le(),Z8=pe(),rDe=V(),nDe=er(),iDe=ye();eDe({target:"Set",proto:!0,real:!0,forced:Z3e},{intersection:function(e){var r=rDe(this),n=new(nDe(r,tDe("Set"))),i=Z8(r.has),a=Z8(n.add);return iDe(e,function(o){Q8(i,r,o)&&Q8(a,n,o)}),n}});var aDe=de(),oDe=P(),uDe=le(),sDe=pe(),lDe=V(),cDe=ye();oDe({target:"Set",proto:!0,real:!0,forced:aDe},{isDisjointFrom:function(e){var r=lDe(this),n=sDe(r.has);return!cDe(e,function(i,a){if(uDe(n,r,i)===!0)return a()},{INTERRUPTED:!0}).stopped}});var fDe=de(),pDe=P(),dDe=Fe(),hDe=le(),vDe=pe(),yDe=Te(),mDe=V(),gDe=cn(),bDe=ye();pDe({target:"Set",proto:!0,real:!0,forced:fDe},{isSubsetOf:function(e){var r=gDe(this),n=mDe(e),i=n.has;return yDe(i)||(n=new(dDe("Set"))(e),i=vDe(n.has)),!bDe(r,function(a,o){if(hDe(i,n,a)===!1)return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var _De=de(),wDe=P(),SDe=le(),ODe=pe(),PDe=V(),RDe=ye();wDe({target:"Set",proto:!0,real:!0,forced:_De},{isSupersetOf:function(e){var r=PDe(this),n=ODe(r.has);return!RDe(e,function(i,a){if(SDe(n,r,i)===!1)return a()},{INTERRUPTED:!0}).stopped}});var qDe=de(),EDe=P(),TDe=ie(),ADe=V(),IDe=Be(),kDe=Ta(),FDe=ye(),xDe=TDe([].join),CDe=[].push;EDe({target:"Set",proto:!0,real:!0,forced:qDe},{join:function(e){var r=ADe(this),n=kDe(r),i=e===void 0?",":IDe(e),a=[];return FDe(n,CDe,{that:a,IS_ITERATOR:!0}),xDe(a,i)}});var DDe=de(),UDe=P(),jDe=Fe(),MDe=Ye(),NDe=le(),BDe=pe(),LDe=V(),zDe=er(),$De=Ta(),HDe=ye();UDe({target:"Set",proto:!0,real:!0,forced:DDe},{map:function(e){var r=LDe(this),n=$De(r),i=MDe(e,arguments.length>1?arguments[1]:void 0),a=new(zDe(r,jDe("Set"))),o=BDe(a.add);return HDe(n,function(u){NDe(o,a,i(u,u,r))},{IS_ITERATOR:!0}),a}});var WDe=P(),VDe=Xc();WDe({target:"Set",stat:!0},{of:VDe});var GDe=P(),KDe=z(),YDe=de(),XDe=pe(),JDe=V(),QDe=Ta(),ZDe=ye(),eUe=KDe.TypeError;GDe({target:"Set",proto:!0,real:!0,forced:YDe},{reduce:function(e){var r=JDe(this),n=QDe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(XDe(e),ZDe(n,function(o){i?(i=!1,a=o):a=e(a,o,o,r)},{IS_ITERATOR:!0}),i)throw eUe("Reduce of empty set with no initial value");return a}});var tUe=P(),rUe=de(),nUe=V(),iUe=Ye(),aUe=Ta(),oUe=ye();tUe({target:"Set",proto:!0,real:!0,forced:rUe},{some:function(e){var r=nUe(this),n=aUe(r),i=iUe(e,arguments.length>1?arguments[1]:void 0);return oUe(n,function(a,o){if(i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var uUe=de(),sUe=P(),lUe=Fe(),eB=le(),tB=pe(),cUe=V(),fUe=er(),pUe=ye();sUe({target:"Set",proto:!0,real:!0,forced:uUe},{symmetricDifference:function(e){var r=cUe(this),n=new(fUe(r,lUe("Set")))(r),i=tB(n.delete),a=tB(n.add);return pUe(e,function(o){eB(i,n,o)||eB(a,n,o)}),n}});var dUe=P(),hUe=de(),vUe=Fe(),yUe=pe(),mUe=V(),gUe=er(),bUe=ye();dUe({target:"Set",proto:!0,real:!0,forced:hUe},{union:function(e){var r=mUe(this),n=new(gUe(r,vUe("Set")))(r);return bUe(e,yUe(n.add),{that:n}),n}});var _Ue=P(),wUe=Ao().charAt,SUe=ae(),OUe=SUe(function(){return"\uD842\uDFB7".at(0)!=="\uD842\uDFB7"});_Ue({target:"String",proto:!0,forced:OUe},{at:function(e){return wUe(this,e)}});var PUe=P(),RUe=ma(),qUe=Et(),EUe=Be(),rB=Ve(),nB=Ao(),TUe=nB.codeAt,AUe=nB.charAt,iB="String Iterator",IUe=rB.set,kUe=rB.getterFor(iB),FUe=RUe(function(e){IUe(this,{type:iB,string:e,index:0})},"String",function(){var e=kUe(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=AUe(r,n),e.index+=i.length,{value:{codePoint:TUe(i,0),position:n},done:!1})});PUe({target:"String",proto:!0},{codePoints:function(){return new FUe(EUe(qUe(this)))}});NS();KS();var xUe=at();xUe("asyncDispose");var CUe=at();CUe("dispose");var DUe=at();DUe("matcher");var UUe=at();UUe("metadata");var jUe=at();jUe("observable");var MUe=at();MUe("patternMatch");var NUe=at();NUe("replaceAll");oB();var uB=Ae(),HUe=At().filterReject,WUe=Qh(),VUe=uB.aTypedArray,GUe=uB.exportTypedArrayMethod;GUe("filterOut",function(e){var r=HUe(VUe(this),e,arguments.length>1?arguments[1]:void 0);return WUe(this,r)});var sB=Ae(),KUe=Lc().findLast,YUe=sB.aTypedArray,XUe=sB.exportTypedArrayMethod;XUe("findLast",function(e){return KUe(YUe(this),e,arguments.length>1?arguments[1]:void 0)});var lB=Ae(),JUe=Lc().findLastIndex,QUe=lB.aTypedArray,ZUe=lB.exportTypedArrayMethod;ZUe("findLastIndex",function(e){return JUe(QUe(this),e,arguments.length>1?arguments[1]:void 0)});var eje=ie(),cB=Ae(),tje=cv(),rje=Qh(),nje=cB.aTypedArray,ije=cB.exportTypedArrayMethod,aje=eje(tje);ije("uniqueBy",function(e){return rje(this,aje(nje(this),e))});var oje=P(),uje=de(),sje=Kc();oje({target:"WeakMap",proto:!0,real:!0,forced:uje},{deleteAll:sje});var lje=P(),cje=Yc();lje({target:"WeakMap",stat:!0},{from:cje});var fje=P(),pje=Xc();fje({target:"WeakMap",stat:!0},{of:pje});var dje=P(),hje=de(),vje=u1();dje({target:"WeakMap",proto:!0,real:!0,forced:hje},{emplace:vje});var yje=P(),mje=de(),gje=_v();yje({target:"WeakMap",proto:!0,real:!0,forced:mje},{upsert:gje});var bje=P(),_je=de(),wje=P1();bje({target:"WeakSet",proto:!0,real:!0,forced:_je},{addAll:wje});var Sje=P(),Oje=de(),Pje=Kc();Sje({target:"WeakSet",proto:!0,real:!0,forced:Oje},{deleteAll:Pje});var Rje=P(),qje=Yc();Rje({target:"WeakSet",stat:!0},{from:qje});var Eje=P(),Tje=Xc();Eje({target:"WeakSet",stat:!0},{of:Tje});var yB=z(),mB=R1(),xje=E1(),T1=vB(),Cje=Tt(),gB=function(e){if(e&&e.forEach!==T1)try{Cje(e,"forEach",T1)}catch(r){e.forEach=T1}};for(Ev in mB)mB[Ev]&&gB(yB[Ev]&&yB[Ev].prototype);var Ev;gB(xje);var bB=z(),_B=R1(),Dje=E1(),nf=rc(),A1=Tt(),wB=ge(),I1=wB("iterator"),SB=wB("toStringTag"),k1=nf.values,OB=function(e,r){if(e){if(e[I1]!==k1)try{A1(e,I1,k1)}catch(i){e[I1]=k1}if(e[SB]||A1(e,SB,r),_B[r]){for(var n in nf)if(e[n]!==nf[n])try{A1(e,n,nf[n])}catch(i){e[n]=nf[n]}}}};for(Tv in _B)OB(bB[Tv]&&bB[Tv].prototype,Tv);var Tv;OB(Dje,"DOMTokenList");var Uje=P(),jje=z(),Mje=Xw(),Nje=gc(),Bje=jje.process;Uje({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var r=Nje&&Bje.domain;Mje(r?r.bind(e):e)}});function Cv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cv=function(r){return typeof r}:Cv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cv(t)}kS();var AMe=P(),G1=Ee(),IMe=F1(),K1=z(),t6=Ye(),Hr=ie(),kMe=kd(),Dv=ct(),FMe=zr(),Y1=Le(),X1=Ew(),Ss=x_(),yn=vo(),xMe=Ao().codeAt,CMe=xB(),Ti=Be(),DMe=Br(),r6=V1(),n6=Ve(),UMe=n6.set,Uv=n6.getterFor("URL"),jMe=r6.URLSearchParams,MMe=r6.getState,lf=K1.URL,J1=K1.TypeError,jv=K1.parseInt,NMe=Math.floor,i6=Math.pow,Wr=Hr("".charAt),mn=Hr(/./.exec),cf=Hr([].join),BMe=Hr(1 .toString),LMe=Hr([].pop),Os=Hr([].push),a6=Hr("".replace),zMe=Hr([].shift),$Me=Hr("".split),ff=Hr("".slice),Mv=Hr("".toLowerCase),HMe=Hr([].unshift),WMe="Invalid authority",Q1="Invalid scheme",jo="Invalid host",o6="Invalid port",u6=/[a-z]/i,VMe=/[\d+-.a-z]/i,Z1=/\d/,GMe=/^0x/i,KMe=/^[0-7]+$/,YMe=/^\d+$/,s6=/^[\da-f]+$/i,XMe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,JMe=/[\0\t\n\r #/:<>?@[\\\]^|]/,QMe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ZMe=/[\t\n\r]/g,Vr,eNe=function(e){var r=$Me(e,"."),n,i,a,o,u,s,l;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(i=[],a=0;a<n;a++){if(o=r[a],o=="")return e;if(u=10,o.length>1&&Wr(o,0)=="0"&&(u=mn(GMe,o)?16:8,o=ff(o,u==8?1:2)),o==="")s=0;else{if(!mn(u==10?YMe:u==8?KMe:s6,o))return e;s=jv(o,u)}Os(i,s)}for(a=0;a<n;a++)if(s=i[a],a==n-1){if(s>=i6(256,5-n))return null}else if(s>255)return null;for(l=LMe(i),a=0;a<i.length;a++)l+=i[a]*i6(256,3-a);return l},tNe=function(e){var r=[0,0,0,0,0,0,0,0],n=0,i=null,a=0,o,u,s,l,c,f,p,d=function(){return Wr(e,a)};if(d()==":"){if(Wr(e,1)!=":")return;a+=2,n++,i=n}for(;d();){if(n==8)return;if(d()==":"){if(i!==null)return;a++,n++,i=n;continue}for(o=u=0;u<4&&mn(s6,d());)o=o*16+jv(d(),16),a++,u++;if(d()=="."){if(u==0||(a-=u,n>6))return;for(s=0;d();){if(l=null,s>0)if(d()=="."&&s<4)a++;else return;if(!mn(Z1,d()))return;for(;mn(Z1,d());){if(c=jv(d(),10),l===null)l=c;else{if(l==0)return;l=l*10+c}if(l>255)return;a++}r[n]=r[n]*256+l,s++,(s==2||s==4)&&n++}if(s!=4)return;break}else if(d()==":"){if(a++,!d())return}else if(d())return;r[n++]=o}if(i!==null)for(f=n-i,n=7;n!=0&&f>0;)p=r[n],r[n--]=r[i+f-1],r[i+--f]=p;else if(n!=8)return;return r},rNe=function(e){for(var r=null,n=1,i=null,a=0,o=0;o<8;o++)e[o]!==0?(a>n&&(r=i,n=a),i=null,a=0):(i===null&&(i=o),++a);return a>n&&(r=i,n=a),r},pf=function(e){var r,n,i,a;if(typeof e=="number"){for(r=[],n=0;n<4;n++)HMe(r,e%256),e=NMe(e/256);return cf(r,".")}else if(Cv(e)=="object"){for(r="",i=rNe(e),n=0;n<8;n++)a&&e[n]===0||(a&&(a=!1),i===n?(r+=n?":":"::",a=!0):(r+=BMe(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},Nv={},l6=X1({},Nv,{" ":1,'"':1,"<":1,">":1,"`":1}),c6=X1({},l6,{"#":1,"?":1,"{":1,"}":1}),eP=X1({},c6,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ia=function(e,r){var n=xMe(e,0);return n>32&&n<127&&!Y1(r,e)?e:encodeURIComponent(e)},Bv={ftp:21,file:null,http:80,https:443,ws:80,wss:443},df=function(e,r){var n;return e.length==2&&mn(u6,Wr(e,0))&&((n=Wr(e,1))==":"||!r&&n=="|")},f6=function(e){var r;return e.length>1&&df(ff(e,0,2))&&(e.length==2||(r=Wr(e,2))==="/"||r==="\\"||r==="?"||r==="#")},nNe=function(e){return e==="."||Mv(e)==="%2e"},iNe=function(e){return e=Mv(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},tP={},p6={},rP={},d6={},h6={},nP={},v6={},y6={},Lv={},zv={},iP={},aP={},oP={},uP={},m6={},sP={},Ps={},Wn={},g6={},Mo={},Ai={},b6=function t(e,r,n){var i=Ti(e),a,o,u;if(r){if(o=this.parse(i),o)throw J1(o);this.searchParams=null}else{if(n!==void 0&&(a=new t(n,!0)),o=this.parse(i,null,a),o)throw J1(o);u=MMe(new jMe),u.bindURL(this),this.searchParams=u}};b6.prototype={type:"URL",parse:function(e,r,n){var i=this,a=r||tP,o=0,u="",s=!1,l=!1,c=!1,f,p,d,v;for(e=Ti(e),r||(i.scheme="",i.username="",i.password="",i.host=null,i.port=null,i.path=[],i.query=null,i.fragment=null,i.cannotBeABaseURL=!1,e=a6(e,QMe,"")),e=a6(e,ZMe,""),f=Ss(e);o<=f.length;){switch(p=f[o],a){case tP:if(p&&mn(u6,p))u+=Mv(p),a=p6;else{if(r)return Q1;a=rP;continue}break;case p6:if(p&&(mn(VMe,p)||p=="+"||p=="-"||p=="."))u+=Mv(p);else if(p==":"){if(r&&(i.isSpecial()!=Y1(Bv,u)||u=="file"&&(i.includesCredentials()||i.port!==null)||i.scheme=="file"&&!i.host))return;if(i.scheme=u,r){i.isSpecial()&&Bv[i.scheme]==i.port&&(i.port=null);return}u="",i.scheme=="file"?a=uP:i.isSpecial()&&n&&n.scheme==i.scheme?a=d6:i.isSpecial()?a=y6:f[o+1]=="/"?(a=h6,o++):(i.cannotBeABaseURL=!0,Os(i.path,""),a=g6)}else{if(r)return Q1;u="",a=rP,o=0;continue}break;case rP:if(!n||n.cannotBeABaseURL&&p!="#")return Q1;if(n.cannotBeABaseURL&&p=="#"){i.scheme=n.scheme,i.path=yn(n.path),i.query=n.query,i.fragment="",i.cannotBeABaseURL=!0,a=Ai;break}a=n.scheme=="file"?uP:nP;continue;case d6:if(p=="/"&&f[o+1]=="/")a=Lv,o++;else{a=nP;continue}break;case h6:if(p=="/"){a=zv;break}else{a=Wn;continue}case nP:if(i.scheme=n.scheme,p==Vr)i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=yn(n.path),i.query=n.query;else if(p=="/"||p=="\\"&&i.isSpecial())a=v6;else if(p=="?")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=yn(n.path),i.query="",a=Mo;else if(p=="#")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=yn(n.path),i.query=n.query,i.fragment="",a=Ai;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=yn(n.path),i.path.length--,a=Wn;continue}break;case v6:if(i.isSpecial()&&(p=="/"||p=="\\"))a=Lv;else if(p=="/")a=zv;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,a=Wn;continue}break;case y6:if(a=Lv,p!="/"||Wr(u,o+1)!="/")continue;o++;break;case Lv:if(p!="/"&&p!="\\"){a=zv;continue}break;case zv:if(p=="@"){s&&(u="%40"+u),s=!0,d=Ss(u);for(var m=0;m<d.length;m++){var g=d[m];if(g==":"&&!c){c=!0;continue}var w=Ia(g,eP);c?i.password+=w:i.username+=w}u=""}else if(p==Vr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(s&&u=="")return WMe;o-=Ss(u).length+1,u="",a=iP}else u+=p;break;case iP:case aP:if(r&&i.scheme=="file"){a=sP;continue}else if(p==":"&&!l){if(u=="")return jo;if(v=i.parseHost(u),v)return v;if(u="",a=oP,r==aP)return}else if(p==Vr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(i.isSpecial()&&u=="")return jo;if(r&&u==""&&(i.includesCredentials()||i.port!==null))return;if(v=i.parseHost(u),v)return v;if(u="",a=Ps,r)return;continue}else p=="["?l=!0:p=="]"&&(l=!1),u+=p;break;case oP:if(mn(Z1,p))u+=p;else if(p==Vr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()||r){if(u!=""){var _=jv(u,10);if(_>65535)return o6;i.port=i.isSpecial()&&_===Bv[i.scheme]?null:_,u=""}if(r)return;a=Ps;continue}else return o6;break;case uP:if(i.scheme="file",p=="/"||p=="\\")a=m6;else if(n&&n.scheme=="file")if(p==Vr)i.host=n.host,i.path=yn(n.path),i.query=n.query;else if(p=="?")i.host=n.host,i.path=yn(n.path),i.query="",a=Mo;else if(p=="#")i.host=n.host,i.path=yn(n.path),i.query=n.query,i.fragment="",a=Ai;else{f6(cf(yn(f,o),""))||(i.host=n.host,i.path=yn(n.path),i.shortenPath()),a=Wn;continue}else{a=Wn;continue}break;case m6:if(p=="/"||p=="\\"){a=sP;break}n&&n.scheme=="file"&&!f6(cf(yn(f,o),""))&&(df(n.path[0],!0)?Os(i.path,n.path[0]):i.host=n.host),a=Wn;continue;case sP:if(p==Vr||p=="/"||p=="\\"||p=="?"||p=="#"){if(!r&&df(u))a=Wn;else if(u==""){if(i.host="",r)return;a=Ps}else{if(v=i.parseHost(u),v)return v;if(i.host=="localhost"&&(i.host=""),r)return;u="",a=Ps}continue}else u+=p;break;case Ps:if(i.isSpecial()){if(a=Wn,p!="/"&&p!="\\")continue}else if(!r&&p=="?")i.query="",a=Mo;else if(!r&&p=="#")i.fragment="",a=Ai;else if(p!=Vr&&(a=Wn,p!="/"))continue;break;case Wn:if(p==Vr||p=="/"||p=="\\"&&i.isSpecial()||!r&&(p=="?"||p=="#")){if(iNe(u)?(i.shortenPath(),p!="/"&&!(p=="\\"&&i.isSpecial())&&Os(i.path,"")):nNe(u)?p!="/"&&!(p=="\\"&&i.isSpecial())&&Os(i.path,""):(i.scheme=="file"&&!i.path.length&&df(u)&&(i.host&&(i.host=""),u=Wr(u,0)+":"),Os(i.path,u)),u="",i.scheme=="file"&&(p==Vr||p=="?"||p=="#"))for(;i.path.length>1&&i.path[0]==="";)zMe(i.path);p=="?"?(i.query="",a=Mo):p=="#"&&(i.fragment="",a=Ai)}else u+=Ia(p,c6);break;case g6:p=="?"?(i.query="",a=Mo):p=="#"?(i.fragment="",a=Ai):p!=Vr&&(i.path[0]+=Ia(p,Nv));break;case Mo:!r&&p=="#"?(i.fragment="",a=Ai):p!=Vr&&(p=="'"&&i.isSpecial()?i.query+="%27":p=="#"?i.query+="%23":i.query+=Ia(p,Nv));break;case Ai:p!=Vr&&(i.fragment+=Ia(p,l6));break}o++}},parseHost:function(e){var r,n,i;if(Wr(e,0)=="["){if(Wr(e,e.length-1)!="]"||(r=tNe(ff(e,1,-1)),!r))return jo;this.host=r}else if(this.isSpecial()){if(e=CMe(e),mn(XMe,e)||(r=eNe(e),r===null))return jo;this.host=r}else{if(mn(JMe,e))return jo;for(r="",n=Ss(e),i=0;i<n.length;i++)r+=Ia(n[i],Nv);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return Y1(Bv,this.scheme)},shortenPath:function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!df(e[0],!0))&&e.length--},serialize:function(){var e=this,r=e.scheme,n=e.username,i=e.password,a=e.host,o=e.port,u=e.path,s=e.query,l=e.fragment,c=r+":";return a!==null?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=pf(a),o!==null&&(c+=":"+o)):r=="file"&&(c+="//"),c+=e.cannotBeABaseURL?u[0]:u.length?"/"+cf(u,"/"):"",s!==null&&(c+="?"+s),l!==null&&(c+="#"+l),c},setHref:function(e){var r=this.parse(e);if(r)throw J1(r);this.searchParams.update()},getOrigin:function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new Rs(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+pf(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Ti(e)+":",tP)},getUsername:function(){return this.username},setUsername:function(e){var r=Ss(Ti(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Ia(r[n],eP)}},getPassword:function(){return this.password},setPassword:function(e){var r=Ss(Ti(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Ia(r[n],eP)}},getHost:function(){var e=this.host,r=this.port;return e===null?"":r===null?pf(e):pf(e)+":"+r},setHost:function(e){this.cannotBeABaseURL||this.parse(e,iP)},getHostname:function(){var e=this.host;return e===null?"":pf(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,aP)},getPort:function(){var e=this.port;return e===null?"":Ti(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Ti(e),e==""?this.port=null:this.parse(e,oP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+cf(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ps))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Ti(e),e==""?this.query=null:(Wr(e,0)=="?"&&(e=ff(e,1)),this.query="",this.parse(e,Mo)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Ti(e),e==""){this.fragment=null;return}Wr(e,0)=="#"&&(e=ff(e,1)),this.fragment="",this.parse(e,Ai)},update:function(){this.query=this.searchParams.serialize()||null}};var Rs=function(e){var r=FMe(this,$v),n=arguments.length>1?arguments[1]:void 0,i=UMe(r,new b6(e,!1,n));G1||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},$v=Rs.prototype,Gr=function(e,r){return{get:function(){return Uv(this)[e]()},set:r&&function(n){return Uv(this)[r](n)},configurable:!0,enumerable:!0}};G1&&kMe($v,{href:Gr("serialize","setHref"),origin:Gr("getOrigin"),protocol:Gr("getProtocol","setProtocol"),username:Gr("getUsername","setUsername"),password:Gr("getPassword","setPassword"),host:Gr("getHost","setHost"),hostname:Gr("getHostname","setHostname"),port:Gr("getPort","setPort"),pathname:Gr("getPathname","setPathname"),search:Gr("getSearch","setSearch"),searchParams:Gr("getSearchParams"),hash:Gr("getHash","setHash")});Dv($v,"toJSON",function(){return Uv(this).serialize()},{enumerable:!0});Dv($v,"toString",function(){return Uv(this).serialize()},{enumerable:!0});lf&&(lP=lf.createObjectURL,cP=lf.revokeObjectURL,lP&&Dv(Rs,"createObjectURL",t6(lP,lf)),cP&&Dv(Rs,"revokeObjectURL",t6(cP,lf)));var lP,cP;DMe(Rs,"URL");AMe({global:!0,forced:!IMe,sham:!G1},{URL:Rs});var aNe=P(),oNe=le();aNe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return oNe(URL.prototype.toString,this)}});var Rwt=Nr(V1());w6();S6();O6();var qot=P6();typeof window.ResizeObserver!="function"&&(window.ResizeObserver=qot);R6();wee();})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
